function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n,i,r,o,s,a,l,c,u,m,h,d,p,f,_,y,v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},g={},b={},x=v.parcelRequireae45;null==x&&((x=function(e){if(e in g)return g[e].exports;if(e in b){var t=b[e];delete b[e];var n={id:e,exports:{}};return g[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){b[e]=t},v.parcelRequireae45=x),x.register("1b2ls",function(t,n){e(t.exports,"Fragment",()=>i,e=>i=e),e(t.exports,"jsx",()=>r,e=>r=e),e(t.exports,"jsxs",()=>o,e=>o=e);var i,r,o,s=x("acw62"),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var i,r={},o=null,s=null;for(i in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)c.call(t,i)&&!m.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:a,type:e,key:o,ref:s,props:r,_owner:u.current}}i=l,r=h,o=h}),x.register("acw62",function(e,t){e.exports=x("2pUnB")}),x.register("2pUnB",function(t,n){e(t.exports,"Children",()=>i,e=>i=e),e(t.exports,"Component",()=>r,e=>r=e),e(t.exports,"Fragment",()=>o,e=>o=e),e(t.exports,"Profiler",()=>s,e=>s=e),e(t.exports,"PureComponent",()=>a,e=>a=e),e(t.exports,"StrictMode",()=>l,e=>l=e),e(t.exports,"Suspense",()=>c,e=>c=e),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>u,e=>u=e),e(t.exports,"cloneElement",()=>m,e=>m=e),e(t.exports,"createContext",()=>h,e=>h=e),e(t.exports,"createElement",()=>d,e=>d=e),e(t.exports,"createFactory",()=>p,e=>p=e),e(t.exports,"createRef",()=>f,e=>f=e),e(t.exports,"forwardRef",()=>_,e=>_=e),e(t.exports,"isValidElement",()=>y,e=>y=e),e(t.exports,"lazy",()=>v,e=>v=e),e(t.exports,"memo",()=>g,e=>g=e),e(t.exports,"startTransition",()=>b,e=>b=e),e(t.exports,"unstable_act",()=>x,e=>x=e),e(t.exports,"useCallback",()=>A,e=>A=e),e(t.exports,"useContext",()=>w,e=>w=e),e(t.exports,"useDebugValue",()=>B,e=>B=e),e(t.exports,"useDeferredValue",()=>V,e=>V=e),e(t.exports,"useEffect",()=>C,e=>C=e),e(t.exports,"useId",()=>S,e=>S=e),e(t.exports,"useImperativeHandle",()=>k,e=>k=e),e(t.exports,"useInsertionEffect",()=>P,e=>P=e),e(t.exports,"useLayoutEffect",()=>M,e=>M=e),e(t.exports,"useMemo",()=>z,e=>z=e),e(t.exports,"useReducer",()=>I,e=>I=e),e(t.exports,"useRef",()=>N,e=>N=e),e(t.exports,"useState",()=>T,e=>T=e),e(t.exports,"useSyncExternalStore",()=>L,e=>L=e),e(t.exports,"useTransition",()=>E,e=>E=e),e(t.exports,"version",()=>F,e=>F=e);var i,r,o,s,a,l,c,u,m,h,d,p,f,_,y,v,g,b,x,A,w,B,V,C,S,k,P,M,z,I,N,T,L,E,F,j=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),W=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Q=Symbol.iterator,K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,X={};function G(e,t,n){this.props=e,this.context=t,this.refs=X,this.updater=n||K}function ee(){}function et(e,t,n){this.props=e,this.context=t,this.refs=X,this.updater=n||K}G.prototype.isReactComponent={},G.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},G.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=G.prototype;var en=et.prototype=new ee;en.constructor=et,Z(en,G.prototype),en.isPureReactComponent=!0;var ei=Array.isArray,er=Object.prototype.hasOwnProperty,eo={current:null},es={key:!0,ref:!0,__self:!0,__source:!0};function ea(e,t,n){var i,r={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)er.call(t,i)&&!es.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:j,type:e,key:o,ref:s,props:r,_owner:eo.current}}function el(e){return"object"==typeof e&&null!==e&&e.$$typeof===j}var ec=/\/+/g;function eu(e,t){var n,i;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return i[e]})):t.toString(36)}function em(e,t,n){if(null==e)return e;var i=[],r=0;return function e(t,n,i,r,o){var s,a,l,c=typeof t;("undefined"===c||"boolean"===c)&&(t=null);var u=!1;if(null===t)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case j:case R:u=!0}}if(u)return o=o(u=t),t=""===r?"."+eu(u,0):r,ei(o)?(i="",null!=t&&(i=t.replace(ec,"$&/")+"/"),e(o,n,i,"",function(e){return e})):null!=o&&(el(o)&&(s=o,a=i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(ec,"$&/")+"/")+t,o={$$typeof:j,type:s.type,key:a,ref:s.ref,props:s.props,_owner:s._owner}),n.push(o)),1;if(u=0,r=""===r?".":r+":",ei(t))for(var m=0;m<t.length;m++){c=t[m];var h=r+eu(c,m);u+=e(c,n,i,h,o)}else if("function"==typeof(h=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Q&&l[Q]||l["@@iterator"])?l:null))for(t=h.call(t),m=0;!(c=t.next()).done;)h=r+eu(c=c.value,m++),u+=e(c,n,i,h,o);else if("object"===c)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return u}(e,i,"","",function(e){return t.call(n,e,r++)}),i}function eh(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ed={current:null},ep={transition:null};i={map:em,forEach:function(e,t,n){em(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return em(e,function(){t++}),t},toArray:function(e){return em(e,function(e){return e})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=G,o=D,s=q,a=et,l=O,c=Y,u={ReactCurrentDispatcher:ed,ReactCurrentBatchConfig:ep,ReactCurrentOwner:eo},m=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Z({},e.props),r=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=eo.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)er.call(t,l)&&!es.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:j,type:e.type,key:r,ref:o,props:i,_owner:s}},h=function(e){return(e={$$typeof:W,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:U,_context:e},e.Consumer=e},d=ea,p=function(e){var t=ea.bind(null,e);return t.type=e,t},f=function(){return{current:null}},_=function(e){return{$$typeof:H,render:e}},y=el,v=function(e){return{$$typeof:J,_payload:{_status:-1,_result:e},_init:eh}},g=function(e,t){return{$$typeof:$,type:e,compare:void 0===t?null:t}},b=function(e){var t=ep.transition;ep.transition={};try{e()}finally{ep.transition=t}},x=function(){throw Error("act(...) is not supported in production builds of React.")},A=function(e,t){return ed.current.useCallback(e,t)},w=function(e){return ed.current.useContext(e)},B=function(){},V=function(e){return ed.current.useDeferredValue(e)},C=function(e,t){return ed.current.useEffect(e,t)},S=function(){return ed.current.useId()},k=function(e,t,n){return ed.current.useImperativeHandle(e,t,n)},P=function(e,t){return ed.current.useInsertionEffect(e,t)},M=function(e,t){return ed.current.useLayoutEffect(e,t)},z=function(e,t){return ed.current.useMemo(e,t)},I=function(e,t,n){return ed.current.useReducer(e,t,n)},N=function(e){return ed.current.useRef(e)},T=function(e){return ed.current.useState(e)},L=function(e,t,n){return ed.current.useSyncExternalStore(e,t,n)},E=function(){return ed.current.useTransition()},F="18.2.0"}),x.register("Xw6Mv",function(t,n){e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>U,e=>U=e),e(t.exports,"createPortal",()=>W,e=>W=e),e(t.exports,"createRoot",()=>H,e=>H=e),e(t.exports,"findDOMNode",()=>Y,e=>Y=e),e(t.exports,"flushSync",()=>$,e=>$=e),e(t.exports,"hydrate",()=>J,e=>J=e),e(t.exports,"hydrateRoot",()=>Q,e=>Q=e),e(t.exports,"render",()=>K,e=>K=e),e(t.exports,"unmountComponentAtNode",()=>Z,e=>Z=e),e(t.exports,"unstable_batchedUpdates",()=>X,e=>X=e),e(t.exports,"unstable_renderSubtreeIntoContainer",()=>G,e=>G=e),e(t.exports,"version",()=>ee,e=>ee=e);var i,r,o,s,a,l,c=x("acw62"),u=x("fO90s");function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,d={};function p(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(d[e]=t,e=0;e<t.length;e++)h.add(t[e])}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},b={};function A(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}function C(e,t,n,i){var r,o=w.hasOwnProperty(t)?w[t]:null;(null!==o?0!==o.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(i)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?(r=t,(!!y.call(b,r)||!y.call(g,r)&&(v.test(r)?b[r]=!0:(g[r]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B,V);w[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B,V);w[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B,V);w[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});var S=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var U,W,H,Y,$,J,Q,K,Z,X,G,ee,et,en=Object.assign;function ei(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var er=!1;function eo(e,t){if(!e||er)return"";er=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var r=t.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a)break}}}finally{er=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ei(e):""}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ea(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=ea(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ea(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function eu(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function em(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function eh(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=es(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ed(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function ep(e,t){ed(e,t);var n=es(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i){e.removeAttribute("value");return}t.hasOwnProperty("value")?e_(e,t.type,n):t.hasOwnProperty("defaultValue")&&e_(e,t.type,es(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ef(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function e_(e,t,n){("number"!==t||eu(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ey=Array.isArray;function ev(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(r=0,n=""+es(n),t=null;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function eg(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(m(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(m(92));if(ey(n)){if(1<n.length)throw Error(m(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:es(n)}}function ex(e,t){var n=es(t.value),i=es(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function eA(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ew(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eB(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ew(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eV,eC,eS=(eV=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eC=eC||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return eV(e,t,n,i)})}:eV);function ek(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eP={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eM=["Webkit","ms","Moz","O"];function ez(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eP.hasOwnProperty(e)&&eP[e]?(""+t).trim():t+"px"}function eI(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ez(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(eP).forEach(function(e){eM.forEach(function(t){eP[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eP[e]})});var eN=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eT(e,t){if(t){if(eN[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(m(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(m(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(m(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(m(62))}}function eL(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eE=null;function eF(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ej=null,eR=null,eD=null;function eO(e){if(e=iZ(e)){if("function"!=typeof ej)throw Error(m(280));var t=e.stateNode;t&&(t=iG(t),ej(e.stateNode,e.type,t))}}function eq(e){eR?eD?eD.push(e):eD=[e]:eR=e}function eU(){if(eR){var e=eR,t=eD;if(eD=eR=null,eO(e),t)for(e=0;e<t.length;e++)eO(t[e])}}function eW(e,t){return e(t)}function eH(){}var eY=!1;function e$(e,t,n){if(eY)return e(t,n);eY=!0;try{return eW(e,t,n)}finally{eY=!1,(null!==eR||null!==eD)&&(eH(),eU())}}function eJ(e,t){var n=e.stateNode;if(null===n)return null;var i=iG(n);if(null===i)return null;switch(n=i[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(m(231,t,typeof n));return n}var eQ=!1;if(_)try{var eK={};Object.defineProperty(eK,"passive",{get:function(){eQ=!0}}),window.addEventListener("test",eK,eK),window.removeEventListener("test",eK,eK)}catch(e){eQ=!1}function eZ(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var eX=!1,eG=null,e0=!1,e1=null,e2={onError:function(e){eX=!0,eG=e}};function e3(e,t,n,i,r,o,s,a,l){eX=!1,eG=null,eZ.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e4(e)!==e)throw Error(m(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(m(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return e5(r),e;if(o===i)return e5(r),t;o=o.sibling}throw Error(m(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(m(189))}}if(n.alternate!==i)throw Error(m(190))}if(3!==n.tag)throw Error(m(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=u.unstable_scheduleCallback,e7=u.unstable_cancelCallback,te=u.unstable_shouldYield,tt=u.unstable_requestPaint,tn=u.unstable_now,ti=u.unstable_getCurrentPriorityLevel,tr=u.unstable_ImmediatePriority,to=u.unstable_UserBlockingPriority,ts=u.unstable_NormalPriority,ta=u.unstable_LowPriority,tl=u.unstable_IdlePriority,tc=null,tu=null,tm=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/td|0)|0},th=Math.log,td=Math.LN2,tp=64,tf=4194304;function t_(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ty(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=t_(a):0!=(o&=s)&&(i=t_(o))}else 0!=(s=n&~r)?i=t_(s):0!==o&&(i=t_(o));if(0===i)return 0;if(0!==t&&t!==i&&0==(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!=(4194240&o)))return t;if(0!=(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-tm(t)),i|=e[n],t&=~r;return i}function tv(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tg(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tx(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tm(t)]=n}function tA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-tm(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var tw=0;function tB(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tV,tC,tS,tk,tP,tM=!1,tz=[],tI=null,tN=null,tT=null,tL=new Map,tE=new Map,tF=[],tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tR(e,t){switch(e){case"focusin":case"focusout":tI=null;break;case"dragenter":case"dragleave":tN=null;break;case"mouseover":case"mouseout":tT=null;break;case"pointerover":case"pointerout":tL.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tE.delete(t.pointerId)}}function tD(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&null!==(t=iZ(t))&&tC(t)):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r)),e}function tO(e){var t=iK(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tP(e.priority,function(){tS(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tq(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tG(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=iZ(n))&&tC(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);eE=i,n.target.dispatchEvent(i),eE=null,t.shift()}return!0}function tU(e,t,n){tq(e)&&n.delete(t)}function tW(){tM=!1,null!==tI&&tq(tI)&&(tI=null),null!==tN&&tq(tN)&&(tN=null),null!==tT&&tq(tT)&&(tT=null),tL.forEach(tU),tE.forEach(tU)}function tH(e,t){e.blockedOn===t&&(e.blockedOn=null,tM||(tM=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,tW)))}function tY(e){function t(t){return tH(t,e)}if(0<tz.length){tH(tz[0],e);for(var n=1;n<tz.length;n++){var i=tz[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==tI&&tH(tI,e),null!==tN&&tH(tN,e),null!==tT&&tH(tT,e),tL.forEach(t),tE.forEach(t),n=0;n<tF.length;n++)(i=tF[n]).blockedOn===e&&(i.blockedOn=null);for(;0<tF.length&&null===(n=tF[0]).blockedOn;)tO(n),null===n.blockedOn&&tF.shift()}var t$=S.ReactCurrentBatchConfig,tJ=!0;function tQ(e,t,n,i){var r=tw,o=t$.transition;t$.transition=null;try{tw=1,tZ(e,t,n,i)}finally{tw=r,t$.transition=o}}function tK(e,t,n,i){var r=tw,o=t$.transition;t$.transition=null;try{tw=4,tZ(e,t,n,i)}finally{tw=r,t$.transition=o}}function tZ(e,t,n,i){if(tJ){var r=tG(e,t,n,i);if(null===r)iA(e,t,i,tX,n),tR(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return tI=tD(tI,e,t,n,i,r),!0;case"dragenter":return tN=tD(tN,e,t,n,i,r),!0;case"mouseover":return tT=tD(tT,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return tL.set(o,tD(tL.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,tE.set(o,tD(tE.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(tR(e,i),4&t&&-1<tj.indexOf(e)){for(;null!==r;){var o=iZ(r);if(null!==o&&tV(o),null===(o=tG(e,t,n,i))&&iA(e,t,i,tX,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else iA(e,t,i,null,n)}}var tX=null;function tG(e,t,n,i){if(tX=null,null!==(e=iK(e=eF(i)))){if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tX=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ti()){case tr:return 1;case to:return 4;case ts:case ta:return 16;case tl:return 536870912;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,i=n.length,r="value"in t1?t1.value:t1.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return t3=r.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t9(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=t9(nn),nr=en({},nn,{view:0,detail:0}),no=t9(nr),ns=en({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),na=t9(ns),nl=t9(en({},ns,{dataTransfer:0})),nc=t9(en({},nr,{relatedTarget:0})),nu=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nm=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nh=t9(en({},nn,{data:0})),nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nf[e])&&!!t[e]}function ny(){return n_}var nv=t9(en({},nr,{key:function(e){if(e.key){var t=nd[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ng=t9(en({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nb=t9(en({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny})),nx=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nA=t9(en({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nw=[9,13,27,32],nB=_&&"CompositionEvent"in window,nV=null;_&&"documentMode"in document&&(nV=document.documentMode);var nC=_&&"TextEvent"in window&&!nV,nS=_&&(!nB||nV&&8<nV&&11>=nV),nk=!1;function nP(e,t){switch(e){case"keyup":return -1!==nw.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nM(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nz=!1,nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nI[e.type]:"textarea"===t}function nT(e,t,n,i){eq(i),0<(t=iB(t,"onChange")).length&&(n=new ni("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var nL=null,nE=null;function nF(e){i_(e,0)}function nj(e){if(ec(iX(e)))return e}function nR(e,t){if("change"===e)return t}var nD=!1;if(_){if(_){var nO="oninput"in document;if(!nO){var nq=document.createElement("div");nq.setAttribute("oninput","return;"),nO="function"==typeof nq.oninput}i=nO}else i=!1;nD=i&&(!document.documentMode||9<document.documentMode)}function nU(){nL&&(nL.detachEvent("onpropertychange",nW),nE=nL=null)}function nW(e){if("value"===e.propertyName&&nj(nE)){var t=[];nT(t,nE,e,eF(e)),e$(nF,t)}}function nH(e,t,n){"focusin"===e?(nU(),nL=t,nE=n,nL.attachEvent("onpropertychange",nW)):"focusout"===e&&nU()}function nY(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nj(nE)}function n$(e,t){if("click"===e)return nj(t)}function nJ(e,t){if("input"===e||"change"===e)return nj(t)}var nQ="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nK(e,t){if(nQ(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!y.call(t,r)||!nQ(e[r],t[r]))return!1}return!0}function nZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nX(e,t){var n,i=nZ(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nZ(i)}}function nG(){for(var e=window,t=eu();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=eu(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=_&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n5(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==eu(i)||(i="selectionStart"in(i=n2)&&n0(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},n4&&nK(n4,i)||(n4=i,0<(i=iB(n3,"onSelect")).length&&(t=new ni("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},ie={};function it(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in ie)return n7[e]=n[t];return e}_&&(ie=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var ii=it("animationend"),ir=it("animationiteration"),io=it("animationstart"),is=it("transitionend"),ia=new Map,il="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(e,t){ia.set(e,t),p(t,[e])}for(var iu=0;iu<il.length;iu++){var im=il[iu];ic(im.toLowerCase(),"on"+(im[0].toUpperCase()+im.slice(1)))}ic(ii,"onAnimationEnd"),ic(ir,"onAnimationIteration"),ic(io,"onAnimationStart"),ic("dblclick","onDoubleClick"),ic("focusin","onFocus"),ic("focusout","onBlur"),ic(is,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),id=new Set("cancel close invalid load scroll toggle".split(" ").concat(ih));function ip(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,s,a,l){if(e3.apply(this,arguments),eX){if(eX){var c=eG;eX=!1,eG=null}else throw Error(m(198));e0||(e0=!0,e1=c)}}(i,t,void 0,e),e.currentTarget=null}function i_(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;ip(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;ip(r,a,c),o=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function iy(e,t){var n=t[i$];void 0===n&&(n=t[i$]=new Set);var i=e+"__bubble";n.has(i)||(ix(t,e,2,!1),n.add(i))}function iv(e,t,n){var i=0;t&&(i|=4),ix(n,e,i,t)}var ig="_reactListening"+Math.random().toString(36).slice(2);function ib(e){if(!e[ig]){e[ig]=!0,h.forEach(function(t){"selectionchange"!==t&&(id.has(t)||iv(t,!1,e),iv(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ig]||(t[ig]=!0,iv("selectionchange",!1,t))}}function ix(e,t,n,i){switch(t0(t)){case 1:var r=tQ;break;case 4:r=tK;break;default:r=tZ}n=r.bind(null,t,n,e),r=void 0,eQ&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function iA(e,t,n,i,r){var o=i;if(0==(1&t)&&0==(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=iK(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}e$(function(){var i=o,r=eF(n),s=[];e:{var a=ia.get(e);if(void 0!==a){var l=ni,c=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=nv;break;case"focusin":c="focus",l=nc;break;case"focusout":c="blur",l=nc;break;case"beforeblur":case"afterblur":l=nc;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nb;break;case ii:case ir:case io:l=nu;break;case is:l=nx;break;case"scroll":l=no;break;case"wheel":l=nA;break;case"copy":case"cut":case"paste":l=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ng}var u=0!=(4&t),m=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var d,p=i;null!==p;){var f=(d=p).stateNode;if(5===d.tag&&null!==f&&(d=f,null!==h&&null!=(f=eJ(p,h))&&u.push(iw(p,f,d))),m)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(0==(7&t)){if(a="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(a&&n!==eE&&(c=n.relatedTarget||n.fromElement)&&(iK(c)||c[iY]))&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(c=n.relatedTarget||n.toElement,l=i,null!==(c=c?iK(c):null)&&(m=e4(c),c!==m||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=na,f="onMouseLeave",h="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(u=ng,f="onPointerLeave",h="onPointerEnter",p="pointer"),m=null==l?a:iX(l),d=null==c?a:iX(c),(a=new u(f,p+"leave",l,n,r)).target=m,a.relatedTarget=d,f=null,iK(r)===i&&((u=new u(h,p+"enter",c,n,r)).target=d,u.relatedTarget=m,f=u),m=f,l&&c)t:{for(u=l,h=c,p=0,d=u;d;d=iV(d))p++;for(d=0,f=h;f;f=iV(f))d++;for(;0<p-d;)u=iV(u),p--;for(;0<d-p;)h=iV(h),d--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break t;u=iV(u),h=iV(h)}u=null}else u=null;null!==l&&iC(s,a,l,u,!1),null!==c&&null!==m&&iC(s,m,c,u,!0)}e:{if("select"===(l=(a=i?iX(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var _,y=nR;else if(nN(a)){if(nD)y=nJ;else{y=nY;var v=nH}}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=n$);if(y&&(y=y(e,i))){nT(s,y,n,r);break e}v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&e_(a,"number",a.value)}switch(v=i?iX(i):window,e){case"focusin":(nN(v)||"true"===v.contentEditable)&&(n2=v,n3=i,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(s,n,r);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(s,n,r)}if(nB)t:{switch(e){case"compositionstart":var g="onCompositionStart";break t;case"compositionend":g="onCompositionEnd";break t;case"compositionupdate":g="onCompositionUpdate";break t}g=void 0}else nz?nP(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(nS&&"ko"!==n.locale&&(nz||"onCompositionStart"!==g?"onCompositionEnd"===g&&nz&&(_=t4()):(t2="value"in(t1=r)?t1.value:t1.textContent,nz=!0)),0<(v=iB(i,g)).length&&(g=new nh(g,e,null,n,r),s.push({event:g,listeners:v}),_?g.data=_:null!==(_=nM(n))&&(g.data=_))),(_=nC?function(e,t){switch(e){case"compositionend":return nM(t);case"keypress":if(32!==t.which)return null;return nk=!0," ";case"textInput":return" "===(e=t.data)&&nk?null:e;default:return null}}(e,n):function(e,t){if(nz)return"compositionend"===e||!nB&&nP(e,t)?(e=t4(),t3=t2=t1=null,nz=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nS&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(i=iB(i,"onBeforeInput")).length&&(r=new nh("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=_)}i_(s,t)})}function iw(e,t,n){return{instance:e,listener:t,currentTarget:n}}function iB(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=eJ(e,n))&&i.unshift(iw(e,o,r)),null!=(o=eJ(e,t))&&i.push(iw(e,o,r))),e=e.return}return i}function iV(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function iC(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=eJ(n,o))&&s.unshift(iw(n,l,a)):r||null!=(l=eJ(n,o))&&s.push(iw(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var iS=/\r\n?/g,ik=/\u0000|\uFFFD/g;function iP(e){return("string"==typeof e?e:""+e).replace(iS,"\n").replace(ik,"")}function iM(e,t,n){if(t=iP(t),iP(e)!==t&&n)throw Error(m(425))}function iz(){}var iI=null,iN=null;function iT(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var iL="function"==typeof setTimeout?setTimeout:void 0,iE="function"==typeof clearTimeout?clearTimeout:void 0,iF="function"==typeof Promise?Promise:void 0,ij="function"==typeof queueMicrotask?queueMicrotask:void 0!==iF?function(e){return iF.resolve(null).then(e).catch(iR)}:iL;function iR(e){setTimeout(function(){throw e})}function iD(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType){if("/$"===(n=r.data)){if(0===i){e.removeChild(r),tY(t);return}i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++}n=r}while(n)tY(t)}function iO(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function iq(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var iU=Math.random().toString(36).slice(2),iW="__reactFiber$"+iU,iH="__reactProps$"+iU,iY="__reactContainer$"+iU,i$="__reactEvents$"+iU,iJ="__reactListeners$"+iU,iQ="__reactHandles$"+iU;function iK(e){var t=e[iW];if(t)return t;for(var n=e.parentNode;n;){if(t=n[iY]||n[iW]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=iq(e);null!==e;){if(n=e[iW])return n;e=iq(e)}return t}n=(e=n).parentNode}return null}function iZ(e){return(e=e[iW]||e[iY])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function iX(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(m(33))}function iG(e){return e[iH]||null}var i0=[],i1=-1;function i2(e){return{current:e}}function i3(e){0>i1||(e.current=i0[i1],i0[i1]=null,i1--)}function i4(e,t){i0[++i1]=e.current,e.current=t}var i6={},i5=i2(i6),i8=i2(!1),i9=i6;function i7(e,t){var n=e.type.contextTypes;if(!n)return i6;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function re(e){return null!=(e=e.childContextTypes)}function rt(){i3(i8),i3(i5)}function rn(e,t,n){if(i5.current!==i6)throw Error(m(168));i4(i5,t),i4(i8,n)}function ri(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(m(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case M:return"Fragment";case P:return"Portal";case I:return"Profiler";case z:return"StrictMode";case E:return"Suspense";case F:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case j:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",r));return en({},n,i)}function rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||i6,i9=i5.current,i4(i5,e),i4(i8,i8.current),!0}function ro(e,t,n){var i=e.stateNode;if(!i)throw Error(m(169));n?(e=ri(e,t,i9),i.__reactInternalMemoizedMergedChildContext=e,i3(i8),i3(i5),i4(i5,e)):i3(i8),i4(i8,n)}var rs=null,ra=!1,rl=!1;function rc(){if(!rl&&null!==rs){rl=!0;var e=0,t=tw;try{var n=rs;for(tw=1;e<n.length;e++){var i=n[e];do i=i(!0);while(null!==i)}rs=null,ra=!1}catch(t){throw null!==rs&&(rs=rs.slice(e+1)),e9(tr,rc),t}finally{tw=t,rl=!1}}return null}var ru=[],rm=0,rh=null,rd=0,rp=[],rf=0,r_=null,ry=1,rv="";function rg(e,t){ru[rm++]=rd,ru[rm++]=rh,rh=e,rd=t}function rb(e,t,n){rp[rf++]=ry,rp[rf++]=rv,rp[rf++]=r_,r_=e;var i=ry;e=rv;var r=32-tm(i)-1;i&=~(1<<r),n+=1;var o=32-tm(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,ry=1<<32-tm(t)+r|n<<r|i,rv=o+e}else ry=1<<o|n<<r|i,rv=e}function rx(e){null!==e.return&&(rg(e,1),rb(e,1,0))}function rA(e){for(;e===rh;)rh=ru[--rm],ru[rm]=null,rd=ru[--rm],ru[rm]=null;for(;e===r_;)r_=rp[--rf],rp[rf]=null,rv=rp[--rf],rp[rf]=null,ry=rp[--rf],rp[rf]=null}var rw=null,rB=null,rV=!1,rC=null;function rS(e,t){var n=a8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function rk(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rw=e,rB=iO(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rw=e,rB=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==r_?{id:ry,overflow:rv}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=a8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rw=e,rB=null,!0);default:return!1}}function rP(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function rM(e){if(rV){var t=rB;if(t){var n=t;if(!rk(e,t)){if(rP(e))throw Error(m(418));t=iO(n.nextSibling);var i=rw;t&&rk(e,t)?rS(i,n):(e.flags=-4097&e.flags|2,rV=!1,rw=e)}}else{if(rP(e))throw Error(m(418));e.flags=-4097&e.flags|2,rV=!1,rw=e}}}function rz(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rw=e}function rI(e){if(e!==rw)return!1;if(!rV)return rz(e),rV=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!iT(e.type,e.memoizedProps)),t&&(t=rB)){if(rP(e))throw rN(),Error(m(418));for(;t;)rS(e,t),t=iO(t.nextSibling)}if(rz(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(m(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){rB=iO(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rB=null}}else rB=rw?iO(e.stateNode.nextSibling):null;return!0}function rN(){for(var e=rB;e;)e=iO(e.nextSibling)}function rT(){rB=rw=null,rV=!1}function rL(e){null===rC?rC=[e]:rC.push(e)}var rE=S.ReactCurrentBatchConfig;function rF(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var rj=i2(null),rR=null,rD=null,rO=null;function rq(){rO=rD=rR=null}function rU(e){var t=rj.current;i3(rj),e._currentValue=t}function rW(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function rH(e,t){rR=e,rO=rD=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(sb=!0),e.firstContext=null)}function rY(e){var t=e._currentValue;if(rO!==e){if(e={context:e,memoizedValue:t,next:null},null===rD){if(null===rR)throw Error(m(308));rD=e,rR.dependencies={lanes:0,firstContext:e}}else rD=rD.next=e}return t}var r$=null;function rJ(e){null===r$?r$=[e]:r$.push(e)}function rQ(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,rJ(t)):(n.next=r.next,r.next=n),t.interleaved=n,rK(e,i)}function rK(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var rZ=!1;function rX(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function r0(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function r1(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&aa)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,rK(e,n)}return null===(r=i.interleaved)?(t.next=t,rJ(i)):(t.next=r.next,r.next=t),i.interleaved=t,rK(e,n)}function r2(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,tA(e,n)}}function r3(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n)null===o?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function r4(e,t,n,i){var r=e.updateQueue;rZ=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==o){var m=r.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,d=a.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,f=a;switch(h=t,d=n,f.tag){case 1:if("function"==typeof(p=f.payload)){m=p.call(d,m,h);break e}m=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=f.payload)?p.call(d,m,h):p))break e;m=en({},m,h);break e;case 2:rZ=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=d,l=m):u=u.next=d,s|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(h=a).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=m),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do s|=r.lane,r=r.next;while(r!==t)}else null===o&&(r.shared.lanes=0);af|=s,e.lanes=s,e.memoizedState=m}}function r6(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(m(191,r));r.call(i)}}}var r5=(new c.Component).refs;function r8(e,t,n,i){t=e.memoizedState,n=null==(n=n(i,t))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var r9={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=aN(),r=aT(e),o=r0(i,r);o.payload=t,null!=n&&(o.callback=n),null!==(t=r1(e,o,r))&&(aL(t,e,r,i),r2(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=aN(),r=aT(e),o=r0(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=r1(e,o,r))&&(aL(t,e,r,i),r2(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aN(),i=aT(e),r=r0(n,i);r.tag=2,null!=t&&(r.callback=t),null!==(t=r1(e,r,i))&&(aL(t,e,i,n),r2(t,e,i))}};function r7(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||!nK(n,i)||!nK(r,o)}function oe(e,t,n){var i=!1,r=i6,o=t.contextType;return"object"==typeof o&&null!==o?o=rY(o):(r=re(t)?i9:i5.current,o=(i=null!=(i=t.contextTypes))?i7(e,r):i6),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=r9,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function ot(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&r9.enqueueReplaceState(t,t.state,null)}function on(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=r5,rX(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=rY(o):(o=re(t)?i9:i5.current,r.context=i7(e,o)),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(r8(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&r9.enqueueReplaceState(r,r.state,null),r4(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function oi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(m(309));var i=n.stateNode}if(!i)throw Error(m(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===r5&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(m(284));if(!n._owner)throw Error(m(290,e))}return e}function or(e,t){throw Error(m(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oo(e){return(0,e._init)(e._payload)}function os(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=a7(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return(t.index=i,e)?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,i){return null===t||6!==t.tag?(t=li(n,e.mode,i)).return=e:(t=r(t,n)).return=e,t}function l(e,t,n,i){var o=n.type;return o===M?u(e,t,n.props.children,i,n.key):(null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===R&&oo(o)===t.type)?(i=r(t,n.props)).ref=oi(e,t,n):(i=le(n.type,n.key,n.props,null,e.mode,i)).ref=oi(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=lr(n,e.mode,i)).return=e:(t=r(t,n.children||[])).return=e,t}function u(e,t,n,i,o){return null===t||7!==t.tag?(t=lt(n,e.mode,i,o)).return=e:(t=r(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=li(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=oi(e,null,t),n.return=e,n;case P:return(t=lr(t,e.mode,n)).return=e,t;case R:var i=t._init;return h(e,i(t._payload),n)}if(ey(t)||q(t))return(t=lt(t,e.mode,n,null)).return=e,t;or(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:a(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?l(e,t,n,i):null;case P:return n.key===r?c(e,t,n,i):null;case R:return d(e,t,(r=n._init)(n._payload),i)}if(ey(n)||q(n))return null!==r?null:u(e,t,n,i,null);or(e,n)}return null}function p(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return a(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case k:return l(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case R:return p(e,t,n,(0,i._init)(i._payload),r)}if(ey(i)||q(i))return u(t,e=e.get(n)||null,i,r,null);or(t,i)}return null}return function a(l,c,u,f){if("object"==typeof u&&null!==u&&u.type===M&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case k:e:{for(var _=u.key,y=c;null!==y;){if(y.key===_){if((_=u.type)===M){if(7===y.tag){n(l,y.sibling),(c=r(y,u.props.children)).return=l,l=c;break e}}else if(y.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===R&&oo(_)===y.type){n(l,y.sibling),(c=r(y,u.props)).ref=oi(l,y,u),c.return=l,l=c;break e}n(l,y);break}t(l,y),y=y.sibling}u.type===M?((c=lt(u.props.children,l.mode,f,u.key)).return=l,l=c):((f=le(u.type,u.key,u.props,null,l.mode,f)).ref=oi(l,c,u),f.return=l,l=f)}return s(l);case P:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=r(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=lr(u,l.mode,f)).return=l,l=c}return s(l);case R:return a(l,c,(y=u._init)(u._payload),f)}if(ey(u))return function(r,s,a,l){for(var c=null,u=null,m=s,f=s=0,_=null;null!==m&&f<a.length;f++){m.index>f?(_=m,m=null):_=m.sibling;var y=d(r,m,a[f],l);if(null===y){null===m&&(m=_);break}e&&m&&null===y.alternate&&t(r,m),s=o(y,s,f),null===u?c=y:u.sibling=y,u=y,m=_}if(f===a.length)return n(r,m),rV&&rg(r,f),c;if(null===m){for(;f<a.length;f++)null!==(m=h(r,a[f],l))&&(s=o(m,s,f),null===u?c=m:u.sibling=m,u=m);return rV&&rg(r,f),c}for(m=i(r,m);f<a.length;f++)null!==(_=p(m,r,f,a[f],l))&&(e&&null!==_.alternate&&m.delete(null===_.key?f:_.key),s=o(_,s,f),null===u?c=_:u.sibling=_,u=_);return e&&m.forEach(function(e){return t(r,e)}),rV&&rg(r,f),c}(l,c,u,f);if(q(u))return function(r,s,a,l){var c=q(a);if("function"!=typeof c)throw Error(m(150));if(null==(a=c.call(a)))throw Error(m(151));for(var u=c=null,f=s,_=s=0,y=null,v=a.next();null!==f&&!v.done;_++,v=a.next()){f.index>_?(y=f,f=null):y=f.sibling;var g=d(r,f,v.value,l);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(r,f),s=o(g,s,_),null===u?c=g:u.sibling=g,u=g,f=y}if(v.done)return n(r,f),rV&&rg(r,_),c;if(null===f){for(;!v.done;_++,v=a.next())null!==(v=h(r,v.value,l))&&(s=o(v,s,_),null===u?c=v:u.sibling=v,u=v);return rV&&rg(r,_),c}for(f=i(r,f);!v.done;_++,v=a.next())null!==(v=p(f,r,_,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?_:v.key),s=o(v,s,_),null===u?c=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(r,e)}),rV&&rg(r,_),c}(l,c,u,f);or(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=r(c,u)).return=l):(n(l,c),(c=li(u,l.mode,f)).return=l),s(l=c)):n(l,c)}}var oa=os(!0),ol=os(!1),oc={},ou=i2(oc),om=i2(oc),oh=i2(oc);function od(e){if(e===oc)throw Error(m(174));return e}function op(e,t){switch(i4(oh,t),i4(om,e),i4(ou,oc),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eB(null,"");break;default:t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName,t=eB(t,e)}i3(ou),i4(ou,t)}function of(){i3(ou),i3(om),i3(oh)}function o_(e){od(oh.current);var t=od(ou.current),n=eB(t,e.type);t!==n&&(i4(om,e),i4(ou,n))}function oy(e){om.current===e&&(i3(ou),i3(om))}var ov=i2(0);function og(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ob=[];function ox(){for(var e=0;e<ob.length;e++)ob[e]._workInProgressVersionPrimary=null;ob.length=0}var oA=S.ReactCurrentDispatcher,ow=S.ReactCurrentBatchConfig,oB=0,oV=null,oC=null,oS=null,ok=!1,oP=!1,oM=0,oz=0;function oI(){throw Error(m(321))}function oN(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nQ(e[n],t[n]))return!1;return!0}function oT(e,t,n,i,r,o){if(oB=o,oV=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oA.current=null===e||null===e.memoizedState?sa:sl,e=n(i,r),oP){o=0;do{if(oP=!1,oM=0,25<=o)throw Error(m(301));o+=1,oS=oC=null,t.updateQueue=null,oA.current=sc,e=n(i,r)}while(oP)}if(oA.current=ss,t=null!==oC&&null!==oC.next,oB=0,oS=oC=oV=null,ok=!1,t)throw Error(m(300));return e}function oL(){var e=0!==oM;return oM=0,e}function oE(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oS?oV.memoizedState=oS=e:oS=oS.next=e,oS}function oF(){if(null===oC){var e=oV.alternate;e=null!==e?e.memoizedState:null}else e=oC.next;var t=null===oS?oV.memoizedState:oS.next;if(null!==t)oS=t,oC=e;else{if(null===e)throw Error(m(310));e={memoizedState:(oC=e).memoizedState,baseState:oC.baseState,baseQueue:oC.baseQueue,queue:oC.queue,next:null},null===oS?oV.memoizedState=oS=e:oS=oS.next=e}return oS}function oj(e,t){return"function"==typeof t?t(e):t}function oR(e){var t=oF(),n=t.queue;if(null===n)throw Error(m(311));n.lastRenderedReducer=e;var i=oC,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((oB&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(a=l=h,s=i):l=l.next=h,oV.lanes|=u,af|=u}c=c.next}while(null!==c&&c!==o)null===l?s=i:l.next=a,nQ(i,t.memoizedState)||(sb=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do o=r.lane,oV.lanes|=o,af|=o,r=r.next;while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oD(e){var t=oF(),n=t.queue;if(null===n)throw Error(m(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do o=e(o,s.action),s=s.next;while(s!==r)nQ(o,t.memoizedState)||(sb=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function oO(){}function oq(e,t){var n=oV,i=oF(),r=t(),o=!nQ(i.memoizedState,r);if(o&&(i.memoizedState=r,sb=!0),i=i.queue,o0(oH.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==oS&&1&oS.memoizedState.tag){if(n.flags|=2048,oQ(9,oW.bind(null,n,i,r,t),void 0,null),null===al)throw Error(m(349));0!=(30&oB)||oU(n,t,r)}return r}function oU(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oV.updateQueue)?(t={lastEffect:null,stores:null},oV.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function oW(e,t,n,i){t.value=n,t.getSnapshot=i,oY(t)&&o$(e)}function oH(e,t,n){return n(function(){oY(t)&&o$(e)})}function oY(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nQ(e,n)}catch(e){return!0}}function o$(e){var t=rK(e,1);null!==t&&aL(t,e,1,-1)}function oJ(e){var t=oE();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oj,lastRenderedState:e},t.queue=e,e=e.dispatch=sn.bind(null,oV,e),[t.memoizedState,e]}function oQ(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oV.updateQueue)?(t={lastEffect:null,stores:null},oV.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function oK(){return oF().memoizedState}function oZ(e,t,n,i){var r=oE();oV.flags|=e,r.memoizedState=oQ(1|t,n,void 0,void 0===i?null:i)}function oX(e,t,n,i){var r=oF();i=void 0===i?null:i;var o=void 0;if(null!==oC){var s=oC.memoizedState;if(o=s.destroy,null!==i&&oN(i,s.deps)){r.memoizedState=oQ(t,n,o,i);return}}oV.flags|=e,r.memoizedState=oQ(1|t,n,o,i)}function oG(e,t){return oZ(8390656,8,e,t)}function o0(e,t){return oX(2048,8,e,t)}function o1(e,t){return oX(4,2,e,t)}function o2(e,t){return oX(4,4,e,t)}function o3(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function o4(e,t,n){return n=null!=n?n.concat([e]):null,oX(4,4,o3.bind(null,t,e),n)}function o6(){}function o5(e,t){var n=oF();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&oN(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function o8(e,t){var n=oF();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&oN(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function o9(e,t,n){return 0==(21&oB)?(e.baseState&&(e.baseState=!1,sb=!0),e.memoizedState=n):(nQ(n,t)||(n=tg(),oV.lanes|=n,af|=n,e.baseState=!0),t)}function o7(e,t){var n=tw;tw=0!==n&&4>n?n:4,e(!0);var i=ow.transition;ow.transition={};try{e(!1),t()}finally{tw=n,ow.transition=i}}function se(){return oF().memoizedState}function st(e,t,n){var i=aT(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},si(e)?sr(t,n):null!==(n=rQ(e,t,n,i))&&(aL(n,e,i,aN()),so(n,t,i))}function sn(e,t,n){var i=aT(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(si(e))sr(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,nQ(a,s)){var l=t.interleaved;null===l?(r.next=r,rJ(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch(e){}finally{}null!==(n=rQ(e,t,r,i))&&(aL(n,e,i,r=aN()),so(n,t,i))}}function si(e){var t=e.alternate;return e===oV||null!==t&&t===oV}function sr(e,t){oP=ok=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!=(4194240&n)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,tA(e,n)}}var ss={readContext:rY,useCallback:oI,useContext:oI,useEffect:oI,useImperativeHandle:oI,useInsertionEffect:oI,useLayoutEffect:oI,useMemo:oI,useReducer:oI,useRef:oI,useState:oI,useDebugValue:oI,useDeferredValue:oI,useTransition:oI,useMutableSource:oI,useSyncExternalStore:oI,useId:oI,unstable_isNewReconciler:!1},sa={readContext:rY,useCallback:function(e,t){return oE().memoizedState=[e,void 0===t?null:t],e},useContext:rY,useEffect:oG,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,oZ(4194308,4,o3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oZ(4194308,4,e,t)},useInsertionEffect:function(e,t){return oZ(4,2,e,t)},useMemo:function(e,t){var n=oE();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=oE();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=st.bind(null,oV,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},oE().memoizedState=e},useState:oJ,useDebugValue:o6,useDeferredValue:function(e){return oE().memoizedState=e},useTransition:function(){var e=oJ(!1),t=e[0];return e=o7.bind(null,e[1]),oE().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oV,r=oE();if(rV){if(void 0===n)throw Error(m(407));n=n()}else{if(n=t(),null===al)throw Error(m(349));0!=(30&oB)||oU(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,oG(oH.bind(null,i,o,e),[e]),i.flags|=2048,oQ(9,oW.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=oE(),t=al.identifierPrefix;if(rV){var n=rv,i=ry;t=":"+t+"R"+(n=(i&~(1<<32-tm(i)-1)).toString(32)+n),0<(n=oM++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=oz++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:rY,useCallback:o5,useContext:rY,useEffect:o0,useImperativeHandle:o4,useInsertionEffect:o1,useLayoutEffect:o2,useMemo:o8,useReducer:oR,useRef:oK,useState:function(){return oR(oj)},useDebugValue:o6,useDeferredValue:function(e){return o9(oF(),oC.memoizedState,e)},useTransition:function(){return[oR(oj)[0],oF().memoizedState]},useMutableSource:oO,useSyncExternalStore:oq,useId:se,unstable_isNewReconciler:!1},sc={readContext:rY,useCallback:o5,useContext:rY,useEffect:o0,useImperativeHandle:o4,useInsertionEffect:o1,useLayoutEffect:o2,useMemo:o8,useReducer:oD,useRef:oK,useState:function(){return oD(oj)},useDebugValue:o6,useDeferredValue:function(e){var t=oF();return null===oC?t.memoizedState=e:o9(t,oC.memoizedState,e)},useTransition:function(){return[oD(oj)[0],oF().memoizedState]},useMutableSource:oO,useSyncExternalStore:oq,useId:se,unstable_isNewReconciler:!1};function su(e,t){try{var n="",i=t;do n+=function(e){switch(e.tag){case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return e=eo(e.type,!1);case 11:return e=eo(e.type.render,!1);case 1:return e=eo(e.type,!0);default:return""}}(i),i=i.return;while(i)var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r,digest:null}}function sm(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function sh(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var sd="function"==typeof WeakMap?WeakMap:Map;function sp(e,t,n){(n=r0(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){aw||(aw=!0,aB=i),sh(e,t)},n}function sf(e,t,n){(n=r0(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){sh(e,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){sh(e,t),"function"!=typeof i&&(null===aV?aV=new Set([this]):aV.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function s_(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new sd;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=a2.bind(null,e,t,n),t.then(e,e))}function sy(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function sv(e,t,n,i,r){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=r0(-1,1)).tag=2,r1(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=r),e}var sg=S.ReactCurrentOwner,sb=!1;function sx(e,t,n,i){t.child=null===e?ol(t,null,n,i):oa(t,e.child,n,i)}function sA(e,t,n,i,r){n=n.render;var o=t.ref;return(rH(t,r),i=oT(e,t,n,i,o,r),n=oL(),null===e||sb)?(rV&&n&&rx(t),t.flags|=1,sx(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,sO(e,t,r))}function sw(e,t,n,i,r){if(null===e){var o=n.type;return"function"!=typeof o||a9(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,sB(e,t,o,i,r))}if(o=e.child,0==(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:nK)(s,i)&&e.ref===t.ref)return sO(e,t,r)}return t.flags|=1,(e=a7(o,i)).ref=t.ref,e.return=t,t.child=e}function sB(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(nK(o,i)&&e.ref===t.ref){if(sb=!1,t.pendingProps=i=o,0==(e.lanes&r))return t.lanes=e.lanes,sO(e,t,r);0!=(131072&e.flags)&&(sb=!0)}}return sS(e,t,n,i,r)}function sV(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i4(ah,am),am|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,i4(ah,am),am|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,i4(ah,am),am|=i}}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,i4(ah,am),am|=i;return sx(e,t,r,n),t.child}function sC(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sS(e,t,n,i,r){var o=re(n)?i9:i5.current;return(o=i7(t,o),rH(t,r),n=oT(e,t,n,i,o,r),i=oL(),null===e||sb)?(rV&&i&&rx(t),t.flags|=1,sx(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,sO(e,t,r))}function sk(e,t,n,i,r){if(re(n)){var o=!0;rr(t)}else o=!1;if(rH(t,r),null===t.stateNode)sD(e,t),oe(t,n,i),on(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?rY(c):i7(t,c=re(n)?i9:i5.current);var u=n.getDerivedStateFromProps,m="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;m||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&ot(t,s,i,c),rZ=!1;var h=t.memoizedState;s.state=h,r4(t,i,s,r),l=t.memoizedState,a!==i||h!==l||i8.current||rZ?("function"==typeof u&&(r8(t,n,u,i),l=t.memoizedState),(a=rZ||r7(t,n,a,i,h,l,c))?(m||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,rG(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rF(t.type,a),s.props=c,m=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?rY(l):i7(t,l=re(n)?i9:i5.current);var d=n.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==m||h!==l)&&ot(t,s,i,l),rZ=!1,h=t.memoizedState,s.state=h,r4(t,i,s,r);var p=t.memoizedState;a!==m||h!==p||i8.current||rZ?("function"==typeof d&&(r8(t,n,d,i),p=t.memoizedState),(c=rZ||r7(t,n,c,i,h,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),s.props=i,s.state=p,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return sP(e,t,n,i,o,r)}function sP(e,t,n,i,r,o){sC(e,t);var s=0!=(128&t.flags);if(!i&&!s)return r&&ro(t,n,!1),sO(e,t,o);i=t.stateNode,sg.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=oa(t,e.child,null,o),t.child=oa(t,null,a,o)):sx(e,t,a,o),t.memoizedState=i.state,r&&ro(t,n,!0),t.child}function sM(e){var t=e.stateNode;t.pendingContext?rn(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rn(e,t.context,!1),op(e,t.containerInfo)}function sz(e,t,n,i,r){return rT(),rL(r),t.flags|=256,sx(e,t,n,i),t.child}var sI={dehydrated:null,treeContext:null,retryLane:0};function sN(e){return{baseLanes:e,cachePool:null,transitions:null}}function sT(e,t,n){var i,r=t.pendingProps,o=ov.current,s=!1,a=0!=(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!=(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),i4(ov,1&o),null===e)return(rM(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},0==(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=ln(a,r,0,null),e=lt(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sN(n),t.memoizedState=sI,e):sL(t,a));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,s){if(n)return 256&t.flags?(t.flags&=-257,sE(e,t,s,i=sm(Error(m(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=ln({mode:"visible",children:i.children},r,0,null),o=lt(o,r,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&oa(t,e.child,null,s),t.child.memoizedState=sN(s),t.memoizedState=sI,o);if(0==(1&t.mode))return sE(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var a=i.dgst;return i=a,i=sm(o=Error(m(419)),i,void 0),sE(e,t,s,i)}if(a=0!=(s&e.childLanes),sb||a){if(null!==(i=al)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!=(r&(i.suspendedLanes|s))?0:r)&&r!==o.retryLane&&(o.retryLane=r,rK(e,r),aL(i,e,r,-1))}return aJ(),sE(e,t,s,i=sm(Error(m(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=a4.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,rB=iO(r.nextSibling),rw=t,rV=!0,rC=null,null!==e&&(rp[rf++]=ry,rp[rf++]=rv,rp[rf++]=r_,ry=e.id,rv=e.overflow,r_=t),t=sL(t,i.children),t.flags|=4096,t)}(e,t,a,r,i,o,n);if(s){s=r.fallback,a=t.mode,i=(o=e.child).sibling;var l={mode:"hidden",children:r.children};return 0==(1&a)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=a7(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==i?s=a7(i,s):(s=lt(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=null===(a=e.child.memoizedState)?sN(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=sI,r}return e=(s=e.child).sibling,r=a7(s,{mode:"visible",children:r.children}),0==(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sL(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function sE(e,t,n,i){return null!==i&&rL(i),oa(t,e.child,null,n),e=sL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sF(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),rW(e.return,t,n)}function sj(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function sR(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(sx(e,t,i.children,n),0!=(2&(i=ov.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sF(e,n,t);else if(19===e.tag)sF(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(i4(ov,i),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(r=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===og(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),sj(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===og(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}sj(t,!0,n,null,o);break;case"together":sj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sD(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sO(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),af|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(m(153));if(null!==t.child){for(n=a7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=a7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sq(e,t){if(!rV)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function sU(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},o=function(){},s=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,od(ou.current);var o,s=null;switch(n){case"input":r=em(e,r),i=em(e,i),s=[];break;case"select":r=en({},r,{value:void 0}),i=en({},i,{value:void 0}),s=[];break;case"textarea":r=eg(e,r),i=eg(e,i),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(e.onclick=iz)}for(c in eT(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c]){if("style"===c){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(d.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null))}for(c in i){var l=i[c];if(a=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a)){if("style"===c){if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l}else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(d.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&iy("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},a=function(e,t,n,i){n!==i&&(t.flags|=4)};var sW=!1,sH=!1,sY="function"==typeof WeakSet?WeakSet:Set,s$=null;function sJ(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){a1(e,t,n)}else n.current=null}}function sQ(e,t,n){try{n()}catch(n){a1(e,t,n)}}var sK=!1;function sZ(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&sQ(t,n,o)}r=r.next}while(r!==i)}}function sX(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sG(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function s0(e){return 5===e.tag||3===e.tag||4===e.tag}function s1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||s0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var s2=null,s3=!1;function s4(e,t,n){for(n=n.child;null!==n;)s6(e,t,n),n=n.sibling}function s6(e,t,n){if(tu&&"function"==typeof tu.onCommitFiberUnmount)try{tu.onCommitFiberUnmount(tc,n)}catch(e){}switch(n.tag){case 5:sH||sJ(n,t);case 6:var i=s2,r=s3;s2=null,s4(e,t,n),s2=i,s3=r,null!==s2&&(s3?(e=s2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):s2.removeChild(n.stateNode));break;case 18:null!==s2&&(s3?(e=s2,n=n.stateNode,8===e.nodeType?iD(e.parentNode,n):1===e.nodeType&&iD(e,n),tY(e)):iD(s2,n.stateNode));break;case 4:i=s2,r=s3,s2=n.stateNode.containerInfo,s3=!0,s4(e,t,n),s2=i,s3=r;break;case 0:case 11:case 14:case 15:if(!sH&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)?sQ(n,t,s):0!=(4&o)&&sQ(n,t,s)),r=r.next}while(r!==i)}s4(e,t,n);break;case 1:if(!sH&&(sJ(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){a1(n,t,e)}s4(e,t,n);break;case 21:default:s4(e,t,n);break;case 22:1&n.mode?(sH=(i=sH)||null!==n.memoizedState,s4(e,t,n),sH=i):s4(e,t,n)}}function s5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sY),t.forEach(function(t){var i=a6.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function s8(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:s2=s.stateNode,s3=!1;break e;case 3:case 4:s2=s.stateNode.containerInfo,s3=!0;break e}s=s.return}if(null===s2)throw Error(m(160));s6(e,o,r),s2=null,s3=!1;var a=r.alternate;null!==a&&(a.return=null),r.return=null}catch(e){a1(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)s9(t,e),t=t.sibling}function s9(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(s8(t,e),s7(e),4&i){try{sZ(3,e,e.return),sX(3,e)}catch(t){a1(e,e.return,t)}try{sZ(5,e,e.return)}catch(t){a1(e,e.return,t)}}break;case 1:s8(t,e),s7(e),512&i&&null!==n&&sJ(n,n.return);break;case 5:if(s8(t,e),s7(e),512&i&&null!==n&&sJ(n,n.return),32&e.flags){var r=e.stateNode;try{ek(r,"")}catch(t){a1(e,e.return,t)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===o.type&&null!=o.name&&ed(r,o),eL(a,s);var c=eL(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];"style"===u?eI(r,h):"dangerouslySetInnerHTML"===u?eS(r,h):"children"===u?ek(r,h):C(r,u,h,c)}switch(a){case"input":ep(r,o);break;case"textarea":ex(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ev(r,!!o.multiple,p,!1):!!o.multiple!==d&&(null!=o.defaultValue?ev(r,!!o.multiple,o.defaultValue,!0):ev(r,!!o.multiple,o.multiple?[]:"",!1))}r[iH]=o}catch(t){a1(e,e.return,t)}}break;case 6:if(s8(t,e),s7(e),4&i){if(null===e.stateNode)throw Error(m(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(t){a1(e,e.return,t)}}break;case 3:if(s8(t,e),s7(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{tY(t.containerInfo)}catch(t){a1(e,e.return,t)}break;case 4:default:s8(t,e),s7(e);break;case 13:s8(t,e),s7(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,o&&(null===r.alternate||null===r.alternate.memoizedState)&&(ab=tn())),4&i&&s5(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(sH=(c=sH)||u,s8(t,e),sH=c):s8(t,e),s7(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!=(1&e.mode))for(s$=e,u=e.child;null!==u;){for(h=s$=u;null!==s$;){switch(p=(d=s$).child,d.tag){case 0:case 11:case 14:case 15:sZ(4,d,d.return);break;case 1:sJ(d,d.return);var f=d.stateNode;if("function"==typeof f.componentWillUnmount){i=d,n=d.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(e){a1(i,n,e)}}break;case 5:sJ(d,d.return);break;case 22:if(null!==d.memoizedState){at(h);continue}}null!==p?(p.return=d,s$=p):at(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{r=h.stateNode,c?(o=r.style,"function"==typeof o.setProperty?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=ez("display",s))}catch(t){a1(e,e.return,t)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){a1(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:s8(t,e),s7(e),4&i&&s5(e);case 21:}}function s7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(s0(n)){var i=n;break e}n=n.return}throw Error(m(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ek(r,""),i.flags&=-33);var o=s1(e);!function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=s1(e);!function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!=(i=i._reactRootContainer)||null!==n.onclick||(n.onclick=iz));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,a,s);break;default:throw Error(m(161))}}catch(t){a1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ae(e){for(;null!==s$;){var t=s$;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sH||sX(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!sH){if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:rF(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}}var o=t.updateQueue;null!==o&&r6(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}r6(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&tY(h)}}}break;default:throw Error(m(163))}sH||512&t.flags&&sG(t)}catch(e){a1(t,t.return,e)}}if(t===e){s$=null;break}if(null!==(n=t.sibling)){n.return=t.return,s$=n;break}s$=t.return}}function at(e){for(;null!==s$;){var t=s$;if(t===e){s$=null;break}var n=t.sibling;if(null!==n){n.return=t.return,s$=n;break}s$=t.return}}function an(e){for(;null!==s$;){var t=s$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sX(4,t)}catch(e){a1(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(e){a1(t,r,e)}}var o=t.return;try{sG(t)}catch(e){a1(t,o,e)}break;case 5:var s=t.return;try{sG(t)}catch(e){a1(t,s,e)}}}catch(e){a1(t,t.return,e)}if(t===e){s$=null;break}var a=t.sibling;if(null!==a){a.return=t.return,s$=a;break}s$=t.return}}var ai=Math.ceil,ar=S.ReactCurrentDispatcher,ao=S.ReactCurrentOwner,as=S.ReactCurrentBatchConfig,aa=0,al=null,ac=null,au=0,am=0,ah=i2(0),ad=0,ap=null,af=0,a_=0,ay=0,av=null,ag=null,ab=0,ax=1/0,aA=null,aw=!1,aB=null,aV=null,aC=!1,aS=null,ak=0,aP=0,aM=null,az=-1,aI=0;function aN(){return 0!=(6&aa)?tn():-1!==az?az:az=tn()}function aT(e){return 0==(1&e.mode)?1:0!=(2&aa)&&0!==au?au&-au:null!==rE.transition?(0===aI&&(aI=tg()),aI):0!==(e=tw)?e:e=void 0===(e=window.event)?16:t0(e.type)}function aL(e,t,n,i){if(50<aP)throw aP=0,aM=null,Error(m(185));tx(e,n,i),(0==(2&aa)||e!==al)&&(e===al&&(0==(2&aa)&&(a_|=n),4===ad&&aD(e,au)),aE(e,i),1===n&&0===aa&&0==(1&t.mode)&&(ax=tn()+500,ra&&rc()))}function aE(e,t){var n,i,r,o=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-tm(o),a=1<<s,l=r[s];-1===l?(0==(a&n)||0!=(a&i))&&(r[s]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var s=ty(e,e===al?au:0);if(0===s)null!==o&&e7(o),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=o&&e7(o),1===t){0===e.tag&&(ra=!0),n=aO.bind(null,e),null===rs?rs=[n]:rs.push(n),ij(function(){0==(6&aa)&&rc()}),o=null}else{switch(tB(s)){case 1:o=tr;break;case 4:o=to;break;case 16:default:o=ts;break;case 536870912:o=tl}i=o,r=aF.bind(null,e),o=e9(i,r)}e.callbackPriority=t,e.callbackNode=o}}function aF(e,t){if(az=-1,aI=0,0!=(6&aa))throw Error(m(327));var n=e.callbackNode;if(aG()&&e.callbackNode!==n)return null;var i=ty(e,e===al?au:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||t)t=aQ(e,i);else{t=i;var r=aa;aa|=2;var o=a$();for((al!==e||au!==t)&&(aA=null,ax=tn()+500,aH(e,t));;)try{(function(){for(;null!==ac&&!te();)aK(ac)})();break}catch(t){aY(e,t)}rq(),ar.current=o,aa=r,null!==ac?t=0:(al=null,au=0,t=ad)}if(0!==t){if(2===t&&0!==(r=tv(e))&&(i=r,t=aj(e,r)),1===t)throw n=ap,aH(e,0),aD(e,i),aE(e,tn()),n;if(6===t)aD(e,i);else{if(r=e.current.alternate,0==(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!nQ(o(),r))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=aQ(e,i))&&0!==(o=tv(e))&&(i=o,t=aj(e,o)),1===t))throw n=ap,aH(e,0),aD(e,i),aE(e,tn()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(m(345));case 2:case 5:aX(e,ag,aA);break;case 3:if(aD(e,i),(130023424&i)===i&&10<(t=ab+500-tn())){if(0!==ty(e,0))break;if(((r=e.suspendedLanes)&i)!==i){aN(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=iL(aX.bind(null,e,ag,aA),t);break}aX(e,ag,aA);break;case 4:if(aD(e,i),(4194240&i)===i)break;for(r=-1,t=e.eventTimes;0<i;){var s=31-tm(i);o=1<<s,(s=t[s])>r&&(r=s),i&=~o}if(i=r,10<(i=(120>(i=tn()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ai(i/1960))-i)){e.timeoutHandle=iL(aX.bind(null,e,ag,aA),i);break}aX(e,ag,aA);break;default:throw Error(m(329))}}}return aE(e,tn()),e.callbackNode===n?aF.bind(null,e):null}function aj(e,t){var n=av;return e.current.memoizedState.isDehydrated&&(aH(e,t).flags|=256),2!==(e=aQ(e,t))&&(t=ag,ag=n,null!==t&&aR(t)),e}function aR(e){null===ag?ag=e:ag.push.apply(ag,e)}function aD(e,t){for(t&=~ay,t&=~a_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tm(t),i=1<<n;e[n]=-1,t&=~i}}function aO(e){if(0!=(6&aa))throw Error(m(327));aG();var t=ty(e,0);if(0==(1&t))return aE(e,tn()),null;var n=aQ(e,t);if(0!==e.tag&&2===n){var i=tv(e);0!==i&&(t=i,n=aj(e,i))}if(1===n)throw n=ap,aH(e,0),aD(e,t),aE(e,tn()),n;if(6===n)throw Error(m(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aX(e,ag,aA),aE(e,tn()),null}function aq(e,t){var n=aa;aa|=1;try{return e(t)}finally{0===(aa=n)&&(ax=tn()+500,ra&&rc())}}function aU(e){null!==aS&&0===aS.tag&&0==(6&aa)&&aG();var t=aa;aa|=1;var n=as.transition,i=tw;try{if(as.transition=null,tw=1,e)return e()}finally{tw=i,as.transition=n,0==(6&(aa=t))&&rc()}}function aW(){am=ah.current,i3(ah)}function aH(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,iE(n)),null!==ac)for(n=ac.return;null!==n;){var i=n;switch(rA(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&rt();break;case 3:of(),i3(i8),i3(i5),ox();break;case 5:oy(i);break;case 4:of();break;case 13:case 19:i3(ov);break;case 10:rU(i.type._context);break;case 22:case 23:aW()}n=n.return}if(al=e,ac=e=a7(e.current,null),au=am=t,ad=0,ap=null,ay=a_=af=0,ag=av=null,null!==r$){for(t=0;t<r$.length;t++)if(null!==(i=(n=r$[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}r$=null}return e}function aY(e,t){for(;;){var n=ac;try{if(rq(),oA.current=ss,ok){for(var i=oV.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ok=!1}if(oB=0,oS=oC=oV=null,oP=!1,oM=0,ao.current=null,null===n||null===n.return){ad=1,ap=t,ac=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=au,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=a,h=u.tag;if(0==(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=sy(s);if(null!==p){p.flags&=-257,sv(p,s,a,o,t),1&p.mode&&s_(o,c,t),t=p,l=c;var f=t.updateQueue;if(null===f){var _=new Set;_.add(l),t.updateQueue=_}else f.add(l);break e}if(0==(1&t)){s_(o,c,t),aJ();break e}l=Error(m(426))}else if(rV&&1&a.mode){var y=sy(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),sv(y,s,a,o,t),rL(su(l,a));break e}}o=l=su(l,a),4!==ad&&(ad=2),null===av?av=[o]:av.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=sp(o,l,t);r3(o,v);break e;case 1:a=l;var g=o.type,b=o.stateNode;if(0==(128&o.flags)&&("function"==typeof g.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===aV||!aV.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=sf(o,a,t);r3(o,x);break e}}o=o.return}while(null!==o)}aZ(n)}catch(e){t=e,ac===n&&null!==n&&(ac=n=n.return);continue}break}}function a$(){var e=ar.current;return ar.current=ss,null===e?ss:e}function aJ(){(0===ad||3===ad||2===ad)&&(ad=4),null===al||0==(268435455&af)&&0==(268435455&a_)||aD(al,au)}function aQ(e,t){var n=aa;aa|=2;var i=a$();for((al!==e||au!==t)&&(aA=null,aH(e,t));;)try{(function(){for(;null!==ac;)aK(ac)})();break}catch(t){aY(e,t)}if(rq(),aa=n,ar.current=i,null!==ac)throw Error(m(261));return al=null,au=0,ad}function aK(e){var t=l(e.alternate,e,am);e.memoizedProps=e.pendingProps,null===t?aZ(e):ac=t,ao.current=null}function aZ(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var i=t.pendingProps;switch(rA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sU(t),null;case 1:case 17:return re(t.type)&&rt(),sU(t),null;case 3:return i=t.stateNode,of(),i3(i8),i3(i5),ox(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(rI(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==rC&&(aR(rC),rC=null))),o(e,t),sU(t),null;case 5:oy(t);var l=od(oh.current);if(n=t.type,null!==e&&null!=t.stateNode)s(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(m(166));return sU(t),null}if(e=od(ou.current),rI(t)){i=t.stateNode,n=t.type;var c=t.memoizedProps;switch(i[iW]=t,i[iH]=c,e=0!=(1&t.mode),n){case"dialog":iy("cancel",i),iy("close",i);break;case"iframe":case"object":case"embed":iy("load",i);break;case"video":case"audio":for(l=0;l<ih.length;l++)iy(ih[l],i);break;case"source":iy("error",i);break;case"img":case"image":case"link":iy("error",i),iy("load",i);break;case"details":iy("toggle",i);break;case"input":eh(i,c),iy("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},iy("invalid",i);break;case"textarea":eb(i,c),iy("invalid",i)}for(var u in eT(n,c),l=null,c)if(c.hasOwnProperty(u)){var h=c[u];"children"===u?"string"==typeof h?i.textContent!==h&&(!0!==c.suppressHydrationWarning&&iM(i.textContent,h,e),l=["children",h]):"number"==typeof h&&i.textContent!==""+h&&(!0!==c.suppressHydrationWarning&&iM(i.textContent,h,e),l=["children",""+h]):d.hasOwnProperty(u)&&null!=h&&"onScroll"===u&&iy("scroll",i)}switch(n){case"input":el(i),ef(i,c,!0);break;case"textarea":el(i),eA(i);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(i.onclick=iz)}i=l,t.updateQueue=i,null!==i&&(t.flags|=4)}else{u=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ew(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),"select"===n&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[iW]=t,e[iH]=i,r(e,t,!1,!1),t.stateNode=e;e:{switch(u=eL(n,i),n){case"dialog":iy("cancel",e),iy("close",e),l=i;break;case"iframe":case"object":case"embed":iy("load",e),l=i;break;case"video":case"audio":for(l=0;l<ih.length;l++)iy(ih[l],e);l=i;break;case"source":iy("error",e),l=i;break;case"img":case"image":case"link":iy("error",e),iy("load",e),l=i;break;case"details":iy("toggle",e),l=i;break;case"input":eh(e,i),l=em(e,i),iy("invalid",e);break;case"option":default:l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=en({},i,{value:void 0}),iy("invalid",e);break;case"textarea":eb(e,i),l=eg(e,i),iy("invalid",e)}for(c in eT(n,l),h=l)if(h.hasOwnProperty(c)){var p=h[c];"style"===c?eI(e,p):"dangerouslySetInnerHTML"===c?null!=(p=p?p.__html:void 0)&&eS(e,p):"children"===c?"string"==typeof p?("textarea"!==n||""!==p)&&ek(e,p):"number"==typeof p&&ek(e,""+p):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(d.hasOwnProperty(c)?null!=p&&"onScroll"===c&&iy("scroll",e):null!=p&&C(e,c,p,u))}switch(n){case"input":el(e),ef(e,i,!1);break;case"textarea":el(e),eA(e);break;case"option":null!=i.value&&e.setAttribute("value",""+es(i.value));break;case"select":e.multiple=!!i.multiple,null!=(c=i.value)?ev(e,!!i.multiple,c,!1):null!=i.defaultValue&&ev(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=iz)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return sU(t),null;case 6:if(e&&null!=t.stateNode)a(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(m(166));if(n=od(oh.current),od(ou.current),rI(t)){if(i=t.stateNode,n=t.memoizedProps,i[iW]=t,(c=i.nodeValue!==n)&&null!==(e=rw))switch(e.tag){case 3:iM(i.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&iM(i.nodeValue,n,0!=(1&e.mode))}c&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[iW]=t,t.stateNode=i}return sU(t),null;case 13:if(i3(ov),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rV&&null!==rB&&0!=(1&t.mode)&&0==(128&t.flags))rN(),rT(),t.flags|=98560,c=!1;else if(c=rI(t),null!==i&&null!==i.dehydrated){if(null===e){if(!c)throw Error(m(318));if(!(c=null!==(c=t.memoizedState)?c.dehydrated:null))throw Error(m(317));c[iW]=t}else rT(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sU(t),c=!1}else null!==rC&&(aR(rC),rC=null),c=!0;if(!c)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(i=null!==i)!=(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ov.current)?0===ad&&(ad=3):aJ())),null!==t.updateQueue&&(t.flags|=4),sU(t),null;case 4:return of(),o(e,t),null===e&&ib(t.stateNode.containerInfo),sU(t),null;case 10:return rU(t.type._context),sU(t),null;case 19:if(i3(ov),null===(c=t.memoizedState))return sU(t),null;if(i=0!=(128&t.flags),null===(u=c.rendering)){if(i)sq(c,!1);else{if(0!==ad||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=og(e))){for(t.flags|=128,sq(c,!1),null!==(i=u.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)c=n,e=i,c.flags&=14680066,null===(u=c.alternate)?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=u.childLanes,c.lanes=u.lanes,c.child=u.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=u.memoizedProps,c.memoizedState=u.memoizedState,c.updateQueue=u.updateQueue,c.type=u.type,e=u.dependencies,c.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return i4(ov,1&ov.current|2),t.child}e=e.sibling}null!==c.tail&&tn()>ax&&(t.flags|=128,i=!0,sq(c,!1),t.lanes=4194304)}}else{if(!i){if(null!==(e=og(u))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sq(c,!0),null===c.tail&&"hidden"===c.tailMode&&!u.alternate&&!rV)return sU(t),null}else 2*tn()-c.renderingStartTime>ax&&1073741824!==n&&(t.flags|=128,i=!0,sq(c,!1),t.lanes=4194304)}c.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=c.last)?n.sibling=u:t.child=u,c.last=u)}if(null!==c.tail)return t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=tn(),t.sibling=null,n=ov.current,i4(ov,i?1&n|2:1&n),t;return sU(t),null;case 22:case 23:return aW(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(1073741824&am)&&(sU(t),6&t.subtreeFlags&&(t.flags|=8192)):sU(t),null;case 24:case 25:return null}throw Error(m(156,t.tag))}(n,t,am))){ac=n;return}}else{if(null!==(n=function(e,t){switch(rA(t),t.tag){case 1:return re(t.type)&&rt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return of(),i3(i8),i3(i5),ox(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oy(t),null;case 13:if(i3(ov),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(m(340));rT()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return i3(ov),null;case 4:return of(),null;case 10:return rU(t.type._context),null;case 22:case 23:return aW(),null;default:return null}}(n,t))){n.flags&=32767,ac=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ad=6,ac=null;return}}if(null!==(t=t.sibling)){ac=t;return}ac=t=e}while(null!==t)0===ad&&(ad=5)}function aX(e,t,n){var i=tw,r=as.transition;try{as.transition=null,tw=1,function(e,t,n,i){do aG();while(null!==aS)if(0!=(6&aa))throw Error(m(327));n=e.finishedWork;var r=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(m(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-tm(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,o),e===al&&(ac=al=null,au=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||aC||(aC=!0,s=ts,a=function(){return aG(),null},e9(s,a)),o=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||o){o=as.transition,as.transition=null;var s,a,l,c,u,h=tw;tw=1;var d=aa;aa|=4,ao.current=null,function(e,t){if(iI=tJ,n0(e=nG())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r,o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(;d!==n||0!==o&&3!==d.nodeType||(l=a+o),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(r=d.firstChild);)p=d,d=r;for(;;){if(d===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++h===i&&(c=a),null!==(r=d.nextSibling))break;p=(d=p).parentNode}d=r}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(iN={focusedElem:e,selectionRange:n},tJ=!1,s$=t;null!==s$;)if(e=(t=s$).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,s$=e;else for(;null!==s$;){t=s$;try{var f=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var _=f.memoizedProps,y=f.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:rF(t.type,_),y);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(m(163))}}catch(e){a1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,s$=e;break}s$=t.return}f=sK,sK=!1}(e,n),s9(n,e),function(e){var t=nG(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==i&&n0(n)){if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=nX(n,o);var s=nX(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(iN),tJ=!!iI,iN=iI=null,e.current=n,l=n,c=e,u=r,s$=l,function e(t,n,i){for(var r=0!=(1&t.mode);null!==s$;){var o=s$,s=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||sW;if(!a){var l=o.alternate,c=null!==l&&null!==l.memoizedState||sH;l=sW;var u=sH;if(sW=a,(sH=c)&&!u)for(s$=o;null!==s$;)c=(a=s$).child,22===a.tag&&null!==a.memoizedState?an(o):null!==c?(c.return=a,s$=c):an(o);for(;null!==s;)s$=s,e(s,n,i),s=s.sibling;s$=o,sW=l,sH=u}ae(t,n,i)}else 0!=(8772&o.subtreeFlags)&&null!==s?(s.return=o,s$=s):ae(t,n,i)}}(l,c,u),tt(),aa=d,tw=h,as.transition=o}else e.current=n;if(aC&&(aC=!1,aS=e,ak=r),0===(o=e.pendingLanes)&&(aV=null),function(e){if(tu&&"function"==typeof tu.onCommitFiberRoot)try{tu.onCommitFiberRoot(tc,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,i),aE(e,tn()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((r=t[n]).value,{componentStack:r.stack,digest:r.digest});if(aw)throw aw=!1,e=aB,aB=null,e;0!=(1&ak)&&0!==e.tag&&aG(),0!=(1&(o=e.pendingLanes))?e===aM?aP++:(aP=0,aM=e):aP=0,rc()}}(e,t,n,i)}finally{as.transition=r,tw=i}return null}function aG(){if(null!==aS){var e=tB(ak),t=as.transition,n=tw;try{if(as.transition=null,tw=16>e?16:e,null===aS)var i=!1;else{if(e=aS,aS=null,ak=0,0!=(6&aa))throw Error(m(331));var r=aa;for(aa|=4,s$=e.current;null!==s$;){var o=s$,s=o.child;if(0!=(16&s$.flags)){var a=o.deletions;if(null!==a){for(var l=0;l<a.length;l++){var c=a[l];for(s$=c;null!==s$;){var u=s$;switch(u.tag){case 0:case 11:case 15:sZ(8,u,o)}var h=u.child;if(null!==h)h.return=u,s$=h;else for(;null!==s$;){var d=(u=s$).sibling,p=u.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[iW],delete n[iH],delete n[i$],delete n[iJ],delete n[iQ]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(u),u===c){s$=null;break}if(null!==d){d.return=p,s$=d;break}s$=p}}}var f=o.alternate;if(null!==f){var _=f.child;if(null!==_){f.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(null!==_)}}s$=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,s$=s;else for(;null!==s$;){if(o=s$,0!=(2048&o.flags))switch(o.tag){case 0:case 11:case 15:sZ(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,s$=v;break}s$=o.return}}var g=e.current;for(s$=g;null!==s$;){var b=(s=s$).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,s$=b;else for(s=g;null!==s$;){if(a=s$,0!=(2048&a.flags))try{switch(a.tag){case 0:case 11:case 15:sX(9,a)}}catch(e){a1(a,a.return,e)}if(a===s){s$=null;break}var x=a.sibling;if(null!==x){x.return=a.return,s$=x;break}s$=a.return}}if(aa=r,rc(),tu&&"function"==typeof tu.onPostCommitFiberRoot)try{tu.onPostCommitFiberRoot(tc,e)}catch(e){}i=!0}return i}finally{tw=n,as.transition=t}}return!1}function a0(e,t,n){t=su(n,t),t=sp(e,t,1),e=r1(e,t,1),t=aN(),null!==e&&(tx(e,1,t),aE(e,t))}function a1(e,t,n){if(3===e.tag)a0(e,e,n);else for(;null!==t;){if(3===t.tag){a0(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===aV||!aV.has(i))){e=su(n,e),e=sf(t,e,1),t=r1(t,e,1),e=aN(),null!==t&&(tx(t,1,e),aE(t,e));break}}t=t.return}}function a2(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=aN(),e.pingedLanes|=e.suspendedLanes&n,al===e&&(au&n)===n&&(4===ad||3===ad&&(130023424&au)===au&&500>tn()-ab?aH(e,0):ay|=n),aE(e,t)}function a3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tf,0==(130023424&(tf<<=1))&&(tf=4194304)));var n=aN();null!==(e=rK(e,t))&&(tx(e,t,n),aE(e,n))}function a4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),a3(e,n)}function a6(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(m(314))}null!==i&&i.delete(t),a3(e,n)}function a5(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function a8(e,t,n,i){return new a5(e,t,n,i)}function a9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function a7(e,t){var n=e.alternate;return null===n?((n=a8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)a9(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case M:return lt(n.children,r,o,t);case z:s=8,r|=8;break;case I:return(e=a8(12,n,t,2|r)).elementType=I,e.lanes=o,e;case E:return(e=a8(13,n,t,r)).elementType=E,e.lanes=o,e;case F:return(e=a8(19,n,t,r)).elementType=F,e.lanes=o,e;case D:return ln(n,r,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case T:s=9;break e;case L:s=11;break e;case j:s=14;break e;case R:s=16,i=null;break e}throw Error(m(130,null==e?e:typeof e,""))}return(t=a8(s,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function lt(e,t,n,i){return(e=a8(7,e,i,t)).lanes=n,e}function ln(e,t,n,i){return(e=a8(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function li(e,t,n){return(e=a8(6,e,null,t)).lanes=n,e}function lr(e,t,n){return(t=a8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lo(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ls(e,t,n,i,r,o,s,a,l){return e=new lo(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=a8(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rX(o),e}function la(e){if(!e)return i6;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(m(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(m(171))}if(1===e.tag){var n=e.type;if(re(n))return ri(e,n,t)}return t}function ll(e,t,n,i,r,o,s,a,l){return(e=ls(n,i,!0,e,r,o,s,a,l)).context=la(null),n=e.current,(o=r0(i=aN(),r=aT(n))).callback=null!=t?t:null,r1(n,o,r),e.current.lanes=r,tx(e,r,i),aE(e,i),e}function lc(e,t,n,i){var r=t.current,o=aN(),s=aT(r);return n=la(n),null===t.context?t.context=n:t.pendingContext=n,(t=r0(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=r1(r,t,s))&&(aL(e,r,s,o),r2(e,r,s)),s}function lu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lh(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||i8.current)sb=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return sb=!1,function(e,t,n){switch(t.tag){case 3:sM(t),rT();break;case 5:o_(t);break;case 1:re(t.type)&&rr(t);break;case 4:op(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;i4(rj,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState)){if(null!==i.dehydrated)return i4(ov,1&ov.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return sT(e,t,n);return i4(ov,1&ov.current),null!==(e=sO(e,t,n))?e.sibling:null}i4(ov,1&ov.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(128&e.flags)){if(i)return sR(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),i4(ov,ov.current),!i)return null;break;case 22:case 23:return t.lanes=0,sV(e,t,n)}return sO(e,t,n)}(e,t,n);sb=0!=(131072&e.flags)}}else sb=!1,rV&&0!=(1048576&t.flags)&&rb(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;sD(e,t),e=t.pendingProps;var r=i7(t,i5.current);rH(t,n),r=oT(null,t,i,e,r,n);var o=oL();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,re(i)?(o=!0,rr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,rX(t),r.updater=r9,t.stateNode=r,r._reactInternals=t,on(t,i,e,n),t=sP(null,t,i,!0,o,n)):(t.tag=0,rV&&o&&rx(t),sx(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(sD(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"==typeof e)return a9(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===j)return 14}return 2}(i),e=rF(i,e),r){case 0:t=sS(null,t,i,e,n);break e;case 1:t=sk(null,t,i,e,n);break e;case 11:t=sA(null,t,i,e,n);break e;case 14:t=sw(null,t,i,rF(i.type,e),n);break e}throw Error(m(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rF(i,r),sS(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rF(i,r),sk(e,t,i,r,n);case 3:e:{if(sM(t),null===e)throw Error(m(387));i=t.pendingProps,r=(o=t.memoizedState).element,rG(e,t),r4(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){r=su(Error(m(423)),t),t=sz(e,t,i,n,r);break e}if(i!==r){r=su(Error(m(424)),t),t=sz(e,t,i,n,r);break e}for(rB=iO(t.stateNode.containerInfo.firstChild),rw=t,rV=!0,rC=null,n=ol(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(rT(),i===r){t=sO(e,t,n);break e}sx(e,t,i,n)}t=t.child}return t;case 5:return o_(t),null===e&&rM(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,iT(i,r)?s=null:null!==o&&iT(i,o)&&(t.flags|=32),sC(e,t),sx(e,t,s,n),t.child;case 6:return null===e&&rM(t),null;case 13:return sT(e,t,n);case 4:return op(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=oa(t,null,i,n):sx(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rF(i,r),sA(e,t,i,r,n);case 7:return sx(e,t,t.pendingProps,n),t.child;case 8:case 12:return sx(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,i4(rj,i._currentValue),i._currentValue=s,null!==o){if(nQ(o.value,s)){if(o.children===r.children&&!i8.current){t=sO(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var l=a.firstContext;null!==l;){if(l.context===i){if(1===o.tag){(l=r0(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),rW(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(m(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),rW(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}sx(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,rH(t,n),r=rY(r),i=i(r),t.flags|=1,sx(e,t,i,n),t.child;case 14:return r=rF(i=t.type,t.pendingProps),r=rF(i.type,r),sw(e,t,i,r,n);case 15:return sB(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rF(i,r),sD(e,t),t.tag=1,re(i)?(e=!0,rr(t)):e=!1,rH(t,n),oe(t,i,r),on(t,i,r,n),sP(null,t,i,!0,e,n);case 19:return sR(e,t,n);case 22:return sV(e,t,n)}throw Error(m(156,t.tag))};var ld="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function lf(e){this._internalRoot=e}function l_(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lv(){}function lg(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof r){var a=r;r=function(){var e=lu(s);a.call(e)}}lc(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"==typeof i){var o=i;i=function(){var e=lu(s);o.call(e)}}var s=ll(t,i,e,0,null,!1,!1,"",lv);return e._reactRootContainer=s,e[iY]=s.current,ib(8===e.nodeType?e.parentNode:e),aU(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof i){var a=i;i=function(){var e=lu(l);a.call(e)}}var l=ls(e,0,!1,null,null,!1,!1,"",lv);return e._reactRootContainer=l,e[iY]=l.current,ib(8===e.nodeType?e.parentNode:e),aU(function(){lc(t,l,n,i)}),l}(n,t,e,r,i);return lu(s)}lf.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(m(409));lc(e,t,null,null)},lf.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;aU(function(){lc(null,e,null,null)}),t[iY]=null}},lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=tk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tF.length&&0!==t&&t<tF[n].priority;n++);tF.splice(n,0,e),0===n&&tO(e)}},tV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=t_(t.pendingLanes);0!==n&&(tA(t,1|n),aE(t,tn()),0==(6&aa)&&(ax=tn()+500,rc()))}break;case 13:aU(function(){var t=rK(e,1);null!==t&&aL(t,e,1,aN())}),lh(e,1)}},tC=function(e){if(13===e.tag){var t=rK(e,134217728);null!==t&&aL(t,e,134217728,aN()),lh(e,134217728)}},tS=function(e){if(13===e.tag){var t=aT(e),n=rK(e,t);null!==n&&aL(n,e,t,aN()),lh(e,t)}},tk=function(){return tw},tP=function(e,t){var n=tw;try{return tw=e,t()}finally{tw=n}},ej=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=iG(i);if(!r)throw Error(m(90));ec(i),ep(i,r)}}}break;case"textarea":ex(e,n);break;case"select":null!=(t=n.value)&&ev(e,!!n.multiple,t,!1)}},eW=aq,eH=aU;var lb={findFiberByHostInstance:iK,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lx={bundleType:lb.bundleType,version:lb.version,rendererPackageName:lb.rendererPackageName,rendererConfig:lb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:lb.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lA.isDisabled&&lA.supportsFiber)try{tc=lA.inject(lx),tu=lA}catch(e){}}U={usingClientEntryPoint:!1,Events:[iZ,iX,iG,eq,eU,aq]},W=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!l_(t))throw Error(m(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==i?null:""+i,children:e,containerInfo:t,implementation:null}}(e,t,null,n)},H=function(e,t){if(!l_(e))throw Error(m(299));var n=!1,i="",r=ld;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=ls(e,1,!1,null,null,n,!1,i,r),e[iY]=t.current,ib(8===e.nodeType?e.parentNode:e),new lp(t)},Y=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(m(188));throw Error(m(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},$=function(e){return aU(e)},J=function(e,t,n){if(!ly(t))throw Error(m(200));return lg(null,e,t,!0,n)},Q=function(e,t,n){if(!l_(e))throw Error(m(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",s=ld;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,r,!1,o,s),e[iY]=t.current,ib(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new lf(t)},K=function(e,t,n){if(!ly(t))throw Error(m(200));return lg(null,e,t,!1,n)},Z=function(e){if(!ly(e))throw Error(m(40));return!!e._reactRootContainer&&(aU(function(){lg(null,null,e,!1,function(){e._reactRootContainer=null,e[iY]=null})}),!0)},X=aq,G=function(e,t,n,i){if(!ly(n))throw Error(m(200));if(null==e||void 0===e._reactInternals)throw Error(m(38));return lg(e,t,n,!1,i)},ee="18.2.0-next-9e3b772b8-20220608"}),x.register("fO90s",function(e,t){e.exports=x("gcnCG")}),x.register("gcnCG",function(t,n){function i(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,r=e[i];if(0<s(r,t))e[i]=t,e[n]=r,n=i;else break}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else if(c<r&&0>s(u,n))e[i]=u,e[c]=n,i=c;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e(t.exports,"unstable_now",()=>a,e=>a=e),e(t.exports,"unstable_IdlePriority",()=>l,e=>l=e),e(t.exports,"unstable_ImmediatePriority",()=>c,e=>c=e),e(t.exports,"unstable_LowPriority",()=>u,e=>u=e),e(t.exports,"unstable_NormalPriority",()=>m,e=>m=e),e(t.exports,"unstable_Profiling",()=>h,e=>h=e),e(t.exports,"unstable_UserBlockingPriority",()=>d,e=>d=e),e(t.exports,"unstable_cancelCallback",()=>p,e=>p=e),e(t.exports,"unstable_continueExecution",()=>f,e=>f=e),e(t.exports,"unstable_forceFrameRate",()=>_,e=>_=e),e(t.exports,"unstable_getCurrentPriorityLevel",()=>y,e=>y=e),e(t.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),e(t.exports,"unstable_next",()=>g,e=>g=e),e(t.exports,"unstable_pauseExecution",()=>b,e=>b=e),e(t.exports,"unstable_requestPaint",()=>x,e=>x=e),e(t.exports,"unstable_runWithPriority",()=>A,e=>A=e),e(t.exports,"unstable_scheduleCallback",()=>w,e=>w=e),e(t.exports,"unstable_shouldYield",()=>B,e=>B=e),e(t.exports,"unstable_wrapCallback",()=>V,e=>V=e),"object"==typeof performance&&"function"==typeof performance.now){var a,l,c,u,m,h,d,p,f,_,y,v,g,b,x,A,w,B,V,C,S=performance;a=function(){return S.now()}}else{var k=Date,P=k.now();a=function(){return k.now()-P}}var M=[],z=[],I=1,N=null,T=3,L=!1,E=!1,F=!1,j="function"==typeof setTimeout?setTimeout:null,R="function"==typeof clearTimeout?clearTimeout:null,D="undefined"!=typeof setImmediate?setImmediate:null;function O(e){for(var t=r(z);null!==t;){if(null===t.callback)o(z);else if(t.startTime<=e)o(z),t.sortIndex=t.expirationTime,i(M,t);else break;t=r(z)}}function q(e){if(F=!1,O(e),!E){if(null!==r(M))E=!0,G(U);else{var t=r(z);null!==t&&ee(q,t.startTime-e)}}}function U(e,t){E=!1,F&&(F=!1,R(Y),Y=-1),L=!0;var n=T;try{for(O(t),N=r(M);null!==N&&(!(N.expirationTime>t)||e&&!Q());){var i=N.callback;if("function"==typeof i){N.callback=null,T=N.priorityLevel;var s=i(N.expirationTime<=t);t=a(),"function"==typeof s?N.callback=s:N===r(M)&&o(M),O(t)}else o(M);N=r(M)}if(null!==N)var l=!0;else{var c=r(z);null!==c&&ee(q,c.startTime-t),l=!1}return l}finally{N=null,T=n,L=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var W=!1,H=null,Y=-1,$=5,J=-1;function Q(){return!(a()-J<$)}function K(){if(null!==H){var e=a();J=e;var t=!0;try{t=H(!0,e)}finally{t?C():(W=!1,H=null)}}else W=!1}if("function"==typeof D)C=function(){D(K)};else if("undefined"!=typeof MessageChannel){var Z=new MessageChannel,X=Z.port2;Z.port1.onmessage=K,C=function(){X.postMessage(null)}}else C=function(){j(K,0)};function G(e){H=e,W||(W=!0,C())}function ee(e,t){Y=j(function(){e(a())},t)}l=5,c=1,u=4,m=3,h=null,d=2,p=function(e){e.callback=null},f=function(){E||L||(E=!0,G(U))},_=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<e?Math.floor(1e3/e):5},y=function(){return T},v=function(){return r(M)},g=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},b=function(){},x=function(){},A=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},w=function(e,t,n){var o=a();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?o+n:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=n+s,e={id:I++,callback:t,priorityLevel:e,startTime:n,expirationTime:s,sortIndex:-1},n>o?(e.sortIndex=n,i(z,e),null===r(M)&&e===r(z)&&(F?(R(Y),Y=-1):F=!0,ee(q,n-o))):(e.sortIndex=s,i(M,e),E||L||(E=!0,G(U))),e},B=Q,V=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}}),x.register("hOzOt",function(e,t){var n=x("kZO5c");function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,i,r,o,s){if(s!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return o.PropTypes=o,o}}),x.register("kZO5c",function(e,t){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});var A={};A=x("1b2ls"),x("acw62");var w={};e(w,"createRoot",()=>c,e=>c=e),e(w,"hydrateRoot",()=>u,e=>u=e);var B={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),c=(B=x("Xw6Mv")).createRoot,u=B.hydrateRoot;var V=(x("acw62"),x("acw62"));function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}(n=m||(m={})).Pop="POP",n.Push="PUSH",n.Replace="REPLACE";const S="popstate";function k(e,t){if(!1===e||null==e)throw Error(t)}function P(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function M(e,t){return{usr:e.state,key:e.key,idx:t}}function z(e,t,n,i){return void 0===n&&(n=null),C({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?N(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function I(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}(i=h||(h={})).data="data",i.deferred="deferred",i.redirect="redirect",i.error="error";const T=/^:\w+$/,L=e=>"*"===e;function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function F(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t,n,i){let r,o;void 0===i&&(i=!1),"string"==typeof e?r=N(e):(k(!(r=C({},e)).pathname||!r.pathname.includes("?"),F("?","pathname","search",r)),k(!r.pathname||!r.pathname.includes("#"),F("#","pathname","hash",r)),k(!r.search||!r.search.includes("#"),F("#","search","hash",r)));let s=""===e||""===r.pathname,a=s?"/":r.pathname;if(i||null==a)o=n;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){let n;void 0===t&&(t="/");let{pathname:i,search:r="",hash:o=""}="string"==typeof e?N(e):e;return{pathname:i?i.startsWith("/")?i:(n=t.replace(/\/+$/,"").split("/"),i.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:q(r),hash:U(o)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const D=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function W(){return(W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}Symbol("deferred");const H=V.createContext(null),Y=V.createContext(null),$=V.createContext(null),J=V.createContext(null),Q=V.createContext({outlet:null,matches:[],isDataRoute:!1}),K=V.createContext(null);function Z(){return null!=V.useContext(J)}function X(){return Z()||k(!1),V.useContext(J).location}function G(e){V.useContext($).static||V.useLayoutEffect(e)}function ee(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=V.useContext(Q),{pathname:r}=X(),o=JSON.stringify(j(i).map(e=>e.pathnameBase));return V.useMemo(()=>R(e,JSON.parse(o),r,"path"===n),[e,o,r,n])}const et=V.createElement(function(){var e;let t,n,i;let r=(n=V.useContext(K),p.UseRouteError,(t=V.useContext(Y))||k(!1),i=er(p.UseRouteError),n||(null==(e=t.errors)?void 0:e[i])),o=null!=r&&"number"==typeof r.status&&"string"==typeof r.statusText&&"boolean"==typeof r.internal&&"data"in r?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},o),s?V.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},s):null,null)},null);class en extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?V.createElement(Q.Provider,{value:this.props.routeContext},V.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ei(e){let{routeContext:t,match:n,children:i}=e,r=V.useContext(H);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Q.Provider,{value:t},i)}function er(e){let t;let n=((t=V.useContext(Q))||k(!1),t),i=n.matches[n.matches.length-1];return i.route.id||k(!1),i.route.id}function eo(e){k(!1)}function es(e){let{basename:t="/",children:n=null,location:i,navigationType:r=m.Pop,navigator:o,static:s=!1}=e;Z()&&k(!1);let a=t.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);"string"==typeof i&&(i=N(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=i,f=V.useMemo(()=>{let e=E(c,a);return null==e?null:{location:{pathname:e,search:u,hash:h,state:d,key:p},navigationType:r}},[a,c,u,h,d,p,r]);return null==f?null:V.createElement($.Provider,{value:l},V.createElement(J.Provider,{children:n,value:f}))}function ea(e){let{children:t,location:n}=e;return function(e,t,n){let i;Z()||k(!1);let{navigator:r}=V.useContext($),{matches:o}=V.useContext(Q),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=X();if(t){var u;let e="string"==typeof t?N(t):t;"/"===l||(null==(u=e.pathname)?void 0:u.startsWith(l))||k(!1),i=e}else i=c;let h=i.pathname||"/",d=function(e,t,n){void 0===n&&(n="/");let i=E(("string"==typeof t?N(t):t).pathname||"/",n);if(null==i)return null;let r=function e(t,n,i,r){void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r="");let o=(t,o,s)=>{var a;let l,c,u={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};u.relativePath.startsWith("/")&&(k(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(r.length));let m=D([r,u.relativePath]),h=i.concat(u);t.children&&t.children.length>0&&(k(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+m+'".'),e(t.children,n,h,m)),(null!=t.path||t.index)&&n.push({path:m,score:(a=t.index,c=(l=m.split("/")).length,l.some(L)&&(c+=-2),a&&(c+=2),l.filter(e=>!L(e)).reduce((e,t)=>e+(T.test(t)?3:""===t?1:10),c)),routesMeta:h})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[i,...r]=n,o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===r.length)return o?[s,""]:[s];let a=e(r.join("/")),l=[];return l.push(...a.map(e=>""===e?s:[s,e].join("/"))),o&&l.push(...a),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))o(e,t,n);else o(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,i;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),i=t.routesMeta.map(e=>e.childrenIndex),n.length===i.length&&n.slice(0,-1).every((e,t)=>e===i[t])?n[n.length-1]-i[i.length-1]:0)})}(r);let o=null;for(let e=0;null==o&&e<r.length;++e)o=function(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=function(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(e,t)=>(i.push(t),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((e,t,n)=>{if("*"===t){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e},{}),pathname:o,pathnameBase:s,pattern:e}}({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let u=s.route;o.push({params:i,pathname:D([r,c.pathname]),pathnameBase:O(D([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=D([r,c.pathnameBase]))}return o}(r[e],function(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i));return o}(e,{pathname:"/"===l?h:h.slice(l.length)||"/"}),p=function(e,t,n){var i,r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){if(null==(r=n)||!r.errors)return null;e=n.matches}let o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&(null==s?void 0:s[e.route.id]));e>=0||k(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight((e,i,r)=>{let a=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;n&&(l=i.route.errorElement||et);let c=t.concat(o.slice(0,r+1)),u=()=>{let t;return t=a?l:i.route.Component?V.createElement(i.route.Component,null):i.route.element?i.route.element:e,V.createElement(ei,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?V.createElement(en,{location:n.location,revalidation:n.revalidation,component:l,error:a,children:u(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):u()},null)}(d&&d.map(e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:D([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:D([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,void 0);return t&&p?V.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:m.Pop}},p):p}(function e(t,n){void 0===n&&(n=[]);let i=[];return V.Children.forEach(t,(t,r)=>{if(!V.isValidElement(t))return;let o=[...n,r];if(t.type===V.Fragment){i.push.apply(i,e(t.props.children,o));return}t.type!==eo&&k(!1),t.props.index&&t.props.children&&k(!1);let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=e(t.props.children,o)),i.push(s)}),i}(t),n)}function el(){return(el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ec(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(r=d||(d={})).UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",(o=p||(p={})).UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",V.startTransition,(s=f||(f={}))[s.pending=0]="pending",s[s.success=1]="success",s[s.error=2]="error",new Promise(()=>{});const eu=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],em=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset"],eh=V.startTransition;function ed(e){let{basename:t,children:n,future:i,window:r}=e,o=V.useRef();null==o.current&&(o.current=function(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=m.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=m.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"==typeof e?e:I(e);return k(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(C({},s.state,{idx:c}),""));let p={get action(){return a},get location(){return e(r,s)},listen(e){if(l)throw Error("A history only accepts one active listener");return r.addEventListener(S,h),l=e,()=>{r.removeEventListener(S,h),l=null}},createHref:e=>t(r,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=m.Push;let i=z(p.location,e,t);n&&n(i,e);let h=M(i,c=u()+1),d=p.createHref(i);try{s.pushState(h,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(d)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=m.Replace;let i=z(p.location,e,t);n&&n(i,e);let r=M(i,c=u()),h=p.createHref(i);s.replaceState(r,"",h),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}(function(e,t){let{pathname:n,search:i,hash:r}=e.location;return z("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:I(t)},null,{window:r,v5Compat:!0}));let s=o.current,[a,l]=V.useState({action:s.action,location:s.location}),{v7_startTransition:c}=i||{},u=V.useCallback(e=>{c&&eh?eh(()=>l(e)):l(e)},[l,c]);return V.useLayoutEffect(()=>s.listen(u),[s,u]),V.createElement(es,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}const ep="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e_=V.forwardRef(function(e,t){let n,{onClick:i,relative:r,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u}=e,m=ec(e,eu),{basename:h}=V.useContext($),f=!1;if("string"==typeof c&&ef.test(c)&&(n=c,ep))try{let e=new URL(window.location.href),t=new URL(c.startsWith("//")?e.protocol+c:c),n=E(t.pathname,h);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:f=!0}catch(e){}let _=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||k(!1);let{basename:i,navigator:r}=V.useContext($),{hash:o,pathname:s,search:a}=ee(e,{relative:n}),l=s;return"/"!==i&&(l="/"===s?i:D([i,s])),r.createHref({pathname:l,search:a,hash:o})}(c,{relative:r}),y=function(e,t){let{target:n,replace:i,state:r,preventScrollReset:o,relative:s}=void 0===t?{}:t,a=function(){let{isDataRoute:e}=V.useContext(Q);return e?function(){let e;let{router:t}=(d.UseNavigateStable,(e=V.useContext(H))||k(!1),e),n=er(p.UseNavigateStable),i=V.useRef(!1);return G(()=>{i.current=!0}),V.useCallback(function(e,r){void 0===r&&(r={}),i.current&&("number"==typeof e?t.navigate(e):t.navigate(e,W({fromRouteId:n},r)))},[t,n])}():function(){Z()||k(!1);let e=V.useContext(H),{basename:t,navigator:n}=V.useContext($),{matches:i}=V.useContext(Q),{pathname:r}=X(),o=JSON.stringify(j(i).map(e=>e.pathnameBase)),s=V.useRef(!1);return G(()=>{s.current=!0}),V.useCallback(function(i,a){if(void 0===a&&(a={}),!s.current)return;if("number"==typeof i){n.go(i);return}let l=R(i,JSON.parse(o),r,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:D([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,o,r,e])}()}(),l=X(),c=ee(e,{relative:s});return V.useCallback(t=>{if(0===t.button&&(!n||"_self"===n)&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)){t.preventDefault();let n=void 0!==i?i:I(l)===I(c);a(e,{replace:n,state:r,preventScrollReset:o,relative:s})}},[l,a,c,i,r,n,e,o,s])}(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:r});return V.createElement("a",el({},m,{href:n||_,onClick:f||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:l}))});(a=_||(_={})).UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",(l=y||(y={})).UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration",x("acw62");var ey={};ey=x("hOzOt")(),x("acw62");var ev={};ev=new URL(x("27Lyk").resolve("ghReG"),import.meta.url).toString();const eg=()=>{let e=new Audio(t(ev));e.loop=!0,e.volume=.5,e.play()},eb=({property1:e,className:t})=>(0,A.jsx)("div",{className:`start ${t}`,onClick:eg,children:(0,A.jsx)(e_,{to:"/playerSelect",children:(0,A.jsxs)("div",{className:`overlap-group-3 property-1-0-${e}`,children:[(0,A.jsx)("div",{className:"start-button-shadow",children:"Start Game"}),(0,A.jsx)("div",{className:"start-button",children:"Start Game"})]})})});eb.propTypes={property1:t(ey).oneOf(["variant-2","default"])};var ex={};ex=new URL(x("27Lyk").resolve("d1bJq"),import.meta.url).toString();var eA={};eA=new URL(x("27Lyk").resolve("jvQN9"),import.meta.url).toString();var ew={};ew=new URL(x("27Lyk").resolve("cAkzX"),import.meta.url).toString();const eB=()=>(0,A.jsxs)("div",{className:"landing",children:[(0,A.jsxs)("div",{className:"overlap-2",children:[(0,A.jsx)("div",{className:"clouds",children:(0,A.jsx)("img",{className:"gif",src:"https://s3-alpha-sig.figma.com/img/2373/53f5/f867a55f535bdb2b402f0a7d23291580?Expires=1691971200&Signature=CDcFYo1hSXerLHg5rwpTPphATSbLgWiFBh3M7DHQ4RjBmIZmJP5CJZ5jzGmyYqbeEkW~x7z5ZvHv-GUGtWFakxqetC7cZrX0vk4zNsWgslgshUeEpJR~QqNjlEtmSi1kprB0uRVPR8lQ1c7zImoH9cytTKepvib9MysUTDmLx~4Iz3Y6JfM8Nbp~SlEgY9fiYxHRVh-Bxdwf0sZ9X5WzQsxd0OL2iePBEkJSdcGabwtLsGdci0ItYHCVHzFPiDgabHyYcoZ2duaj49cSYKmr18Z8PPoyQcW7IW~nib68NLQwtg6HObXn-lLlMcSIuyepgCM74rjf-uOazR4ek~Ncug__&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4"})}),(0,A.jsxs)("div",{className:"tables",children:[(0,A.jsx)("div",{className:"table-leg",children:(0,A.jsx)("img",{src:t(ew)})}),(0,A.jsx)("div",{className:"table-top",children:(0,A.jsx)("img",{src:t(eA)})})]}),(0,A.jsx)(eb,{className:"start-instance",property1:"default"}),(0,A.jsx)("div",{className:"frame",children:(0,A.jsx)("div",{className:"main-title",children:(0,A.jsxs)("div",{className:"overlap-group-5",children:[(0,A.jsxs)("div",{className:"flexcontainer",children:[(0,A.jsx)("div",{className:"text-i",children:(0,A.jsxs)("span",{className:"text-wrapper",children:["운명의 ",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"text-i",children:(0,A.jsx)("span",{className:"text-wrapper",children:"병뚜껑 날리기"})})]}),(0,A.jsxs)("div",{className:"flexcontainer-i",children:[(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsxs)("span",{className:"span",children:["운명의 ",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsx)("span",{className:"span",children:"병뚜껑 날리기"})})]})]})})}),(0,A.jsxs)("div",{className:"arrow",children:[(0,A.jsx)("img",{className:"polygon",alt:"Polygon",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/polygon-2.svg"}),(0,A.jsx)("img",{className:"polygon",alt:"Polygon",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/polygon-1.svg"})]})]}),(0,A.jsx)(e_,{to:"/info",children:(0,A.jsx)("div",{className:"info-button",children:(0,A.jsx)("img",{src:t(ex),className:"img"})})}),(0,A.jsxs)("div",{className:"top-bar",children:[(0,A.jsx)("div",{className:"text-wrapper-2",children:"gci.js"}),(0,A.jsx)("div",{className:"text-wrapper-3",children:"2023"})]})]});x("acw62");const eV=()=>(0,A.jsx)("div",{className:"info-screen",children:(0,A.jsx)("div",{className:"overlap-wrapper",children:(0,A.jsxs)("div",{className:"overlap",children:[(0,A.jsx)("div",{className:"main-title",children:(0,A.jsxs)("div",{className:"overlap-group",children:[(0,A.jsxs)("div",{className:"flexcontainer",children:[(0,A.jsx)("div",{className:"text",children:(0,A.jsxs)("span",{className:"text-wrapper",children:["gci.js는",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"text",children:(0,A.jsxs)("span",{className:"text-wrapper",children:["만인의 행복을",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"text",children:(0,A.jsxs)("span",{className:"text-wrapper",children:["위해 오늘도",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"text",children:(0,A.jsxs)("span",{className:"text-wrapper",children:["노력합니다.",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"text",children:(0,A.jsx)("span",{className:"text-wrapper",children:(0,A.jsx)("br",{})})}),(0,A.jsx)("div",{className:"text",children:(0,A.jsx)("span",{className:"text-wrapper",children:"좋은 하루 되세요~"})})]}),(0,A.jsxs)("div",{className:"div",children:[(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsxs)("span",{className:"span",children:["gci.js는",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsxs)("span",{className:"span",children:["만인의 행복을",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsxs)("span",{className:"span",children:["위해 오늘도",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsxs)("span",{className:"span",children:["노력합니다.",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsx)("span",{className:"span",children:(0,A.jsx)("br",{})})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsx)("span",{className:"span",children:"좋은 하루 되세요~"})})]})]})}),(0,A.jsx)(e_,{to:"/",children:(0,A.jsx)("div",{className:"quit",children:(0,A.jsxs)("div",{className:"overlap-2",children:[(0,A.jsx)("div",{className:"start-button-shadow",children:"x"}),(0,A.jsx)("div",{className:"start-button",children:"x"})]})})})]})})});var V=x("acw62");x("acw62");const eC=({property1:e,className:t,cloudClassName:n,overlapClassName:i,cloudClassNameOverride:r})=>(0,A.jsxs)("div",{className:`clouds ${t}`,children:[(0,A.jsx)("img",{className:`cloud ${e}`,alt:"Cloud",src:"default"===e?"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud1-3@2x.png":"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),"default"===e&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("img",{className:`img ${n}`,alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),(0,A.jsxs)("div",{className:`overlap ${i}`,children:[(0,A.jsxs)("div",{className:"overlap-group",children:[(0,A.jsx)("img",{className:"cloud-2",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),(0,A.jsx)("img",{className:"cloud-3",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),(0,A.jsx)("img",{className:"cloud-4",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"})]}),(0,A.jsx)("img",{className:"cloud-5",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"})]}),(0,A.jsx)("img",{className:`cloud-6 ${r}`,alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"})]}),(0,A.jsx)("img",{className:`cloud-7 property-1-${e}`,alt:"Cloud",src:"default"===e?"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud5-5@2x.png":"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),"variant-2"===e&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"div",children:[(0,A.jsxs)("div",{className:"overlap-group-2",children:[(0,A.jsx)("img",{className:"cloud-8",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud3-1@2x.png"}),(0,A.jsx)("img",{className:"cloud-9",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud1-3@2x.png"})]}),(0,A.jsx)("img",{className:"cloud-10",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud5-5@2x.png"})]}),(0,A.jsx)("img",{className:"cloud-11",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),(0,A.jsx)("img",{className:"cloud-12",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"}),(0,A.jsx)("img",{className:"cloud-13",alt:"Cloud",src:"https://generation-sessions.s3.amazonaws.com/ef2adb6ddd37345636a9e9c60706689e/img/cloud2-2@2x.png"})]})]});eC.propTypes={property1:t(ey).oneOf(["variant-2","default"])};var V=x("acw62"),eS={};eS=new URL(x("27Lyk").resolve("fZyUI"),import.meta.url).toString();var ek={};ek=new URL(x("27Lyk").resolve("eiXXh"),import.meta.url).toString();var eP={};eP=new URL(x("27Lyk").resolve("c7zyh"),import.meta.url).toString();var eM={};eM=new URL(x("27Lyk").resolve("HOXQk"),import.meta.url).toString(),x("acw62");const ez=({number:e,playerColor:t})=>(0,A.jsx)("div",{className:"players",children:(0,A.jsx)("div",{className:"player",children:(0,A.jsxs)("div",{className:"overlap-group",children:[(0,A.jsx)("div",{className:"div"}),(0,A.jsx)("div",{className:"player-2",style:{backgroundColor:t}}),(0,A.jsxs)("div",{className:"text-wrapper",children:["P",e]}),(0,A.jsxs)("div",{className:"text-wrapper-2",children:["P",e]})]})})}),eI=({players:e})=>{let[n,i]=(0,V.useState)(0),r=Array.from({length:n},(t,n)=>(0,A.jsx)("div",{style:{width:"44px",height:"50px"},children:(0,A.jsx)(ez,{number:n+1,playerColor:e[n].color})},n+1));return(0,V.useEffect)(()=>{console.log("players",e,e.length),i(e.length)},[e]),(0,A.jsx)("div",{className:"table",children:(0,A.jsx)("div",{className:"overlap",children:(0,A.jsxs)("div",{className:"table-top",children:[(0,A.jsxs)("div",{className:"overlap-group",children:[(0,A.jsx)("img",{className:"line-2",alt:"Line",src:t(eS)}),(0,A.jsx)("img",{className:"line-3",alt:"Line",src:t(ek)}),(0,A.jsx)("img",{className:"line-4",alt:"Line",src:t(eP)}),(0,A.jsx)("img",{className:"line-5",alt:"Line",src:t(eM)}),(0,A.jsx)("div",{className:"rectangle"})]}),(0,A.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:r})]})})})};x("acw62");const eN=()=>(0,A.jsx)("div",{className:"quit",children:(0,A.jsx)(e_,{to:"/",children:(0,A.jsxs)("div",{className:"overlap-group",children:[(0,A.jsx)("div",{className:"quit-button-shadow",children:"x"}),(0,A.jsx)("div",{className:"quit-button",children:"x"})]})})});var V=x("acw62");const eT=({id:e,onSpeedChange:t,onBallSpeedCompleted:n,buttonColor:i})=>{let[r,o]=(0,V.useState)(0),[s,a]=(0,V.useState)(0),l=(0,V.useRef)(),c=()=>{console.log("startIncreasingSpeed is called"),l.current=window.setInterval(()=>{o(e=>{if(!(e<50.5))return e;{let n=e+1;return t(n),console.log("Interval is running!",n),n}})},47.5)},u=()=>{window.clearInterval(l.current),a(e=>{let t=e+1;return o(0),n(t),t})};return(0,A.jsx)("div",{id:e,className:"launch-button",onMouseDown:()=>{console.log("Button is pressed"),c()},onMouseUp:u,onMouseLeave:u,onTouchStart:c,onTouchEnd:u,onTouchCancel:u,onContextMenu:e=>e.preventDefault(),children:(0,A.jsxs)("svg",{id:"speedButtonSVG",viewBox:"0 0 100 100",children:[(0,A.jsx)("circle",{id:"speedButton",cx:50,cy:50,r:42.5,fill:i}),(0,A.jsx)("line",{x1:31.25,y1:50,x2:68.75,y2:50,stroke:"white",strokeWidth:"3"}),(0,A.jsx)("line",{x1:50,y1:31.25,x2:50,y2:68.75,stroke:"white",strokeWidth:"3"}),(0,A.jsx)("circle",{id:"outline",cx:50,cy:50,r:47.5,fill:"none",stroke:"white",strokeWidth:"2",strokeDasharray:308,strokeDashoffset:308-308*r/50.5})]})})};var eL={};eL=new URL(x("27Lyk").resolve("cW675"),import.meta.url).toString();const eE=window.innerWidth,eF=window.innerHeight,ej=(window.innerWidth-24)*10;class eR{constructor(e,t){this.ballSpeed=e,this.color=t}}const eD=()=>{let[e,n]=(0,V.useState)(!1),[i,r]=(0,V.useState)(!0),[o,s]=(0,V.useState)(!1),[a,l]=(0,V.useState)(0),[c,u]=(0,V.useState)(50),[m,h]=(0,V.useState)(5),[d,p]=(0,V.useState)([]),[f,_]=(0,V.useState)([]),y=["#77B6CF","#CAA11B","#07714F","#C06E52","#16313B","#FFD23F","#50C878","#AB421F","45A0C4"];return(0,V.useEffect)(()=>{u(50+25*a),h(5+2.5*a)},[a]),(0,V.useEffect)(()=>{8==f.length&&s(!0)},[f]),(0,A.jsxs)("div",{className:"playerselect",onContextMenu:e=>e.preventDefault(),children:[(0,A.jsxs)("div",{className:"top-bar",children:[(0,A.jsx)("div",{className:"text-wrapper-2",children:"gci.js"}),(0,A.jsx)("div",{className:"text-wrapper-3",children:"2023"})]}),(0,A.jsx)(eN,{}),(0,A.jsxs)("div",{className:"overlap-2",children:[(0,A.jsx)(eC,{className:"clouds-instance",cloudClassName:"design-component-instance-node",cloudClassNameOverride:"clouds-3",overlapClassName:"clouds-2",property1:"default"}),(0,A.jsx)(eI,{players:f}),(0,A.jsx)("div",{className:"go-to-screen2"}),(0,A.jsx)("img",{className:"player-arrow",alt:"Arrow",src:t(eL),style:{width:m,position:"absolute",bottom:"25vh",left:"50%",transform:`translateX(-${m/2}px)`}}),(0,A.jsx)("div",{className:"frame",children:(0,A.jsx)("div",{className:"main-title",style:{display:e?"none":"block"},children:(0,A.jsxs)("div",{className:"overlap-group-5",children:[(0,A.jsxs)("div",{className:"flexcontainer",children:[(0,A.jsx)("div",{className:"text-i",children:(0,A.jsxs)("span",{className:"text-wrapper",children:["버튼을 눌러 ",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"text-i",children:(0,A.jsx)("span",{className:"text-wrapper",children:"병뚜껑을"})}),(0,A.jsx)("div",{className:"text-i",children:(0,A.jsx)("span",{className:"text-wrapper",children:"발사하세요"})}),(0,A.jsxs)("div",{className:"text-i",style:{display:i?"none":"block"},children:[(0,A.jsx)("br",{}),(0,A.jsx)("span",{className:"text-wrapper",children:(0,A.jsx)(e_,{to:"/playGame",children:"준비완료"})})]})]}),(0,A.jsxs)("div",{className:"flexcontainer-i",children:[(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsxs)("span",{className:"span",children:["버튼을 눌러 ",(0,A.jsx)("br",{})]})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsx)("span",{className:"span",children:"병뚜껑을"})}),(0,A.jsx)("div",{className:"span-wrapper",children:(0,A.jsx)("span",{className:"span",children:"발사하세요"})}),(0,A.jsxs)("div",{className:"text-i",style:{display:i?"none":"block"},children:[(0,A.jsx)("br",{}),(0,A.jsx)("span",{className:"text-wrapper",children:(0,A.jsx)(e_,{to:"/playGame",state:{ballSpeeds:d,players:f},children:"준비완료"})})]})]})]})})})]}),(0,A.jsx)("div",{className:"launch-button-pos",style:{display:o?"none":"block"},children:(0,A.jsx)(eT,{id:"11",onSpeedChange:e=>{e>=1&&(n(!0),l(e))},onBallSpeedCompleted:e=>{a>=5&&(p(t=>{let n=[...t,a],i=eE/2;console.log("center",i);let r=i;e<f.length/2?r-=50*(f.length/2-e):r+=50*(f.length/2-e);let o=new eR(a,y[f.length]);return f.length<8?(_(e=>[...e,o]),8==f.length&&s(!0),n):(s(!0),t)}),console.log("ballCount",e,"ballSpeeds",d),n(!1),r(!1)),l(0)},buttonColor:y[f.length]})})]})};var V=x("acw62"),eO={};!function(e){var t,n,i,r,o,s,a,l,c,u,m,h,d,p,f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function _(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var y=function(){return(y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function v(e,t){null==e&&(e={});var n=y({},e);for(var i in t)t.hasOwnProperty(i)&&void 0===e[i]&&(n[i]=t[i]);if("function"==typeof Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),o=0;o<r.length;o++){var s=r[o];t.propertyIsEnumerable(s)&&void 0===e[s]&&(n[s]=t[s])}return n}var g={assert:function(e,t,n){},debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}},b=Object.create(Math);b.EPSILON=1e-9,b.isFinite=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)},b.assert=function(e){},b.invSqrt=function(e){return 1/Math.sqrt(e)},b.nextPowerOfTwo=function(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,(e|=e>>16)+1},b.isPowerOfTwo=function(e){return e>0&&(e&e-1)==0},b.mod=function(e,t,n){return(void 0===t?(n=1,t=0):void 0===n&&(n=t,t=0),n>t)?(e=(e-t)%(n-t))+(e<0?n:t):(e=(e-n)%(t-n))+(e<=0?t:n)},b.clamp=function(e,t,n){return e<t?t:e>n?n:e},b.random=function(e,t){return void 0===e?(t=1,e=0):void 0===t&&(t=e,e=0),e===t?e:Math.random()*(t-e)+e};var x=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);void 0===t?(this.x=0,this.y=0):"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=n)}return e.prototype._serialize=function(){return{x:this.x,y:this.y}},e._deserialize=function(t){var n=Object.create(e.prototype);return n.x=t.x,n.y=t.y,n},e.zero=function(){var t=Object.create(e.prototype);return t.x=0,t.y=0,t},e.neo=function(t,n){var i=Object.create(e.prototype);return i.x=t,i.y=n,i},e.clone=function(t){return e.neo(t.x,t.y)},e.prototype.toString=function(){return JSON.stringify(this)},e.isValid=function(e){return null!=e&&b.isFinite(e.x)&&b.isFinite(e.y)},e.assert=function(e){},e.prototype.clone=function(){return e.clone(this)},e.prototype.setZero=function(){return this.x=0,this.y=0,this},e.prototype.set=function(e,t){return"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t),this},e.prototype.setNum=function(e,t){return this.x=e,this.y=t,this},e.prototype.setVec2=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.wSet=function(e,t,n,i){return void 0!==n||void 0!==i?this.setCombine(e,t,n,i):this.setMul(e,t)},e.prototype.setCombine=function(e,t,n,i){var r=e*t.x+n*i.x,o=e*t.y+n*i.y;return this.x=r,this.y=o,this},e.prototype.setMul=function(e,t){var n=e*t.x,i=e*t.y;return this.x=n,this.y=i,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.wAdd=function(e,t,n,i){return void 0!==n||void 0!==i?this.addCombine(e,t,n,i):this.addMul(e,t)},e.prototype.addCombine=function(e,t,n,i){var r=e*t.x+n*i.x,o=e*t.y+n*i.y;return this.x+=r,this.y+=o,this},e.prototype.addMul=function(e,t){var n=e*t.x,i=e*t.y;return this.x+=n,this.y+=i,this},e.prototype.wSub=function(e,t,n,i){return void 0!==n||void 0!==i?this.subCombine(e,t,n,i):this.subMul(e,t)},e.prototype.subCombine=function(e,t,n,i){var r=e*t.x+n*i.x,o=e*t.y+n*i.y;return this.x-=r,this.y-=o,this},e.prototype.subMul=function(e,t){var n=e*t.x,i=e*t.y;return this.x-=n,this.y-=i,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.mul=function(e){return this.x*=e,this.y*=e,this},e.prototype.length=function(){return e.lengthOf(this)},e.prototype.lengthSquared=function(){return e.lengthSquared(this)},e.prototype.normalize=function(){var e=this.length();if(e<b.EPSILON)return 0;var t=1/e;return this.x*=t,this.y*=t,e},e.lengthOf=function(e){return b.sqrt(e.x*e.x+e.y*e.y)},e.lengthSquared=function(e){return e.x*e.x+e.y*e.y},e.distance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return b.sqrt(n*n+i*i)},e.distanceSquared=function(e,t){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},e.areEqual=function(e,t){return e===t||"object"==typeof t&&null!==t&&e.x===t.x&&e.y===t.y},e.skew=function(t){return e.neo(-t.y,t.x)},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.cross=function(t,n){return"number"==typeof n?e.neo(n*t.y,-n*t.x):"number"==typeof t?e.neo(-t*n.y,t*n.x):t.x*n.y-t.y*n.x},e.crossVec2Vec2=function(e,t){return e.x*t.y-e.y*t.x},e.crossVec2Num=function(t,n){return e.neo(n*t.y,-n*t.x)},e.crossNumVec2=function(t,n){return e.neo(-t*n.y,t*n.x)},e.addCross=function(t,n,i){return"number"==typeof i?e.neo(i*n.y+t.x,-i*n.x+t.y):"number"==typeof n?e.neo(-n*i.y+t.x,n*i.x+t.y):void 0},e.addCrossVec2Num=function(t,n,i){return e.neo(i*n.y+t.x,-i*n.x+t.y)},e.addCrossNumVec2=function(t,n,i){return e.neo(-n*i.y+t.x,n*i.x+t.y)},e.add=function(t,n){return e.neo(t.x+n.x,t.y+n.y)},e.wAdd=function(t,n,i,r){return void 0!==i||void 0!==r?e.combine(t,n,i,r):e.mulNumVec2(t,n)},e.combine=function(t,n,i,r){return e.zero().setCombine(t,n,i,r)},e.sub=function(t,n){return e.neo(t.x-n.x,t.y-n.y)},e.mul=function(t,n){return"object"==typeof t?e.neo(t.x*n,t.y*n):"object"==typeof n?e.neo(t*n.x,t*n.y):void 0},e.mulVec2Num=function(t,n){return e.neo(t.x*n,t.y*n)},e.mulNumVec2=function(t,n){return e.neo(t*n.x,t*n.y)},e.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this},e.neg=function(t){return e.neo(-t.x,-t.y)},e.abs=function(t){return e.neo(b.abs(t.x),b.abs(t.y))},e.mid=function(t,n){return e.neo((t.x+n.x)*.5,(t.y+n.y)*.5)},e.upper=function(t,n){return e.neo(b.max(t.x,n.x),b.max(t.y,n.y))},e.lower=function(t,n){return e.neo(b.min(t.x,n.x),b.min(t.y,n.y))},e.prototype.clamp=function(e){var t=this.x*this.x+this.y*this.y;if(t>e*e){var n=b.invSqrt(t);this.x*=n*e,this.y*=n*e}return this},e.clamp=function(t,n){return(t=e.neo(t.x,t.y)).clamp(n),t},e.scaleFn=function(t,n){return function(i){return e.neo(i.x*t,i.y*n)}},e.translateFn=function(t,n){return function(i){return e.neo(i.x+t,i.y+n)}},e}(),A=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.lowerBound=x.zero(),this.upperBound=x.zero(),"object"==typeof t&&this.lowerBound.setVec2(t),"object"==typeof n?this.upperBound.setVec2(n):"object"==typeof t&&this.upperBound.setVec2(t)}return e.prototype.isValid=function(){return e.isValid(this)},e.isValid=function(e){return null!=e&&x.isValid(e.lowerBound)&&x.isValid(e.upperBound)&&x.sub(e.upperBound,e.lowerBound).lengthSquared()>=0},e.assert=function(e){},e.prototype.getCenter=function(){return x.neo((this.lowerBound.x+this.upperBound.x)*.5,(this.lowerBound.y+this.upperBound.y)*.5)},e.prototype.getExtents=function(){return x.neo((this.upperBound.x-this.lowerBound.x)*.5,(this.upperBound.y-this.lowerBound.y)*.5)},e.prototype.getPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+this.upperBound.y-this.lowerBound.y)},e.prototype.combine=function(e,t){t=t||this;var n=e.lowerBound,i=e.upperBound,r=t.lowerBound,o=t.upperBound,s=b.min(n.x,r.x),a=b.min(n.y,r.y),l=b.max(o.x,i.x),c=b.max(o.y,i.y);this.lowerBound.setNum(s,a),this.upperBound.setNum(l,c)},e.prototype.combinePoints=function(e,t){this.lowerBound.setNum(b.min(e.x,t.x),b.min(e.y,t.y)),this.upperBound.setNum(b.max(e.x,t.x),b.max(e.y,t.y))},e.prototype.set=function(e){this.lowerBound.setNum(e.lowerBound.x,e.lowerBound.y),this.upperBound.setNum(e.upperBound.x,e.upperBound.y)},e.prototype.contains=function(e){return this.lowerBound.x<=e.lowerBound.x&&this.lowerBound.y<=e.lowerBound.y&&e.upperBound.x<=this.upperBound.x&&e.upperBound.y<=this.upperBound.y},e.prototype.extend=function(t){return e.extend(this,t),this},e.extend=function(e,t){e.lowerBound.x-=t,e.lowerBound.y-=t,e.upperBound.x+=t,e.upperBound.y+=t},e.testOverlap=function(e,t){var n=t.lowerBound.x-e.upperBound.x,i=e.lowerBound.x-t.upperBound.x,r=t.lowerBound.y-e.upperBound.y,o=e.lowerBound.y-t.upperBound.y;return!(n>0)&&!(r>0)&&!(i>0)&&!(o>0)},e.areEqual=function(e,t){return x.areEqual(e.lowerBound,t.lowerBound)&&x.areEqual(e.upperBound,t.upperBound)},e.diff=function(e,t){var n=b.max(0,b.min(e.upperBound.x,t.upperBound.x)-b.max(t.lowerBound.x,e.lowerBound.x)),i=b.max(0,b.min(e.upperBound.y,t.upperBound.y)-b.max(t.lowerBound.y,e.lowerBound.y));return(e.upperBound.x-e.lowerBound.x)*(e.upperBound.y-e.lowerBound.y)+(t.upperBound.x-t.lowerBound.x)*(t.upperBound.y-t.lowerBound.y)-n*i},e.prototype.rayCast=function(e,t){for(var n=-1/0,i=1/0,r=t.p1,o=x.sub(t.p2,t.p1),s=x.abs(o),a=x.zero(),l="x";null!==l;l="x"===l?"y":null)if(s.x<b.EPSILON){if(r[l]<this.lowerBound[l]||this.upperBound[l]<r[l])return!1}else{var c=1/o[l],u=(this.lowerBound[l]-r[l])*c,m=(this.upperBound[l]-r[l])*c,h=-1;if(u>m){var d=u;u=m,m=d,h=1}if(u>n&&(a.setZero(),a[l]=h,n=u),n>(i=b.min(i,m)))return!1}return!(n<0)&&!(t.maxFraction<n)&&(e.fraction=n,e.normal=a,!0)},e.prototype.toString=function(){return JSON.stringify(this)},e}(),w=function(){function e(){}return Object.defineProperty(e,"linearSlopSquared",{get:function(){return e.linearSlop*e.linearSlop},enumerable:!1,configurable:!0}),Object.defineProperty(e,"polygonRadius",{get:function(){return 2*e.linearSlop},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxTranslationSquared",{get:function(){return e.maxTranslation*e.maxTranslation},enumerable:!1,configurable:!0}),Object.defineProperty(e,"maxRotationSquared",{get:function(){return e.maxRotation*e.maxRotation},enumerable:!1,configurable:!0}),Object.defineProperty(e,"linearSleepToleranceSqr",{get:function(){return Math.pow(e.linearSleepTolerance,2)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"angularSleepToleranceSqr",{get:function(){return Math.pow(e.angularSleepTolerance,2)},enumerable:!1,configurable:!0}),e.maxManifoldPoints=2,e.maxPolygonVertices=12,e.aabbExtension=.1,e.aabbMultiplier=2,e.linearSlop=.005,e.angularSlop=2/180*Math.PI,e.maxSubSteps=8,e.maxTOIContacts=32,e.maxTOIIterations=20,e.maxDistnceIterations=20,e.velocityThreshold=1,e.maxLinearCorrection=.2,e.maxAngularCorrection=8/180*Math.PI,e.maxTranslation=2,e.maxRotation=.5*Math.PI,e.baumgarte=.2,e.toiBaugarte=.75,e.timeToSleep=.5,e.linearSleepTolerance=.01,e.angularSleepTolerance=2/180*Math.PI,e}(),B=function(){function e(e){this._list=[],this._max=1/0,this._createCount=0,this._outCount=0,this._inCount=0,this._discardCount=0,this._list=[],this._max=e.max||this._max,this._createFn=e.create,this._outFn=e.allocate,this._inFn=e.release,this._discardFn=e.discard}return e.prototype.max=function(e){return"number"==typeof e?(this._max=e,this):this._max},e.prototype.size=function(){return this._list.length},e.prototype.allocate=function(){var e;return this._list.length>0?e=this._list.shift():(this._createCount++,e="function"==typeof this._createFn?this._createFn():{}),this._outCount++,"function"==typeof this._outFn&&this._outFn(e),e},e.prototype.release=function(e){this._list.length<this._max?(this._inCount++,"function"==typeof this._inFn&&this._inFn(e),this._list.push(e)):(this._discardCount++,"function"==typeof this._discardFn&&(e=this._discardFn(e)))},e.prototype.toString=function(){return" +"+this._createCount+" >"+this._outCount+" <"+this._inCount+" -"+this._discardCount+" ="+this._list.length+"/"+this._max},e}(),V=function(){function e(e){this.aabb=new A,this.userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=-1,this.id=e}return e.prototype.toString=function(){return this.id+": "+this.userData},e.prototype.isLeaf=function(){return null==this.child1},e}(),C=function(){function e(){this.inputPool=new B({create:function(){return{}},release:function(e){}}),this.stackPool=new B({create:function(){return[]},release:function(e){e.length=0}}),this.iteratorPool=new B({create:function(){return new S},release:function(e){e.close()}}),this.m_root=null,this.m_nodes={},this.m_lastProxyId=0,this.m_pool=new B({create:function(){return new V}})}return e.prototype.getUserData=function(e){return this.m_nodes[e].userData},e.prototype.getFatAABB=function(e){return this.m_nodes[e].aabb},e.prototype.allocateNode=function(){var e=this.m_pool.allocate();return e.id=++this.m_lastProxyId,e.userData=null,e.parent=null,e.child1=null,e.child2=null,e.height=-1,this.m_nodes[e.id]=e,e},e.prototype.freeNode=function(e){this.m_pool.release(e),e.height=-1,delete this.m_nodes[e.id]},e.prototype.createProxy=function(e,t){var n=this.allocateNode();return n.aabb.set(e),A.extend(n.aabb,w.aabbExtension),n.userData=t,n.height=0,this.insertLeaf(n),n.id},e.prototype.destroyProxy=function(e){var t=this.m_nodes[e];this.removeLeaf(t),this.freeNode(t)},e.prototype.moveProxy=function(e,t,n){var i=this.m_nodes[e];return!i.aabb.contains(t)&&(this.removeLeaf(i),i.aabb.set(t),t=i.aabb,A.extend(t,w.aabbExtension),n.x<0?t.lowerBound.x+=n.x*w.aabbMultiplier:t.upperBound.x+=n.x*w.aabbMultiplier,n.y<0?t.lowerBound.y+=n.y*w.aabbMultiplier:t.upperBound.y+=n.y*w.aabbMultiplier,this.insertLeaf(i),!0)},e.prototype.insertLeaf=function(e){if(null==this.m_root){this.m_root=e,this.m_root.parent=null;return}for(var t=e.aabb,n=this.m_root;!n.isLeaf();){var i=n.child1,r=n.child2,o=n.aabb.getPerimeter(),s=new A;s.combine(n.aabb,t);var a=s.getPerimeter(),l=2*a,c=2*(a-o),u=void 0;if(i.isLeaf()){var m=new A;m.combine(t,i.aabb),u=m.getPerimeter()+c}else{var m=new A;m.combine(t,i.aabb);var h=i.aabb.getPerimeter(),d=m.getPerimeter();u=d-h+c}var p=void 0;if(r.isLeaf()){var m=new A;m.combine(t,r.aabb),p=m.getPerimeter()+c}else{var m=new A;m.combine(t,r.aabb);var h=r.aabb.getPerimeter(),d=m.getPerimeter();p=d-h+c}if(l<u&&l<p)break;n=u<p?i:r}var f=n,_=f.parent,y=this.allocateNode();for(y.parent=_,y.userData=null,y.aabb.combine(t,f.aabb),y.height=f.height+1,null!=_?(_.child1===f?_.child1=y:_.child2=y,y.child1=f,y.child2=e,f.parent=y,e.parent=y):(y.child1=f,y.child2=e,f.parent=y,e.parent=y,this.m_root=y),n=e.parent;null!=n;){var i=(n=this.balance(n)).child1,r=n.child2;n.height=1+b.max(i.height,r.height),n.aabb.combine(i.aabb,r.aabb),n=n.parent}},e.prototype.removeLeaf=function(e){if(e===this.m_root){this.m_root=null;return}var t,n=e.parent,i=n.parent;if(t=n.child1===e?n.child2:n.child1,null!=i){i.child1===n?i.child1=t:i.child2=t,t.parent=i,this.freeNode(n);for(var r=i;null!=r;){var o=(r=this.balance(r)).child1,s=r.child2;r.aabb.combine(o.aabb,s.aabb),r.height=1+b.max(o.height,s.height),r=r.parent}}else this.m_root=t,t.parent=null,this.freeNode(n)},e.prototype.balance=function(e){if(e.isLeaf()||e.height<2)return e;var t=e.child1,n=e.child2,i=n.height-t.height;if(i>1){var r=n.child1,o=n.child2;return n.child1=e,n.parent=e.parent,e.parent=n,null!=n.parent?n.parent.child1===e?n.parent.child1=n:n.parent.child2=n:this.m_root=n,r.height>o.height?(n.child2=r,e.child2=o,o.parent=e,e.aabb.combine(t.aabb,o.aabb),n.aabb.combine(e.aabb,r.aabb),e.height=1+b.max(t.height,o.height),n.height=1+b.max(e.height,r.height)):(n.child2=o,e.child2=r,r.parent=e,e.aabb.combine(t.aabb,r.aabb),n.aabb.combine(e.aabb,o.aabb),e.height=1+b.max(t.height,r.height),n.height=1+b.max(e.height,o.height)),n}if(i<-1){var s=t.child1,a=t.child2;return t.child1=e,t.parent=e.parent,e.parent=t,null!=t.parent?t.parent.child1===e?t.parent.child1=t:t.parent.child2=t:this.m_root=t,s.height>a.height?(t.child2=s,e.child1=a,a.parent=e,e.aabb.combine(n.aabb,a.aabb),t.aabb.combine(e.aabb,s.aabb),e.height=1+b.max(n.height,a.height),t.height=1+b.max(e.height,s.height)):(t.child2=a,e.child1=s,s.parent=e,e.aabb.combine(n.aabb,s.aabb),t.aabb.combine(e.aabb,a.aabb),e.height=1+b.max(n.height,s.height),t.height=1+b.max(e.height,a.height)),t}return e},e.prototype.getHeight=function(){return null==this.m_root?0:this.m_root.height},e.prototype.getAreaRatio=function(){if(null==this.m_root)return 0;for(var e,t=this.m_root.aabb.getPerimeter(),n=0,i=this.iteratorPool.allocate().preorder(this.m_root);e=i.next();)e.height<0||(n+=e.aabb.getPerimeter());return this.iteratorPool.release(i),n/t},e.prototype.computeHeight=function(e){if((t=void 0!==e?this.m_nodes[e]:this.m_root).isLeaf())return 0;var t,n=this.computeHeight(t.child1.id),i=this.computeHeight(t.child2.id);return 1+b.max(n,i)},e.prototype.validateStructure=function(e){if(null!=e){this.m_root;var t=e.child1,n=e.child2;e.isLeaf()||(this.validateStructure(t),this.validateStructure(n))}},e.prototype.validateMetrics=function(e){if(null!=e){var t=e.child1,n=e.child2;if(!e.isLeaf()){var i=t.height,r=n.height;b.max(i,r),new A().combine(t.aabb,n.aabb),this.validateMetrics(t),this.validateMetrics(n)}}},e.prototype.validate=function(){this.validateStructure(this.m_root),this.validateMetrics(this.m_root)},e.prototype.getMaxBalance=function(){for(var e,t=0,n=this.iteratorPool.allocate().preorder(this.m_root);e=n.next();)if(!(e.height<=1)){var i=b.abs(e.child2.height-e.child1.height);t=b.max(t,i)}return this.iteratorPool.release(n),t},e.prototype.rebuildBottomUp=function(){for(var e,t=[],n=0,i=this.iteratorPool.allocate().preorder(this.m_root);e=i.next();)!(e.height<0)&&(e.isLeaf()?(e.parent=null,t[n]=e,++n):this.freeNode(e));for(this.iteratorPool.release(i);n>1;){for(var r=1/0,o=-1,s=-1,a=0;a<n;++a)for(var l=t[a].aabb,c=a+1;c<n;++c){var u=t[c].aabb,m=new A;m.combine(l,u);var h=m.getPerimeter();h<r&&(o=a,s=c,r=h)}var d=t[o],p=t[s],f=this.allocateNode();f.child1=d,f.child2=p,f.height=1+b.max(d.height,p.height),f.aabb.combine(d.aabb,p.aabb),f.parent=null,d.parent=f,p.parent=f,t[s]=t[n-1],t[o]=f,--n}this.m_root=t[0],this.validate()},e.prototype.shiftOrigin=function(e){for(var t,n=this.iteratorPool.allocate().preorder(this.m_root);t=n.next();){var i=t.aabb;i.lowerBound.x-=e.x,i.lowerBound.y-=e.y,i.upperBound.x-=e.x,i.upperBound.y-=e.y}this.iteratorPool.release(n)},e.prototype.query=function(e,t){var n=this.stackPool.allocate();for(n.push(this.m_root);n.length>0;){var i=n.pop();if(null!=i&&A.testOverlap(i.aabb,e)){if(i.isLeaf()){if(!1===t(i.id))return}else n.push(i.child1),n.push(i.child2)}}this.stackPool.release(n)},e.prototype.rayCast=function(e,t){var n=e.p1,i=e.p2,r=x.sub(i,n);r.normalize();var o=x.crossNumVec2(1,r),s=x.abs(o),a=e.maxFraction,l=new A,c=x.combine(1-a,n,a,i);l.combinePoints(n,c);var u=this.stackPool.allocate(),m=this.inputPool.allocate();for(u.push(this.m_root);u.length>0;){var h=u.pop();if(null!=h&&!1!==A.testOverlap(h.aabb,l)){var d=h.aabb.getCenter(),p=h.aabb.getExtents();if(!(b.abs(x.dot(o,x.sub(n,d)))-x.dot(s,p)>0)){if(h.isLeaf()){m.p1=x.clone(e.p1),m.p2=x.clone(e.p2),m.maxFraction=a;var f=t(m,h.id);if(0===f)return;f>0&&(a=f,c=x.combine(1-a,n,a,i),l.combinePoints(n,c))}else u.push(h.child1),u.push(h.child2)}}}this.stackPool.release(u),this.inputPool.release(m)},e}(),S=function(){function e(){this.parents=[],this.states=[]}return e.prototype.preorder=function(e){return this.parents.length=0,this.parents.push(e),this.states.length=0,this.states.push(0),this},e.prototype.next=function(){for(;this.parents.length>0;){var e=this.parents.length-1,t=this.parents[e];if(0===this.states[e])return this.states[e]=1,t;if(1===this.states[e]&&(this.states[e]=2,t.child1))return this.parents.push(t.child1),this.states.push(1),t.child1;if(2===this.states[e]&&(this.states[e]=3,t.child2))return this.parents.push(t.child2),this.states.push(1),t.child2;this.parents.pop(),this.states.pop()}},e.prototype.close=function(){this.parents.length=0},e}(),k=function(){function e(){var e=this;this.m_tree=new C,this.m_proxyCount=0,this.m_moveBuffer=[],this.query=function(t,n){e.m_tree.query(t,n)},this.queryCallback=function(t){if(t===e.m_queryProxyId)return!0;var n=b.min(t,e.m_queryProxyId),i=b.max(t,e.m_queryProxyId),r=e.m_tree.getUserData(n),o=e.m_tree.getUserData(i);return e.m_callback(r,o),!0}}return e.prototype.getUserData=function(e){return this.m_tree.getUserData(e)},e.prototype.testOverlap=function(e,t){var n=this.m_tree.getFatAABB(e),i=this.m_tree.getFatAABB(t);return A.testOverlap(n,i)},e.prototype.getFatAABB=function(e){return this.m_tree.getFatAABB(e)},e.prototype.getProxyCount=function(){return this.m_proxyCount},e.prototype.getTreeHeight=function(){return this.m_tree.getHeight()},e.prototype.getTreeBalance=function(){return this.m_tree.getMaxBalance()},e.prototype.getTreeQuality=function(){return this.m_tree.getAreaRatio()},e.prototype.rayCast=function(e,t){this.m_tree.rayCast(e,t)},e.prototype.shiftOrigin=function(e){this.m_tree.shiftOrigin(e)},e.prototype.createProxy=function(e,t){var n=this.m_tree.createProxy(e,t);return this.m_proxyCount++,this.bufferMove(n),n},e.prototype.destroyProxy=function(e){this.unbufferMove(e),this.m_proxyCount--,this.m_tree.destroyProxy(e)},e.prototype.moveProxy=function(e,t,n){this.m_tree.moveProxy(e,t,n)&&this.bufferMove(e)},e.prototype.touchProxy=function(e){this.bufferMove(e)},e.prototype.bufferMove=function(e){this.m_moveBuffer.push(e)},e.prototype.unbufferMove=function(e){for(var t=0;t<this.m_moveBuffer.length;++t)this.m_moveBuffer[t]===e&&(this.m_moveBuffer[t]=null)},e.prototype.updatePairs=function(e){for(this.m_callback=e;this.m_moveBuffer.length>0;)if(this.m_queryProxyId=this.m_moveBuffer.pop(),null!==this.m_queryProxyId){var t=this.m_tree.getFatAABB(this.m_queryProxyId);this.m_tree.query(t,this.queryCallback)}},e}(),P=function(){function e(t){if(!(this instanceof e))return new e(t);"number"==typeof t?this.setAngle(t):"object"==typeof t?this.setRot(t):this.setIdentity()}return e.neo=function(t){var n=Object.create(e.prototype);return n.setAngle(t),n},e.clone=function(t){var n=Object.create(e.prototype);return n.s=t.s,n.c=t.c,n},e.identity=function(){var t=Object.create(e.prototype);return t.s=0,t.c=1,t},e.isValid=function(e){return null!=e&&b.isFinite(e.s)&&b.isFinite(e.c)},e.assert=function(e){},e.prototype.setIdentity=function(){this.s=0,this.c=1},e.prototype.set=function(e){"object"==typeof e?(this.s=e.s,this.c=e.c):(this.s=b.sin(e),this.c=b.cos(e))},e.prototype.setRot=function(e){this.s=e.s,this.c=e.c},e.prototype.setAngle=function(e){this.s=b.sin(e),this.c=b.cos(e)},e.prototype.getAngle=function(){return b.atan2(this.s,this.c)},e.prototype.getXAxis=function(){return x.neo(this.c,this.s)},e.prototype.getYAxis=function(){return x.neo(-this.s,this.c)},e.mul=function(t,n){if("c"in n&&"s"in n){var i=e.identity();return i.s=t.s*n.c+t.c*n.s,i.c=t.c*n.c-t.s*n.s,i}if("x"in n&&"y"in n)return x.neo(t.c*n.x-t.s*n.y,t.s*n.x+t.c*n.y)},e.mulRot=function(t,n){var i=e.identity();return i.s=t.s*n.c+t.c*n.s,i.c=t.c*n.c-t.s*n.s,i},e.mulVec2=function(e,t){return x.neo(e.c*t.x-e.s*t.y,e.s*t.x+e.c*t.y)},e.mulSub=function(e,t,n){var i=e.c*(t.x-n.x)-e.s*(t.y-n.y),r=e.s*(t.x-n.x)+e.c*(t.y-n.y);return x.neo(i,r)},e.mulT=function(t,n){if("c"in n&&"s"in n){var i=e.identity();return i.s=t.c*n.s-t.s*n.c,i.c=t.c*n.c+t.s*n.s,i}if("x"in n&&"y"in n)return x.neo(t.c*n.x+t.s*n.y,-t.s*n.x+t.c*n.y)},e.mulTRot=function(t,n){var i=e.identity();return i.s=t.c*n.s-t.s*n.c,i.c=t.c*n.c+t.s*n.s,i},e.mulTVec2=function(e,t){return x.neo(e.c*t.x+e.s*t.y,-e.s*t.x+e.c*t.y)},e}(),M=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.p=x.zero(),this.q=P.identity(),void 0!==t&&this.p.setVec2(t),void 0!==n&&this.q.setAngle(n)}return e.clone=function(t){var n=Object.create(e.prototype);return n.p=x.clone(t.p),n.q=P.clone(t.q),n},e.neo=function(t,n){var i=Object.create(e.prototype);return i.p=x.clone(t),i.q=P.clone(n),i},e.identity=function(){var t=Object.create(e.prototype);return t.p=x.zero(),t.q=P.identity(),t},e.prototype.setIdentity=function(){this.p.setZero(),this.q.setIdentity()},e.prototype.set=function(e,t){void 0===t?(this.p.set(e.p),this.q.set(e.q)):(this.p.set(e),this.q.set(t))},e.prototype.setNum=function(e,t){this.p.setVec2(e),this.q.setAngle(t)},e.prototype.setTransform=function(e){this.p.setVec2(e.p),this.q.setRot(e.q)},e.isValid=function(e){return null!=e&&x.isValid(e.p)&&P.isValid(e.q)},e.assert=function(e){},e.mul=function(t,n){if(Array.isArray(n)){for(var i=[],r=0;r<n.length;r++)i[r]=e.mul(t,n[r]);return i}return"x"in n&&"y"in n?e.mulVec2(t,n):"p"in n&&"q"in n?e.mulXf(t,n):void 0},e.mulAll=function(t,n){for(var i=[],r=0;r<n.length;r++)i[r]=e.mul(t,n[r]);return i},e.mulFn=function(t){return function(n){return e.mul(t,n)}},e.mulVec2=function(e,t){var n=e.q.c*t.x-e.q.s*t.y+e.p.x,i=e.q.s*t.x+e.q.c*t.y+e.p.y;return x.neo(n,i)},e.mulXf=function(t,n){var i=e.identity();return i.q=P.mulRot(t.q,n.q),i.p=x.add(P.mulVec2(t.q,n.p),t.p),i},e.mulT=function(t,n){return"x"in n&&"y"in n?e.mulTVec2(t,n):"p"in n&&"q"in n?e.mulTXf(t,n):void 0},e.mulTVec2=function(e,t){var n=t.x-e.p.x,i=t.y-e.p.y,r=e.q.c*n+e.q.s*i,o=-e.q.s*n+e.q.c*i;return x.neo(r,o)},e.mulTXf=function(t,n){var i=e.identity();return i.q.setRot(P.mulTRot(t.q,n.q)),i.p.setVec2(P.mulTVec2(t.q,x.sub(n.p,t.p))),i},e}(),z=function(){function e(e,t){this.localCenter=x.zero(),this.c=x.zero(),this.a=0,this.alpha0=0,this.c0=x.zero(),this.a0=0}return e.prototype.setTransform=function(e){var t=M.mulVec2(e,this.localCenter);this.c.setVec2(t),this.c0.setVec2(t),this.a=e.q.getAngle(),this.a0=e.q.getAngle()},e.prototype.setLocalCenter=function(e,t){this.localCenter.setVec2(e);var n=M.mulVec2(t,this.localCenter);this.c.setVec2(n),this.c0.setVec2(n)},e.prototype.getTransform=function(e,t){void 0===t&&(t=0),e.q.setAngle((1-t)*this.a0+t*this.a),e.p.setCombine(1-t,this.c0,t,this.c),e.p.sub(P.mulVec2(e.q,this.localCenter))},e.prototype.advance=function(e){var t=(e-this.alpha0)/(1-this.alpha0);this.c0.setCombine(t,this.c,1-t,this.c0),this.a0=t*this.a+(1-t)*this.a0,this.alpha0=e},e.prototype.forward=function(){this.a0=this.a,this.c0.setVec2(this.c)},e.prototype.normalize=function(){var e=b.mod(this.a0,-b.PI,+b.PI);this.a-=this.a0-e,this.a0=e},e.prototype.clone=function(){var t=new e;return t.localCenter.setVec2(this.localCenter),t.alpha0=this.alpha0,t.a0=this.a0,t.a=this.a,t.c0.setVec2(this.c0),t.c.setVec2(this.c),t},e.prototype.set=function(e){this.localCenter.setVec2(e.localCenter),this.alpha0=e.alpha0,this.a0=e.a0,this.a=e.a,this.c0.setVec2(e.c0),this.c.setVec2(e.c)},e}(),I=function(){this.v=x.zero(),this.w=0},N=function(){function e(){this.c=x.zero(),this.a=0}return e.prototype.getTransform=function(e,t){return e.q.setAngle(this.a),e.p.setVec2(x.sub(this.c,P.mulVec2(e.q,t))),e},e}(),T=function(){function e(){}return e.prototype._reset=function(){},e.isValid=function(e){return null!=e&&"string"==typeof e.m_type&&"number"==typeof e.m_radius},e.prototype.getRadius=function(){return this.m_radius},e.prototype.getType=function(){return this.m_type},e}(),L={userData:null,friction:.2,restitution:0,density:0,isSensor:!1,filterGroupIndex:0,filterCategoryBits:1,filterMaskBits:65535},E=function(e,t){this.aabb=new A,this.fixture=e,this.childIndex=t,this.proxyId},F=function(){function e(e,t,n){t.shape?(n=t,t=t.shape):"number"==typeof n&&(n={density:n}),n=v(n,L),this.m_body=e,this.m_friction=n.friction,this.m_restitution=n.restitution,this.m_density=n.density,this.m_isSensor=n.isSensor,this.m_filterGroupIndex=n.filterGroupIndex,this.m_filterCategoryBits=n.filterCategoryBits,this.m_filterMaskBits=n.filterMaskBits,this.m_shape=t,this.m_next=null,this.m_proxies=[],this.m_proxyCount=0;for(var i=this.m_shape.getChildCount(),r=0;r<i;++r)this.m_proxies[r]=new E(this,r);this.m_userData=n.userData}return e.prototype._reset=function(){var e=this.getBody(),t=e.m_world.m_broadPhase;this.destroyProxies(t),this.m_shape._reset&&this.m_shape._reset();for(var n=this.m_shape.getChildCount(),i=0;i<n;++i)this.m_proxies[i]=new E(this,i);this.createProxies(t,e.m_xf),e.resetMassData()},e.prototype._serialize=function(){return{friction:this.m_friction,restitution:this.m_restitution,density:this.m_density,isSensor:this.m_isSensor,filterGroupIndex:this.m_filterGroupIndex,filterCategoryBits:this.m_filterCategoryBits,filterMaskBits:this.m_filterMaskBits,shape:this.m_shape}},e._deserialize=function(t,n,i){var r=i(T,t.shape);return r&&new e(n,r,t)},e.prototype.getType=function(){return this.m_shape.getType()},e.prototype.getShape=function(){return this.m_shape},e.prototype.isSensor=function(){return this.m_isSensor},e.prototype.setSensor=function(e){e!=this.m_isSensor&&(this.m_body.setAwake(!0),this.m_isSensor=e)},e.prototype.getUserData=function(){return this.m_userData},e.prototype.setUserData=function(e){this.m_userData=e},e.prototype.getBody=function(){return this.m_body},e.prototype.getNext=function(){return this.m_next},e.prototype.getDensity=function(){return this.m_density},e.prototype.setDensity=function(e){this.m_density=e},e.prototype.getFriction=function(){return this.m_friction},e.prototype.setFriction=function(e){this.m_friction=e},e.prototype.getRestitution=function(){return this.m_restitution},e.prototype.setRestitution=function(e){this.m_restitution=e},e.prototype.testPoint=function(e){return this.m_shape.testPoint(this.m_body.getTransform(),e)},e.prototype.rayCast=function(e,t,n){return this.m_shape.rayCast(e,t,this.m_body.getTransform(),n)},e.prototype.getMassData=function(e){this.m_shape.computeMass(e,this.m_density)},e.prototype.getAABB=function(e){return this.m_proxies[e].aabb},e.prototype.createProxies=function(e,t){this.m_proxyCount=this.m_shape.getChildCount();for(var n=0;n<this.m_proxyCount;++n){var i=this.m_proxies[n];this.m_shape.computeAABB(i.aabb,t,n),i.proxyId=e.createProxy(i.aabb,i)}},e.prototype.destroyProxies=function(e){for(var t=0;t<this.m_proxyCount;++t){var n=this.m_proxies[t];e.destroyProxy(n.proxyId),n.proxyId=null}this.m_proxyCount=0},e.prototype.synchronize=function(e,t,n){for(var i=0;i<this.m_proxyCount;++i){var r=this.m_proxies[i],o=new A,s=new A;this.m_shape.computeAABB(o,t,r.childIndex),this.m_shape.computeAABB(s,n,r.childIndex),r.aabb.combine(o,s);var a=x.sub(n.p,t.p);e.moveProxy(r.proxyId,r.aabb,a)}},e.prototype.setFilterData=function(e){this.m_filterGroupIndex=e.groupIndex,this.m_filterCategoryBits=e.categoryBits,this.m_filterMaskBits=e.maskBits,this.refilter()},e.prototype.getFilterGroupIndex=function(){return this.m_filterGroupIndex},e.prototype.setFilterGroupIndex=function(e){this.m_filterGroupIndex=e},e.prototype.getFilterCategoryBits=function(){return this.m_filterCategoryBits},e.prototype.setFilterCategoryBits=function(e){this.m_filterCategoryBits=e},e.prototype.getFilterMaskBits=function(){return this.m_filterMaskBits},e.prototype.setFilterMaskBits=function(e){this.m_filterMaskBits=e},e.prototype.refilter=function(){if(null!=this.m_body){for(var e=this.m_body.getContactList();e;){var t=e.contact,n=t.getFixtureA(),i=t.getFixtureB();(n==this||i==this)&&t.flagForFiltering(),e=e.next}var r=this.m_body.getWorld();if(null!=r)for(var o=r.m_broadPhase,s=0;s<this.m_proxyCount;++s)o.touchProxy(this.m_proxies[s].proxyId)}},e.prototype.shouldCollide=function(e){if(e.m_filterGroupIndex===this.m_filterGroupIndex&&0!==e.m_filterGroupIndex)return e.m_filterGroupIndex>0;var t=(e.m_filterMaskBits&this.m_filterCategoryBits)!=0,n=(e.m_filterCategoryBits&this.m_filterMaskBits)!=0;return t&&n},e}(),j="static",R="kinematic",D="dynamic",O={type:j,position:x.zero(),angle:0,linearVelocity:x.zero(),angularVelocity:0,linearDamping:0,angularDamping:0,fixedRotation:!1,bullet:!1,gravityScale:1,allowSleep:!0,awake:!0,active:!0,userData:null},q=function(){this.mass=0,this.center=x.zero(),this.I=0},U=function(){function e(e,t){t=v(t,O),this.m_world=e,this.m_awakeFlag=t.awake,this.m_autoSleepFlag=t.allowSleep,this.m_bulletFlag=t.bullet,this.m_fixedRotationFlag=t.fixedRotation,this.m_activeFlag=t.active,this.m_islandFlag=!1,this.m_toiFlag=!1,this.m_userData=t.userData,this.m_type=t.type,this.m_type==D?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_xf=M.identity(),this.m_xf.p=x.clone(t.position),this.m_xf.q.setAngle(t.angle),this.m_sweep=new z,this.m_sweep.setTransform(this.m_xf),this.c_velocity=new I,this.c_position=new N,this.m_force=x.zero(),this.m_torque=0,this.m_linearVelocity=x.clone(t.linearVelocity),this.m_angularVelocity=t.angularVelocity,this.m_linearDamping=t.linearDamping,this.m_angularDamping=t.angularDamping,this.m_gravityScale=t.gravityScale,this.m_sleepTime=0,this.m_jointList=null,this.m_contactList=null,this.m_fixtureList=null,this.m_prev=null,this.m_next=null,this.m_destroyed=!1}return e.prototype._serialize=function(){for(var e=[],t=this.m_fixtureList;t;t=t.m_next)e.push(t);return{type:this.m_type,bullet:this.m_bulletFlag,position:this.m_xf.p,angle:this.m_xf.q.getAngle(),linearVelocity:this.m_linearVelocity,angularVelocity:this.m_angularVelocity,fixtures:e}},e._deserialize=function(t,n,i){var r=new e(n,t);if(t.fixtures)for(var o=t.fixtures.length-1;o>=0;o--){var s=i(F,t.fixtures[o],r);r._addFixture(s)}return r},e.prototype.isWorldLocked=function(){return!!(this.m_world&&this.m_world.isLocked())},e.prototype.getWorld=function(){return this.m_world},e.prototype.getNext=function(){return this.m_next},e.prototype.setUserData=function(e){this.m_userData=e},e.prototype.getUserData=function(){return this.m_userData},e.prototype.getFixtureList=function(){return this.m_fixtureList},e.prototype.getJointList=function(){return this.m_jointList},e.prototype.getContactList=function(){return this.m_contactList},e.prototype.isStatic=function(){return this.m_type==j},e.prototype.isDynamic=function(){return this.m_type==D},e.prototype.isKinematic=function(){return this.m_type==R},e.prototype.setStatic=function(){return this.setType(j),this},e.prototype.setDynamic=function(){return this.setType(D),this},e.prototype.setKinematic=function(){return this.setType(R),this},e.prototype.getType=function(){return this.m_type},e.prototype.setType=function(e){if(!0!=this.isWorldLocked()&&this.m_type!=e){this.m_type=e,this.resetMassData(),this.m_type==j&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_sweep.forward(),this.synchronizeFixtures()),this.setAwake(!0),this.m_force.setZero(),this.m_torque=0;for(var t=this.m_contactList;t;){var n=t;t=t.next,this.m_world.destroyContact(n.contact)}this.m_contactList=null;for(var i=this.m_world.m_broadPhase,r=this.m_fixtureList;r;r=r.m_next)for(var o=r.m_proxyCount,s=0;s<o;++s)i.touchProxy(r.m_proxies[s].proxyId)}},e.prototype.isBullet=function(){return this.m_bulletFlag},e.prototype.setBullet=function(e){this.m_bulletFlag=!!e},e.prototype.isSleepingAllowed=function(){return this.m_autoSleepFlag},e.prototype.setSleepingAllowed=function(e){this.m_autoSleepFlag=!!e,!1==this.m_autoSleepFlag&&this.setAwake(!0)},e.prototype.isAwake=function(){return this.m_awakeFlag},e.prototype.setAwake=function(e){e?!1==this.m_awakeFlag&&(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_force.setZero(),this.m_torque=0)},e.prototype.isActive=function(){return this.m_activeFlag},e.prototype.setActive=function(e){if(e!=this.m_activeFlag){if(this.m_activeFlag=!!e,this.m_activeFlag)for(var t=this.m_world.m_broadPhase,n=this.m_fixtureList;n;n=n.m_next)n.createProxies(t,this.m_xf);else{for(var t=this.m_world.m_broadPhase,n=this.m_fixtureList;n;n=n.m_next)n.destroyProxies(t);for(var i=this.m_contactList;i;){var r=i;i=i.next,this.m_world.destroyContact(r.contact)}this.m_contactList=null}}},e.prototype.isFixedRotation=function(){return this.m_fixedRotationFlag},e.prototype.setFixedRotation=function(e){this.m_fixedRotationFlag!=e&&(this.m_fixedRotationFlag=!!e,this.m_angularVelocity=0,this.resetMassData())},e.prototype.getTransform=function(){return this.m_xf},e.prototype.setTransform=function(e,t){if(!0!=this.isWorldLocked()){this.m_xf.setNum(e,t),this.m_sweep.setTransform(this.m_xf);for(var n=this.m_world.m_broadPhase,i=this.m_fixtureList;i;i=i.m_next)i.synchronize(n,this.m_xf,this.m_xf)}},e.prototype.synchronizeTransform=function(){this.m_sweep.getTransform(this.m_xf,1)},e.prototype.synchronizeFixtures=function(){var e=M.identity();this.m_sweep.getTransform(e,0);for(var t=this.m_world.m_broadPhase,n=this.m_fixtureList;n;n=n.m_next)n.synchronize(t,e,this.m_xf)},e.prototype.advance=function(e){this.m_sweep.advance(e),this.m_sweep.c.setVec2(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_sweep.getTransform(this.m_xf,1)},e.prototype.getPosition=function(){return this.m_xf.p},e.prototype.setPosition=function(e){this.setTransform(e,this.m_sweep.a)},e.prototype.getAngle=function(){return this.m_sweep.a},e.prototype.setAngle=function(e){this.setTransform(this.m_xf.p,e)},e.prototype.getWorldCenter=function(){return this.m_sweep.c},e.prototype.getLocalCenter=function(){return this.m_sweep.localCenter},e.prototype.getLinearVelocity=function(){return this.m_linearVelocity},e.prototype.getLinearVelocityFromWorldPoint=function(e){var t=x.sub(e,this.m_sweep.c);return x.add(this.m_linearVelocity,x.crossNumVec2(this.m_angularVelocity,t))},e.prototype.getLinearVelocityFromLocalPoint=function(e){return this.getLinearVelocityFromWorldPoint(this.getWorldPoint(e))},e.prototype.setLinearVelocity=function(e){this.m_type!=j&&(x.dot(e,e)>0&&this.setAwake(!0),this.m_linearVelocity.setVec2(e))},e.prototype.getAngularVelocity=function(){return this.m_angularVelocity},e.prototype.setAngularVelocity=function(e){this.m_type!=j&&(e*e>0&&this.setAwake(!0),this.m_angularVelocity=e)},e.prototype.getLinearDamping=function(){return this.m_linearDamping},e.prototype.setLinearDamping=function(e){this.m_linearDamping=e},e.prototype.getAngularDamping=function(){return this.m_angularDamping},e.prototype.setAngularDamping=function(e){this.m_angularDamping=e},e.prototype.getGravityScale=function(){return this.m_gravityScale},e.prototype.setGravityScale=function(e){this.m_gravityScale=e},e.prototype.getMass=function(){return this.m_mass},e.prototype.getInertia=function(){return this.m_I+this.m_mass*x.dot(this.m_sweep.localCenter,this.m_sweep.localCenter)},e.prototype.getMassData=function(e){e.mass=this.m_mass,e.I=this.getInertia(),e.center.setVec2(this.m_sweep.localCenter)},e.prototype.resetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.setZero(),this.isStatic()||this.isKinematic()){this.m_sweep.c0.setVec2(this.m_xf.p),this.m_sweep.c.setVec2(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}for(var e=x.zero(),t=this.m_fixtureList;t;t=t.m_next)if(0!=t.m_density){var n=new q;t.getMassData(n),this.m_mass+=n.mass,e.addMul(n.mass,n.center),this.m_I+=n.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,e.mul(this.m_invMass)):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&!1==this.m_fixedRotationFlag?(this.m_I-=this.m_mass*x.dot(e,e),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var i=x.clone(this.m_sweep.c);this.m_sweep.setLocalCenter(e,this.m_xf),this.m_linearVelocity.add(x.crossNumVec2(this.m_angularVelocity,x.sub(this.m_sweep.c,i)))},e.prototype.setMassData=function(e){if(!0!=this.isWorldLocked()&&this.m_type==D){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&!1==this.m_fixedRotationFlag&&(this.m_I=e.I-this.m_mass*x.dot(e.center,e.center),this.m_invI=1/this.m_I);var t=x.clone(this.m_sweep.c);this.m_sweep.setLocalCenter(e.center,this.m_xf),this.m_linearVelocity.add(x.crossNumVec2(this.m_angularVelocity,x.sub(this.m_sweep.c,t)))}},e.prototype.applyForce=function(e,t,n){void 0===n&&(n=!0),this.m_type==D&&(n&&!1==this.m_awakeFlag&&this.setAwake(!0),this.m_awakeFlag&&(this.m_force.add(e),this.m_torque+=x.crossVec2Vec2(x.sub(t,this.m_sweep.c),e)))},e.prototype.applyForceToCenter=function(e,t){void 0===t&&(t=!0),this.m_type==D&&(t&&!1==this.m_awakeFlag&&this.setAwake(!0),this.m_awakeFlag&&this.m_force.add(e))},e.prototype.applyTorque=function(e,t){void 0===t&&(t=!0),this.m_type==D&&(t&&!1==this.m_awakeFlag&&this.setAwake(!0),this.m_awakeFlag&&(this.m_torque+=e))},e.prototype.applyLinearImpulse=function(e,t,n){void 0===n&&(n=!0),this.m_type==D&&(n&&!1==this.m_awakeFlag&&this.setAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.addMul(this.m_invMass,e),this.m_angularVelocity+=this.m_invI*x.crossVec2Vec2(x.sub(t,this.m_sweep.c),e)))},e.prototype.applyAngularImpulse=function(e,t){void 0===t&&(t=!0),this.m_type==D&&(t&&!1==this.m_awakeFlag&&this.setAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*e))},e.prototype.shouldCollide=function(e){if(this.m_type!=D&&e.m_type!=D)return!1;for(var t=this.m_jointList;t;t=t.next)if(t.other==e&&!1==t.joint.m_collideConnected)return!1;return!0},e.prototype._addFixture=function(e){if(!0==this.isWorldLocked())return null;if(this.m_activeFlag){var t=this.m_world.m_broadPhase;e.createProxies(t,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,e.m_density>0&&this.resetMassData(),this.m_world.m_newFixture=!0,e},e.prototype.createFixture=function(e,t){if(!0==this.isWorldLocked())return null;var n=new F(this,e,t);return this._addFixture(n),n},e.prototype.destroyFixture=function(e){if(!0!=this.isWorldLocked()){if(this.m_fixtureList===e)this.m_fixtureList=e.m_next;else for(var t=this.m_fixtureList;null!=t;){if(t.m_next===e){t.m_next=e.m_next;break}t=t.m_next}for(var n=this.m_contactList;n;){var i=n.contact;n=n.next;var r=i.getFixtureA(),o=i.getFixtureB();(e==r||e==o)&&this.m_world.destroyContact(i)}if(this.m_activeFlag){var s=this.m_world.m_broadPhase;e.destroyProxies(s)}e.m_body=null,e.m_next=null,this.m_world.publish("remove-fixture",e),this.resetMassData()}},e.prototype.getWorldPoint=function(e){return M.mulVec2(this.m_xf,e)},e.prototype.getWorldVector=function(e){return P.mulVec2(this.m_xf.q,e)},e.prototype.getLocalPoint=function(e){return M.mulTVec2(this.m_xf,e)},e.prototype.getLocalVector=function(e){return P.mulTVec2(this.m_xf.q,e)},e.STATIC="static",e.KINEMATIC="kinematic",e.DYNAMIC="dynamic",e}(),W=function(){function e(e,t,n,i){"object"==typeof e&&null!==e?(this.ex=x.clone(e),this.ey=x.clone(t)):"number"==typeof e?(this.ex=x.neo(e,n),this.ey=x.neo(t,i)):(this.ex=x.zero(),this.ey=x.zero())}return e.prototype.toString=function(){return JSON.stringify(this)},e.isValid=function(e){return null!=e&&x.isValid(e.ex)&&x.isValid(e.ey)},e.assert=function(e){},e.prototype.set=function(e,t,n,i){"number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof i?(this.ex.setNum(e,n),this.ey.setNum(t,i)):"object"==typeof e&&"object"==typeof t?(this.ex.setVec2(e),this.ey.setVec2(t)):"object"==typeof e&&(this.ex.setVec2(e.ex),this.ey.setVec2(e.ey))},e.prototype.setIdentity=function(){this.ex.x=1,this.ey.x=0,this.ex.y=0,this.ey.y=1},e.prototype.setZero=function(){this.ex.x=0,this.ey.x=0,this.ex.y=0,this.ey.y=0},e.prototype.getInverse=function(){var t=this.ex.x,n=this.ey.x,i=this.ex.y,r=this.ey.y,o=t*r-n*i;0!==o&&(o=1/o);var s=new e;return s.ex.x=o*r,s.ey.x=-o*n,s.ex.y=-o*i,s.ey.y=o*t,s},e.prototype.solve=function(e){var t=this.ex.x,n=this.ey.x,i=this.ex.y,r=this.ey.y,o=t*r-n*i;0!==o&&(o=1/o);var s=x.zero();return s.x=o*(r*e.x-n*e.y),s.y=o*(t*e.y-i*e.x),s},e.mul=function(t,n){if(n&&"x"in n&&"y"in n){var i=t.ex.x*n.x+t.ey.x*n.y,r=t.ex.y*n.x+t.ey.y*n.y;return x.neo(i,r)}if(n&&"ex"in n&&"ey"in n){var o=t.ex.x*n.ex.x+t.ey.x*n.ex.y,s=t.ex.x*n.ey.x+t.ey.x*n.ey.y,a=t.ex.y*n.ex.x+t.ey.y*n.ex.y,l=t.ex.y*n.ey.x+t.ey.y*n.ey.y;return new e(o,s,a,l)}},e.mulVec2=function(e,t){var n=e.ex.x*t.x+e.ey.x*t.y,i=e.ex.y*t.x+e.ey.y*t.y;return x.neo(n,i)},e.mulMat22=function(t,n){var i=t.ex.x*n.ex.x+t.ey.x*n.ex.y,r=t.ex.x*n.ey.x+t.ey.x*n.ey.y,o=t.ex.y*n.ex.x+t.ey.y*n.ex.y,s=t.ex.y*n.ey.x+t.ey.y*n.ey.y;return new e(i,r,o,s)},e.mulT=function(t,n){if(n&&"x"in n&&"y"in n)return x.neo(x.dot(n,t.ex),x.dot(n,t.ey));if(n&&"ex"in n&&"ey"in n){var i=x.neo(x.dot(t.ex,n.ex),x.dot(t.ey,n.ex)),r=x.neo(x.dot(t.ex,n.ey),x.dot(t.ey,n.ey));return new e(i,r)}},e.mulTVec2=function(e,t){return x.neo(x.dot(t,e.ex),x.dot(t,e.ey))},e.mulTMat22=function(t,n){var i=x.neo(x.dot(t.ex,n.ex),x.dot(t.ey,n.ex)),r=x.neo(x.dot(t.ex,n.ey),x.dot(t.ey,n.ey));return new e(i,r)},e.abs=function(t){return new e(x.abs(t.ex),x.abs(t.ey))},e.add=function(t,n){return new e(x.add(t.ex,n.ex),x.add(t.ey,n.ey))},e}();(t=l||(l={}))[t.e_circles=0]="e_circles",t[t.e_faceA=1]="e_faceA",t[t.e_faceB=2]="e_faceB",(n=c||(c={}))[n.e_vertex=0]="e_vertex",n[n.e_face=1]="e_face",(i=u||(u={}))[i.nullState=0]="nullState",i[i.addState=1]="addState",i[i.persistState=2]="persistState",i[i.removeState=3]="removeState";var H=function(){function e(){this.v=x.zero(),this.id=new J}return e.prototype.set=function(e){this.v.setVec2(e.v),this.id.set(e.id)},e}(),Y=function(){function e(){this.localNormal=x.zero(),this.localPoint=x.zero(),this.points=[new $,new $],this.pointCount=0}return e.prototype.getWorldManifold=function(e,t,n,i,r){if(0!=this.pointCount){var o=(e=e||new K).normal,s=e.points,a=e.separations;switch(this.type){case l.e_circles:o=x.neo(1,0);var c=M.mulVec2(t,this.localPoint),u=M.mulVec2(i,this.points[0].localPoint),m=x.sub(u,c);x.lengthSquared(m)>b.EPSILON*b.EPSILON&&(o.setVec2(m),o.normalize());var h=c.clone().addMul(n,o),d=u.clone().addMul(-r,o);s[0]=x.mid(h,d),a[0]=x.dot(x.sub(d,h),o),s.length=1,a.length=1;break;case l.e_faceA:o=P.mulVec2(t.q,this.localNormal);for(var p=M.mulVec2(t,this.localPoint),f=0;f<this.pointCount;++f){var _=M.mulVec2(i,this.points[f].localPoint),h=x.clone(_).addMul(n-x.dot(x.sub(_,p),o),o),d=x.clone(_).subMul(r,o);s[f]=x.mid(h,d),a[f]=x.dot(x.sub(d,h),o)}s.length=this.pointCount,a.length=this.pointCount;break;case l.e_faceB:o=P.mulVec2(i.q,this.localNormal);for(var p=M.mulVec2(i,this.localPoint),f=0;f<this.pointCount;++f){var _=M.mulVec2(t,this.points[f].localPoint),d=x.combine(1,_,r-x.dot(x.sub(_,p),o),o),h=x.combine(1,_,-n,o);s[f]=x.mid(h,d),a[f]=x.dot(x.sub(h,d),o)}s.length=this.pointCount,a.length=this.pointCount,o.mul(-1)}return e.normal=o,e.points=s,e.separations=a,e}},e.clipSegmentToLine=X,e.ClipVertex=H,e.getPointStates=Z,e.PointState=u,e}(),$=function(){this.localPoint=x.zero(),this.normalImpulse=0,this.tangentImpulse=0,this.id=new J},J=function(){function e(){this.cf=new Q}return Object.defineProperty(e.prototype,"key",{get:function(){return this.cf.indexA+4*this.cf.indexB+16*this.cf.typeA+64*this.cf.typeB},enumerable:!1,configurable:!0}),e.prototype.set=function(e){this.cf.set(e.cf)},e}(),Q=function(){function e(){}return e.prototype.set=function(e){this.indexA=e.indexA,this.indexB=e.indexB,this.typeA=e.typeA,this.typeB=e.typeB},e}(),K=function(){this.points=[],this.separations=[]};function Z(e,t,n,i){for(var r=0;r<n.pointCount;++r){var o=n.points[r].id;e[r]=u.removeState;for(var s=0;s<i.pointCount;++s)if(i.points[s].id.key==o.key){e[r]=u.persistState;break}}for(var r=0;r<i.pointCount;++r){var o=i.points[r].id;t[r]=u.addState;for(var s=0;s<n.pointCount;++s)if(n.points[s].id.key==o.key){t[r]=u.persistState;break}}}function X(e,t,n,i,r){var o=0,s=x.dot(n,t[0].v)-i,a=x.dot(n,t[1].v)-i;if(s<=0&&e[o++].set(t[0]),a<=0&&e[o++].set(t[1]),s*a<0){var l=s/(s-a);e[o].v.setCombine(1-l,t[0].v,l,t[1].v),e[o].id.cf.indexA=r,e[o].id.cf.indexB=t[0].id.cf.indexB,e[o].id.cf.typeA=c.e_vertex,e[o].id.cf.typeB=c.e_face,++o}return o}var G={gjkCalls:0,gjkIters:0,gjkMaxIters:0,toiTime:0,toiMaxTime:0,toiCalls:0,toiIters:0,toiMaxIters:0,toiRootIters:0,toiMaxRootIters:0,toString:function(e){e="string"==typeof e?e:"\n";var t="";for(var n in this)"function"!=typeof this[n]&&"object"!=typeof this[n]&&(t+=n+": "+this[n]+e);return t}};G.gjkCalls=0,G.gjkIters=0,G.gjkMaxIters=0;var ee=function(){this.proxyA=new er,this.proxyB=new er,this.transformA=null,this.transformB=null,this.useRadii=!1},et=function(){this.pointA=x.zero(),this.pointB=x.zero()},en=function(){this.metric=0,this.indexA=[],this.indexB=[],this.count=0};function ei(e,t,n){++G.gjkCalls;var i=n.proxyA,r=n.proxyB,o=n.transformA,s=n.transformB,a=new es;a.readCache(t,i,o,r,s);for(var l=a.m_v,c=w.maxDistnceIterations,u=[],m=[],h=0,d=0;d<c;){h=a.m_count;for(var p=0;p<h;++p)u[p]=l[p].indexA,m[p]=l[p].indexB;if(a.solve(),3===a.m_count)break;var f=a.getClosestPoint();f.lengthSquared();var _=a.getSearchDirection();if(_.lengthSquared()<b.EPSILON*b.EPSILON)break;var y=l[a.m_count];y.indexA=i.getSupport(P.mulTVec2(o.q,x.neg(_))),y.wA=M.mulVec2(o,i.getVertex(y.indexA)),y.indexB=r.getSupport(P.mulTVec2(s.q,_)),y.wB=M.mulVec2(s,r.getVertex(y.indexB)),y.w=x.sub(y.wB,y.wA),++d,++G.gjkIters;for(var v=!1,p=0;p<h;++p)if(y.indexA===u[p]&&y.indexB===m[p]){v=!0;break}if(v)break;++a.m_count}if(G.gjkMaxIters=b.max(G.gjkMaxIters,d),a.getWitnessPoints(e.pointA,e.pointB),e.distance=x.distance(e.pointA,e.pointB),e.iterations=d,a.writeCache(t),n.useRadii){var g=i.m_radius,A=r.m_radius;if(e.distance>g+A&&e.distance>b.EPSILON){e.distance-=g+A;var B=x.sub(e.pointB,e.pointA);B.normalize(),e.pointA.addMul(g,B),e.pointB.subMul(A,B)}else{var f=x.mid(e.pointA,e.pointB);e.pointA.setVec2(f),e.pointB.setVec2(f),e.distance=0}}}var er=function(){function e(){this.m_buffer=[],this.m_vertices=[],this.m_count=0,this.m_radius=0}return e.prototype.getVertexCount=function(){return this.m_count},e.prototype.getVertex=function(e){return this.m_vertices[e]},e.prototype.getSupport=function(e){for(var t=0,n=x.dot(this.m_vertices[0],e),i=0;i<this.m_count;++i){var r=x.dot(this.m_vertices[i],e);r>n&&(t=i,n=r)}return t},e.prototype.getSupportVertex=function(e){return this.m_vertices[this.getSupport(e)]},e.prototype.set=function(e,t){e.computeDistanceProxy(this,t)},e}(),eo=function(){function e(){this.wA=x.zero(),this.wB=x.zero(),this.w=x.zero()}return e.prototype.set=function(e){this.indexA=e.indexA,this.indexB=e.indexB,this.wA=x.clone(e.wA),this.wB=x.clone(e.wB),this.w=x.clone(e.w),this.a=e.a},e}(),es=function(){function e(){this.m_v1=new eo,this.m_v2=new eo,this.m_v3=new eo,this.m_v=[this.m_v1,this.m_v2,this.m_v3],this.m_count}return e.prototype.toString=function(){return 3===this.m_count?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y,this.m_v3.a,this.m_v3.wA.x,this.m_v3.wA.y,this.m_v3.wB.x,this.m_v3.wB.y].toString():2===this.m_count?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y].toString():1===this.m_count?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y].toString():"+"+this.m_count},e.prototype.readCache=function(e,t,n,i,r){this.m_count=e.count;for(var o=0;o<this.m_count;++o){var s=this.m_v[o];s.indexA=e.indexA[o],s.indexB=e.indexB[o];var a=t.getVertex(s.indexA),l=i.getVertex(s.indexB);s.wA=M.mulVec2(n,a),s.wB=M.mulVec2(r,l),s.w=x.sub(s.wB,s.wA),s.a=0}if(this.m_count>1){var c=e.metric,u=this.getMetric();(u<.5*c||2*c<u||u<b.EPSILON)&&(this.m_count=0)}if(0===this.m_count){var s=this.m_v[0];s.indexA=0,s.indexB=0;var a=t.getVertex(0),l=i.getVertex(0);s.wA=M.mulVec2(n,a),s.wB=M.mulVec2(r,l),s.w=x.sub(s.wB,s.wA),s.a=1,this.m_count=1}},e.prototype.writeCache=function(e){e.metric=this.getMetric(),e.count=this.m_count;for(var t=0;t<this.m_count;++t)e.indexA[t]=this.m_v[t].indexA,e.indexB[t]=this.m_v[t].indexB},e.prototype.getSearchDirection=function(){switch(this.m_count){case 1:return x.neg(this.m_v1.w);case 2:var e=x.sub(this.m_v2.w,this.m_v1.w);if(x.crossVec2Vec2(e,x.neg(this.m_v1.w))>0)return x.crossNumVec2(1,e);return x.crossVec2Num(e,1);default:return x.zero()}},e.prototype.getClosestPoint=function(){switch(this.m_count){case 0:case 3:default:return x.zero();case 1:return x.clone(this.m_v1.w);case 2:return x.combine(this.m_v1.a,this.m_v1.w,this.m_v2.a,this.m_v2.w)}},e.prototype.getWitnessPoints=function(e,t){switch(this.m_count){case 0:break;case 1:e.setVec2(this.m_v1.wA),t.setVec2(this.m_v1.wB);break;case 2:e.setCombine(this.m_v1.a,this.m_v1.wA,this.m_v2.a,this.m_v2.wA),t.setCombine(this.m_v1.a,this.m_v1.wB,this.m_v2.a,this.m_v2.wB);break;case 3:e.setCombine(this.m_v1.a,this.m_v1.wA,this.m_v2.a,this.m_v2.wA),e.addMul(this.m_v3.a,this.m_v3.wA),t.setVec2(e)}},e.prototype.getMetric=function(){switch(this.m_count){case 0:case 1:default:return 0;case 2:return x.distance(this.m_v1.w,this.m_v2.w);case 3:return x.crossVec2Vec2(x.sub(this.m_v2.w,this.m_v1.w),x.sub(this.m_v3.w,this.m_v1.w))}},e.prototype.solve=function(){switch(this.m_count){case 1:break;case 2:this.solve2();break;case 3:this.solve3()}},e.prototype.solve2=function(){var e=this.m_v1.w,t=this.m_v2.w,n=x.sub(t,e),i=-x.dot(e,n);if(i<=0){this.m_v1.a=1,this.m_count=1;return}var r=x.dot(t,n);if(r<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}var o=1/(r+i);this.m_v1.a=r*o,this.m_v2.a=i*o,this.m_count=2},e.prototype.solve3=function(){var e=this.m_v1.w,t=this.m_v2.w,n=this.m_v3.w,i=x.sub(t,e),r=x.dot(e,i),o=x.dot(t,i),s=-r,a=x.sub(n,e),l=x.dot(e,a),c=x.dot(n,a),u=-l,m=x.sub(n,t),h=x.dot(t,m),d=x.dot(n,m),p=-h,f=x.crossVec2Vec2(i,a),_=f*x.crossVec2Vec2(t,n),y=f*x.crossVec2Vec2(n,e),v=f*x.crossVec2Vec2(e,t);if(s<=0&&u<=0){this.m_v1.a=1,this.m_count=1;return}if(o>0&&s>0&&v<=0){var g=1/(o+s);this.m_v1.a=o*g,this.m_v2.a=s*g,this.m_count=2;return}if(c>0&&u>0&&y<=0){var b=1/(c+u);this.m_v1.a=c*b,this.m_v3.a=u*b,this.m_count=2,this.m_v2.set(this.m_v3);return}if(o<=0&&p<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}if(c<=0&&d<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.set(this.m_v3);return}if(d>0&&p>0&&_<=0){var A=1/(d+p);this.m_v2.a=d*A,this.m_v3.a=p*A,this.m_count=2,this.m_v1.set(this.m_v3);return}var w=1/(_+y+v);this.m_v1.a=_*w,this.m_v2.a=y*w,this.m_v3.a=v*w,this.m_count=3},e}();function ea(e,t,n,i,r,o){var s=new ee;s.proxyA.set(e,t),s.proxyB.set(n,i),s.transformA=r,s.transformB=o,s.useRadii=!0;var a=new en,l=new et;return ei(l,a,s),l.distance<10*b.EPSILON}var el=function(e){this.contact=e},ec=[],eu=function(){this.rA=x.zero(),this.rB=x.zero(),this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0},em=function(){function e(e,t,n,i,r){var o,s,a,l;this.m_manifold=new Y,this.m_prev=null,this.m_next=null,this.m_toi=1,this.m_toiCount=0,this.m_toiFlag=!1,this.m_tangentSpeed=0,this.m_enabledFlag=!0,this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_impulse=new eb(this),this.v_points=[],this.v_normal=x.zero(),this.v_normalMass=new W,this.v_K=new W,this.p_localPoints=[],this.p_localNormal=x.zero(),this.p_localPoint=x.zero(),this.p_localCenterA=x.zero(),this.p_localCenterB=x.zero(),this.m_nodeA=new el(this),this.m_nodeB=new el(this),this.m_fixtureA=e,this.m_fixtureB=n,this.m_indexA=t,this.m_indexB=i,this.m_evaluateFcn=r,this.m_friction=(o=this.m_fixtureA.m_friction,s=this.m_fixtureB.m_friction,b.sqrt(o*s)),this.m_restitution=(a=this.m_fixtureA.m_restitution)>(l=this.m_fixtureB.m_restitution)?a:l}return e.prototype.initConstraint=function(e){var t=this.m_fixtureA,n=this.m_fixtureB,i=t.getShape(),r=n.getShape(),o=t.getBody(),s=n.getBody(),a=this.getManifold(),l=a.pointCount;this.v_invMassA=o.m_invMass,this.v_invMassB=s.m_invMass,this.v_invIA=o.m_invI,this.v_invIB=s.m_invI,this.v_friction=this.m_friction,this.v_restitution=this.m_restitution,this.v_tangentSpeed=this.m_tangentSpeed,this.v_pointCount=l,this.v_K.setZero(),this.v_normalMass.setZero(),this.p_invMassA=o.m_invMass,this.p_invMassB=s.m_invMass,this.p_invIA=o.m_invI,this.p_invIB=s.m_invI,this.p_localCenterA=x.clone(o.m_sweep.localCenter),this.p_localCenterB=x.clone(s.m_sweep.localCenter),this.p_radiusA=i.m_radius,this.p_radiusB=r.m_radius,this.p_type=a.type,this.p_localNormal=x.clone(a.localNormal),this.p_localPoint=x.clone(a.localPoint),this.p_pointCount=l;for(var c=0;c<l;++c){var u=a.points[c],m=this.v_points[c]=new eu;e.warmStarting?(m.normalImpulse=e.dtRatio*u.normalImpulse,m.tangentImpulse=e.dtRatio*u.tangentImpulse):(m.normalImpulse=0,m.tangentImpulse=0),m.rA.setZero(),m.rB.setZero(),m.normalMass=0,m.tangentMass=0,m.velocityBias=0,this.p_localPoints[c]=x.clone(u.localPoint)}},e.prototype.getManifold=function(){return this.m_manifold},e.prototype.getWorldManifold=function(e){var t=this.m_fixtureA.getBody(),n=this.m_fixtureB.getBody(),i=this.m_fixtureA.getShape(),r=this.m_fixtureB.getShape();return this.m_manifold.getWorldManifold(e,t.getTransform(),i.m_radius,n.getTransform(),r.m_radius)},e.prototype.setEnabled=function(e){this.m_enabledFlag=!!e},e.prototype.isEnabled=function(){return this.m_enabledFlag},e.prototype.isTouching=function(){return this.m_touchingFlag},e.prototype.getNext=function(){return this.m_next},e.prototype.getFixtureA=function(){return this.m_fixtureA},e.prototype.getFixtureB=function(){return this.m_fixtureB},e.prototype.getChildIndexA=function(){return this.m_indexA},e.prototype.getChildIndexB=function(){return this.m_indexB},e.prototype.flagForFiltering=function(){this.m_filterFlag=!0},e.prototype.setFriction=function(e){this.m_friction=e},e.prototype.getFriction=function(){return this.m_friction},e.prototype.resetFriction=function(){var e,t;this.m_friction=(e=this.m_fixtureA.m_friction,t=this.m_fixtureB.m_friction,b.sqrt(e*t))},e.prototype.setRestitution=function(e){this.m_restitution=e},e.prototype.getRestitution=function(){return this.m_restitution},e.prototype.resetRestitution=function(){var e,t;this.m_restitution=(e=this.m_fixtureA.m_restitution)>(t=this.m_fixtureB.m_restitution)?e:t},e.prototype.setTangentSpeed=function(e){this.m_tangentSpeed=e},e.prototype.getTangentSpeed=function(){return this.m_tangentSpeed},e.prototype.evaluate=function(e,t,n){this.m_evaluateFcn(e,t,this.m_fixtureA,this.m_indexA,n,this.m_fixtureB,this.m_indexB)},e.prototype.update=function(e){this.m_enabledFlag=!0;var t,n=!1,i=this.m_touchingFlag,r=this.m_fixtureA.isSensor(),o=this.m_fixtureB.isSensor(),s=r||o,a=this.m_fixtureA.getBody(),l=this.m_fixtureB.getBody(),c=a.getTransform(),u=l.getTransform();if(s){var m=this.m_fixtureA.getShape(),h=this.m_fixtureB.getShape();n=ea(m,this.m_indexA,h,this.m_indexB,c,u),this.m_manifold.pointCount=0}else{t=this.m_manifold,this.m_manifold=new Y,this.evaluate(this.m_manifold,c,u),n=this.m_manifold.pointCount>0;for(var d=0;d<this.m_manifold.pointCount;++d){var p=this.m_manifold.points[d];p.normalImpulse=0,p.tangentImpulse=0;for(var f=0;f<t.pointCount;++f){var _=t.points[f];if(_.id.key==p.id.key){p.normalImpulse=_.normalImpulse,p.tangentImpulse=_.tangentImpulse;break}}}n!=i&&(a.setAwake(!0),l.setAwake(!0))}this.m_touchingFlag=n,!i&&n&&e&&e.beginContact(this),i&&!n&&e&&e.endContact(this),!s&&n&&e&&e.preSolve(this,t)},e.prototype.solvePositionConstraint=function(e){return this._solvePositionConstraint(e)},e.prototype.solvePositionConstraintTOI=function(e,t,n){return this._solvePositionConstraint(e,t,n)},e.prototype._solvePositionConstraint=function(e,t,n){var i=!!t&&!!n,r=this.m_fixtureA,o=this.m_fixtureB,s=r.getBody(),a=o.getBody();s.c_velocity,a.c_velocity;var c=s.c_position,u=a.c_position,m=x.clone(this.p_localCenterA),h=x.clone(this.p_localCenterB),d=0,p=0;i&&s!=t&&s!=n||(d=this.p_invMassA,p=this.p_invIA);var f=0,_=0;i&&a!=t&&a!=n||(f=this.p_invMassB,_=this.p_invIB);for(var y=x.clone(c.c),v=c.a,g=x.clone(u.c),A=u.a,B=0,V=0;V<this.p_pointCount;++V){var C=M.identity(),S=M.identity();C.q.setAngle(v),S.q.setAngle(A),C.p=x.sub(y,P.mulVec2(C.q,m)),S.p=x.sub(g,P.mulVec2(S.q,h));var k=void 0,z=void 0,I=void 0;switch(this.p_type){case l.e_circles:var N=M.mulVec2(C,this.p_localPoint),T=M.mulVec2(S,this.p_localPoints[0]);(k=x.sub(T,N)).normalize(),z=x.combine(.5,N,.5,T),I=x.dot(x.sub(T,N),k)-this.p_radiusA-this.p_radiusB;break;case l.e_faceA:k=P.mulVec2(C.q,this.p_localNormal);var L=M.mulVec2(C,this.p_localPoint),E=M.mulVec2(S,this.p_localPoints[V]);I=x.dot(x.sub(E,L),k)-this.p_radiusA-this.p_radiusB,z=E;break;case l.e_faceB:k=P.mulVec2(S.q,this.p_localNormal);var L=M.mulVec2(S,this.p_localPoint),E=M.mulVec2(C,this.p_localPoints[V]);I=x.dot(x.sub(E,L),k)-this.p_radiusA-this.p_radiusB,z=E,k.mul(-1)}var F=x.sub(z,y),j=x.sub(z,g);B=b.min(B,I);var R=i?w.toiBaugarte:w.baumgarte,D=w.linearSlop,O=w.maxLinearCorrection,q=b.clamp(R*(I+D),-O,0),U=x.crossVec2Vec2(F,k),W=x.crossVec2Vec2(j,k),H=d+f+p*U*U+_*W*W,Y=H>0?-q/H:0,$=x.mulNumVec2(Y,k);y.subMul(d,$),v-=p*x.crossVec2Vec2(F,$),g.addMul(f,$),A+=_*x.crossVec2Vec2(j,$)}return c.c.setVec2(y),c.a=v,u.c.setVec2(g),u.a=A,B},e.prototype.initVelocityConstraint=function(e){var t=this.m_fixtureA,n=this.m_fixtureB,i=t.getBody(),r=n.getBody(),o=i.c_velocity,s=r.c_velocity,a=i.c_position,l=r.c_position,c=this.p_radiusA,u=this.p_radiusB,m=this.getManifold(),h=this.v_invMassA,d=this.v_invMassB,p=this.v_invIA,f=this.v_invIB,_=x.clone(this.p_localCenterA),y=x.clone(this.p_localCenterB),v=x.clone(a.c),g=a.a,b=x.clone(o.v),A=o.w,B=x.clone(l.c),V=l.a,C=x.clone(s.v),S=s.w,k=M.identity(),z=M.identity();k.q.setAngle(g),z.q.setAngle(V),k.p.setCombine(1,v,-1,P.mulVec2(k.q,_)),z.p.setCombine(1,B,-1,P.mulVec2(z.q,y));var I=m.getWorldManifold(null,k,c,z,u);this.v_normal.setVec2(I.normal);for(var N=0;N<this.v_pointCount;++N){var T=this.v_points[N];T.rA.setVec2(x.sub(I.points[N],v)),T.rB.setVec2(x.sub(I.points[N],B));var L=x.crossVec2Vec2(T.rA,this.v_normal),E=x.crossVec2Vec2(T.rB,this.v_normal),F=h+d+p*L*L+f*E*E;T.normalMass=F>0?1/F:0;var j=x.crossVec2Num(this.v_normal,1),R=x.crossVec2Vec2(T.rA,j),D=x.crossVec2Vec2(T.rB,j),O=h+d+p*R*R+f*D*D;T.tangentMass=O>0?1/O:0,T.velocityBias=0;var q=x.dot(this.v_normal,C)+x.dot(this.v_normal,x.crossNumVec2(S,T.rB))-x.dot(this.v_normal,b)-x.dot(this.v_normal,x.crossNumVec2(A,T.rA));q<-w.velocityThreshold&&(T.velocityBias=-this.v_restitution*q)}if(2==this.v_pointCount&&e.blockSolve){var U=this.v_points[0],W=this.v_points[1],H=x.crossVec2Vec2(U.rA,this.v_normal),Y=x.crossVec2Vec2(U.rB,this.v_normal),$=x.crossVec2Vec2(W.rA,this.v_normal),J=x.crossVec2Vec2(W.rB,this.v_normal),Q=h+d+p*H*H+f*Y*Y,K=h+d+p*$*$+f*J*J,Z=h+d+p*H*$+f*Y*J;Q*Q<1e3*(Q*K-Z*Z)?(this.v_K.ex.setNum(Q,Z),this.v_K.ey.setNum(Z,K),this.v_normalMass.set(this.v_K.getInverse())):this.v_pointCount=1}a.c.setVec2(v),a.a=g,o.v.setVec2(b),o.w=A,l.c.setVec2(B),l.a=V,s.v.setVec2(C),s.w=S},e.prototype.warmStartConstraint=function(e){var t=this.m_fixtureA,n=this.m_fixtureB,i=t.getBody(),r=n.getBody(),o=i.c_velocity,s=r.c_velocity;i.c_position,r.c_position;for(var a=this.v_invMassA,l=this.v_invIA,c=this.v_invMassB,u=this.v_invIB,m=x.clone(o.v),h=o.w,d=x.clone(s.v),p=s.w,f=this.v_normal,_=x.crossVec2Num(f,1),y=0;y<this.v_pointCount;++y){var v=this.v_points[y],g=x.combine(v.normalImpulse,f,v.tangentImpulse,_);h-=l*x.crossVec2Vec2(v.rA,g),m.subMul(a,g),p+=u*x.crossVec2Vec2(v.rB,g),d.addMul(c,g)}o.v.setVec2(m),o.w=h,s.v.setVec2(d),s.w=p},e.prototype.storeConstraintImpulses=function(e){for(var t=this.m_manifold,n=0;n<this.v_pointCount;++n)t.points[n].normalImpulse=this.v_points[n].normalImpulse,t.points[n].tangentImpulse=this.v_points[n].tangentImpulse},e.prototype.solveVelocityConstraint=function(e){var t=this.m_fixtureA.m_body,n=this.m_fixtureB.m_body,i=t.c_velocity;t.c_position;var r=n.c_velocity;n.c_position;for(var o=this.v_invMassA,s=this.v_invIA,a=this.v_invMassB,l=this.v_invIB,c=x.clone(i.v),u=i.w,m=x.clone(r.v),h=r.w,d=this.v_normal,p=x.crossVec2Num(d,1),f=this.v_friction,_=0;_<this.v_pointCount;++_){var y=this.v_points[_],v=x.zero();v.addCombine(1,m,1,x.crossNumVec2(h,y.rB)),v.subCombine(1,c,1,x.crossNumVec2(u,y.rA));var g=x.dot(v,p)-this.v_tangentSpeed,A=-(y.tangentMass*g),w=f*y.normalImpulse,B=b.clamp(y.tangentImpulse+A,-w,w);A=B-y.tangentImpulse,y.tangentImpulse=B;var V=x.mulNumVec2(A,p);c.subMul(o,V),u-=s*x.crossVec2Vec2(y.rA,V),m.addMul(a,V),h+=l*x.crossVec2Vec2(y.rB,V)}if(1==this.v_pointCount||!1==e.blockSolve)for(var C=0;C<this.v_pointCount;++C){var y=this.v_points[C],v=x.zero();v.addCombine(1,m,1,x.crossNumVec2(h,y.rB)),v.subCombine(1,c,1,x.crossNumVec2(u,y.rA));var S=x.dot(v,d),A=-y.normalMass*(S-y.velocityBias),B=b.max(y.normalImpulse+A,0);A=B-y.normalImpulse,y.normalImpulse=B;var V=x.mulNumVec2(A,d);c.subMul(o,V),u-=s*x.crossVec2Vec2(y.rA,V),m.addMul(a,V),h+=l*x.crossVec2Vec2(y.rB,V)}else{var k=this.v_points[0],P=this.v_points[1],M=x.neo(k.normalImpulse,P.normalImpulse),z=x.zero().add(m).add(x.crossNumVec2(h,k.rB)).sub(c).sub(x.crossNumVec2(u,k.rA)),I=x.zero().add(m).add(x.crossNumVec2(h,P.rB)).sub(c).sub(x.crossNumVec2(u,P.rA)),N=x.dot(z,d),T=x.dot(I,d),L=x.neo(N-k.velocityBias,T-P.velocityBias);for(L.sub(W.mulVec2(this.v_K,M));;){var E=W.mulVec2(this.v_normalMass,L).neg();if(E.x>=0&&E.y>=0||(E.x=-k.normalMass*L.x,E.y=0,N=0,T=this.v_K.ex.y*E.x+L.y,E.x>=0&&T>=0)||(E.x=0,E.y=-P.normalMass*L.y,N=this.v_K.ey.x*E.y+L.x,T=0,E.y>=0&&N>=0)){var F=x.sub(E,M),j=x.mulNumVec2(F.x,d),R=x.mulNumVec2(F.y,d);c.subCombine(o,j,o,R),u-=s*(x.crossVec2Vec2(k.rA,j)+x.crossVec2Vec2(P.rA,R)),m.addCombine(a,j,a,R),h+=l*(x.crossVec2Vec2(k.rB,j)+x.crossVec2Vec2(P.rB,R)),k.normalImpulse=E.x,P.normalImpulse=E.y;break}if(E.x=0,E.y=0,N=L.x,T=L.y,N>=0&&T>=0){var F=x.sub(E,M),j=x.mulNumVec2(F.x,d),R=x.mulNumVec2(F.y,d);c.subCombine(o,j,o,R),u-=s*(x.crossVec2Vec2(k.rA,j)+x.crossVec2Vec2(P.rA,R)),m.addCombine(a,j,a,R),h+=l*(x.crossVec2Vec2(k.rB,j)+x.crossVec2Vec2(P.rB,R)),k.normalImpulse=E.x,P.normalImpulse=E.y}break}}i.v.setVec2(c),i.w=u,r.v.setVec2(m),r.w=h},e.addType=function(e,t,n){ec[e]=ec[e]||{},ec[e][t]=n},e.create=function(t,n,i,r){var o,s,a=t.getType(),l=i.getType();if(s=ec[a]&&ec[a][l])o=new e(t,n,i,r,s);else{if(!(s=ec[l]&&ec[l][a]))return null;o=new e(i,r,t,n,s)}t=o.getFixtureA(),i=o.getFixtureB(),n=o.getChildIndexA(),r=o.getChildIndexB();var c=t.getBody(),u=i.getBody();return o.m_nodeA.contact=o,o.m_nodeA.other=u,o.m_nodeA.prev=null,o.m_nodeA.next=c.m_contactList,null!=c.m_contactList&&(c.m_contactList.prev=o.m_nodeA),c.m_contactList=o.m_nodeA,o.m_nodeB.contact=o,o.m_nodeB.other=c,o.m_nodeB.prev=null,o.m_nodeB.next=u.m_contactList,null!=u.m_contactList&&(u.m_contactList.prev=o.m_nodeB),u.m_contactList=o.m_nodeB,!1==t.isSensor()&&!1==i.isSensor()&&(c.setAwake(!0),u.setAwake(!0)),o},e.destroy=function(e,t){var n=e.m_fixtureA,i=e.m_fixtureB,r=n.getBody(),o=i.getBody();e.isTouching()&&t.endContact(e),e.m_nodeA.prev&&(e.m_nodeA.prev.next=e.m_nodeA.next),e.m_nodeA.next&&(e.m_nodeA.next.prev=e.m_nodeA.prev),e.m_nodeA==r.m_contactList&&(r.m_contactList=e.m_nodeA.next),e.m_nodeB.prev&&(e.m_nodeB.prev.next=e.m_nodeB.next),e.m_nodeB.next&&(e.m_nodeB.next.prev=e.m_nodeB.prev),e.m_nodeB==o.m_contactList&&(o.m_contactList=e.m_nodeB.next),e.m_manifold.pointCount>0&&!1==n.isSensor()&&!1==i.isSensor()&&(r.setAwake(!0),o.setAwake(!0)),n.getType(),i.getType()},e}(),eh=function(){this.other=null,this.joint=null,this.prev=null,this.next=null},ed=function(){function e(e,t,n){this.m_type="unknown-joint",this.m_prev=null,this.m_next=null,this.m_edgeA=new eh,this.m_edgeB=new eh,this.m_islandFlag=!1,t="bodyA"in e?e.bodyA:t,n="bodyB"in e?e.bodyB:n,this.m_bodyA=t,this.m_bodyB=n,this.m_collideConnected=!!e.collideConnected,this.m_userData=e.userData}return e.prototype.isActive=function(){return this.m_bodyA.isActive()&&this.m_bodyB.isActive()},e.prototype.getType=function(){return this.m_type},e.prototype.getBodyA=function(){return this.m_bodyA},e.prototype.getBodyB=function(){return this.m_bodyB},e.prototype.getNext=function(){return this.m_next},e.prototype.getUserData=function(){return this.m_userData},e.prototype.setUserData=function(e){this.m_userData=e},e.prototype.getCollideConnected=function(){return this.m_collideConnected},e.prototype.shiftOrigin=function(e){},e}(),ep=function(){this.proxyA=new er,this.proxyB=new er,this.sweepA=new z,this.sweepB=new z};(r=m||(m={}))[r.e_unknown=0]="e_unknown",r[r.e_failed=1]="e_failed",r[r.e_overlapped=2]="e_overlapped",r[r.e_touching=3]="e_touching",r[r.e_separated=4]="e_separated";var ef=function(){};function e_(e,t){var n=Date.now();++G.toiCalls,e.state=m.e_unknown,e.t=t.tMax;var i=t.proxyA,r=t.proxyB,o=t.sweepA,s=t.sweepB;o.normalize(),s.normalize();var a=t.tMax,l=i.m_radius+r.m_radius,c=b.max(w.linearSlop,l-3*w.linearSlop),u=.25*w.linearSlop,h=0,d=w.maxTOIIterations,p=0,f=new en,_=new ee;for(_.proxyA=t.proxyA,_.proxyB=t.proxyB,_.useRadii=!1;;){var y=M.identity(),v=M.identity();o.getTransform(y,h),s.getTransform(v,h),_.transformA=y,_.transformB=v;var g=new et;if(ei(g,f,_),g.distance<=0){e.state=m.e_overlapped,e.t=0;break}if(g.distance<c+u){e.state=m.e_touching,e.t=h;break}var x=new ey;x.initialize(f,i,o,r,s,h);for(var A=!1,B=a,V=0;;){var C=x.findMinSeparation(B);if(C>c+u){e.state=m.e_separated,e.t=a,A=!0;break}if(C>c-u){h=B;break}var S=x.evaluate(h);if(S<c-u){e.state=m.e_failed,e.t=h,A=!0;break}if(S<=c+u){e.state=m.e_touching,e.t=h,A=!0;break}for(var k=0,P=h,z=B;;){var I=void 0;I=1&k?P+(c-S)*(z-P)/(C-S):.5*(P+z),++k,++G.toiRootIters;var N=x.evaluate(I);if(x.indexA,x.indexB,b.abs(N-c)<u){B=I;break}if(N>c?(P=I,S=N):(z=I,C=N),50===k)break}if(G.toiMaxRootIters=b.max(G.toiMaxRootIters,k),++V===w.maxPolygonVertices)break}if(++p,++G.toiIters,A)break;if(p===d){e.state=m.e_failed,e.t=h;break}}G.toiMaxIters=b.max(G.toiMaxIters,p);var T=Date.now()-n;G.toiMaxTime=b.max(G.toiMaxTime,T),G.toiTime+=T}G.toiTime=0,G.toiMaxTime=0,G.toiCalls=0,G.toiIters=0,G.toiMaxIters=0,G.toiRootIters=0,G.toiMaxRootIters=0,(o=h||(h={}))[o.e_points=1]="e_points",o[o.e_faceA=2]="e_faceA",o[o.e_faceB=3]="e_faceB";var ey=function(){function e(){this.m_proxyA=new er,this.m_proxyB=new er,this.m_localPoint=x.zero(),this.m_axis=x.zero()}return e.prototype.initialize=function(e,t,n,i,r,o){this.m_proxyA=t,this.m_proxyB=i;var s=e.count;this.m_sweepA=n,this.m_sweepB=r;var a=M.identity(),l=M.identity();if(this.m_sweepA.getTransform(a,o),this.m_sweepB.getTransform(l,o),1===s){this.m_type=h.e_points;var c=this.m_proxyA.getVertex(e.indexA[0]),u=this.m_proxyB.getVertex(e.indexB[0]),m=M.mulVec2(a,c),d=M.mulVec2(l,u);this.m_axis.setCombine(1,d,-1,m);var p=this.m_axis.normalize();return p}if(e.indexA[0]===e.indexA[1]){this.m_type=h.e_faceB;var f=i.getVertex(e.indexB[0]),_=i.getVertex(e.indexB[1]);this.m_axis=x.crossVec2Num(x.sub(_,f),1),this.m_axis.normalize();var y=P.mulVec2(l.q,this.m_axis);this.m_localPoint=x.mid(f,_);var d=M.mulVec2(l,this.m_localPoint),c=t.getVertex(e.indexA[0]),m=M.mulVec2(a,c),p=x.dot(m,y)-x.dot(d,y);return p<0&&(this.m_axis=x.neg(this.m_axis),p=-p),p}this.m_type=h.e_faceA;var v=this.m_proxyA.getVertex(e.indexA[0]),g=this.m_proxyA.getVertex(e.indexA[1]);this.m_axis=x.crossVec2Num(x.sub(g,v),1),this.m_axis.normalize();var y=P.mulVec2(a.q,this.m_axis);this.m_localPoint=x.mid(v,g);var m=M.mulVec2(a,this.m_localPoint),u=this.m_proxyB.getVertex(e.indexB[0]),d=M.mulVec2(l,u),p=x.dot(d,y)-x.dot(m,y);return p<0&&(this.m_axis=x.neg(this.m_axis),p=-p),p},e.prototype.compute=function(e,t){var n=M.identity(),i=M.identity();switch(this.m_sweepA.getTransform(n,t),this.m_sweepB.getTransform(i,t),this.m_type){case h.e_points:if(e){var r=P.mulTVec2(n.q,this.m_axis),o=P.mulTVec2(i.q,x.neg(this.m_axis));this.indexA=this.m_proxyA.getSupport(r),this.indexB=this.m_proxyB.getSupport(o)}var s=this.m_proxyA.getVertex(this.indexA),a=this.m_proxyB.getVertex(this.indexB),l=M.mulVec2(n,s),c=M.mulVec2(i,a),u=x.dot(c,this.m_axis)-x.dot(l,this.m_axis);return u;case h.e_faceA:var m=P.mulVec2(n.q,this.m_axis),l=M.mulVec2(n,this.m_localPoint);if(e){var o=P.mulTVec2(i.q,x.neg(m));this.indexA=-1,this.indexB=this.m_proxyB.getSupport(o)}var a=this.m_proxyB.getVertex(this.indexB),c=M.mulVec2(i,a),u=x.dot(c,m)-x.dot(l,m);return u;case h.e_faceB:var m=P.mulVec2(i.q,this.m_axis),c=M.mulVec2(i,this.m_localPoint);if(e){var r=P.mulTVec2(n.q,x.neg(m));this.indexB=-1,this.indexA=this.m_proxyA.getSupport(r)}var s=this.m_proxyA.getVertex(this.indexA),l=M.mulVec2(n,s),u=x.dot(l,m)-x.dot(c,m);return u;default:return e&&(this.indexA=-1,this.indexB=-1),0}},e.prototype.findMinSeparation=function(e){return this.compute(!0,e)},e.prototype.evaluate=function(e){return this.compute(!1,e)},e}(),ev=function(){function e(){this.dt=0,this.inv_dt=0,this.velocityIterations=0,this.positionIterations=0,this.warmStarting=!1,this.blockSolve=!0,this.inv_dt0=0,this.dtRatio=1}return e.prototype.reset=function(e){this.dt>0&&(this.inv_dt0=this.inv_dt),this.dt=e,this.inv_dt=0==e?0:1/e,this.dtRatio=e*this.inv_dt0},e}(),eg=new ev,eb=function(){function e(e){this.contact=e,this.normals=[],this.tangents=[]}return Object.defineProperty(e.prototype,"normalImpulses",{get:function(){var e=this.contact,t=this.normals;t.length=0;for(var n=0;n<e.v_points.length;++n)t.push(e.v_points[n].normalImpulse);return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tangentImpulses",{get:function(){var e=this.contact,t=this.tangents;t.length=0;for(var n=0;n<e.v_points.length;++n)t.push(e.v_points[n].tangentImpulse);return t},enumerable:!1,configurable:!0}),e}(),ex=function(){function e(e){this.m_world=e,this.m_stack=[],this.m_bodies=[],this.m_contacts=[],this.m_joints=[]}return e.prototype.clear=function(){this.m_stack.length=0,this.m_bodies.length=0,this.m_contacts.length=0,this.m_joints.length=0},e.prototype.addBody=function(e){this.m_bodies.push(e)},e.prototype.addContact=function(e){this.m_contacts.push(e)},e.prototype.addJoint=function(e){this.m_joints.push(e)},e.prototype.solveWorld=function(e){for(var t=this.m_world,n=t.m_bodyList;n;n=n.m_next)n.m_islandFlag=!1;for(var i=t.m_contactList;i;i=i.m_next)i.m_islandFlag=!1;for(var r=t.m_jointList;r;r=r.m_next)r.m_islandFlag=!1;for(var o=this.m_stack,s=t.m_bodyList;s;s=s.m_next)if(!s.m_islandFlag&&!1!=s.isAwake()&&!1!=s.isActive()&&!s.isStatic()){for(this.clear(),o.push(s),s.m_islandFlag=!0;o.length>0;){var n=o.pop();if(this.addBody(n),n.setAwake(!0),!n.isStatic()){for(var a=n.m_contactList;a;a=a.next){var l=a.contact;if(!l.m_islandFlag&&!1!=l.isEnabled()&&!1!=l.isTouching()){var c=l.m_fixtureA.m_isSensor,u=l.m_fixtureB.m_isSensor;if(!c&&!u){this.addContact(l),l.m_islandFlag=!0;var m=a.other;m.m_islandFlag||(o.push(m),m.m_islandFlag=!0)}}}for(var h=n.m_jointList;h;h=h.next)if(!0!=h.joint.m_islandFlag){var m=h.other;!1!=m.isActive()&&(this.addJoint(h.joint),h.joint.m_islandFlag=!0,m.m_islandFlag||(o.push(m),m.m_islandFlag=!0))}}}this.solveIsland(e);for(var d=0;d<this.m_bodies.length;++d){var n=this.m_bodies[d];n.isStatic()&&(n.m_islandFlag=!1)}}},e.prototype.solveIsland=function(e){for(var t=this.m_world,n=t.m_gravity,i=t.m_allowSleep,r=e.dt,o=0;o<this.m_bodies.length;++o){var s=this.m_bodies[o],a=x.clone(s.m_sweep.c),l=s.m_sweep.a,c=x.clone(s.m_linearVelocity),u=s.m_angularVelocity;s.m_sweep.c0.setVec2(s.m_sweep.c),s.m_sweep.a0=s.m_sweep.a,s.isDynamic()&&(c.addMul(r*s.m_gravityScale,n),c.addMul(r*s.m_invMass,s.m_force),u+=r*s.m_invI*s.m_torque,c.mul(1/(1+r*s.m_linearDamping)),u*=1/(1+r*s.m_angularDamping)),s.c_position.c=a,s.c_position.a=l,s.c_velocity.v=c,s.c_velocity.w=u}for(var o=0;o<this.m_contacts.length;++o){var m=this.m_contacts[o];m.initConstraint(e)}for(var o=0;o<this.m_contacts.length;++o){var m=this.m_contacts[o];m.initVelocityConstraint(e)}if(e.warmStarting)for(var o=0;o<this.m_contacts.length;++o){var m=this.m_contacts[o];m.warmStartConstraint(e)}for(var o=0;o<this.m_joints.length;++o){var h=this.m_joints[o];h.initVelocityConstraints(e)}for(var o=0;o<e.velocityIterations;++o){for(var d=0;d<this.m_joints.length;++d){var h=this.m_joints[d];h.solveVelocityConstraints(e)}for(var d=0;d<this.m_contacts.length;++d){var m=this.m_contacts[d];m.solveVelocityConstraint(e)}}for(var o=0;o<this.m_contacts.length;++o){var m=this.m_contacts[o];m.storeConstraintImpulses(e)}for(var o=0;o<this.m_bodies.length;++o){var s=this.m_bodies[o],a=x.clone(s.c_position.c),l=s.c_position.a,c=x.clone(s.c_velocity.v),u=s.c_velocity.w,p=x.mulNumVec2(r,c);if(x.lengthSquared(p)>w.maxTranslationSquared){var f=w.maxTranslation/p.length();c.mul(f)}var _=r*u;if(_*_>w.maxRotationSquared){var f=w.maxRotation/b.abs(_);u*=f}a.addMul(r,c),l+=r*u,s.c_position.c.setVec2(a),s.c_position.a=l,s.c_velocity.v.setVec2(c),s.c_velocity.w=u}for(var y=!1,o=0;o<e.positionIterations;++o){for(var v=0,d=0;d<this.m_contacts.length;++d){var m=this.m_contacts[d],g=m.solvePositionConstraint(e);v=b.min(v,g)}for(var A=v>=-3*w.linearSlop,B=!0,d=0;d<this.m_joints.length;++d){var h=this.m_joints[d],V=h.solvePositionConstraints(e);B=B&&V}if(A&&B){y=!0;break}}for(var o=0;o<this.m_bodies.length;++o){var s=this.m_bodies[o];s.m_sweep.c.setVec2(s.c_position.c),s.m_sweep.a=s.c_position.a,s.m_linearVelocity.setVec2(s.c_velocity.v),s.m_angularVelocity=s.c_velocity.w,s.synchronizeTransform()}if(this.postSolveIsland(),i){for(var C=1/0,S=w.linearSleepToleranceSqr,k=w.angularSleepToleranceSqr,o=0;o<this.m_bodies.length;++o){var s=this.m_bodies[o];s.isStatic()||(!1==s.m_autoSleepFlag||s.m_angularVelocity*s.m_angularVelocity>k||x.lengthSquared(s.m_linearVelocity)>S?(s.m_sleepTime=0,C=0):(s.m_sleepTime+=r,C=b.min(C,s.m_sleepTime)))}if(C>=w.timeToSleep&&y)for(var o=0;o<this.m_bodies.length;++o){var s=this.m_bodies[o];s.setAwake(!1)}}},e.prototype.printBodies=function(e){for(var t=0;t<this.m_bodies.length;++t){var n=this.m_bodies[t];g.debug(e,n.c_position.a,n.c_position.c.x,n.c_position.c.y,n.c_velocity.w,n.c_velocity.v.x,n.c_velocity.v.y)}},e.prototype.solveWorldTOI=function(e){var t,n,i=this.m_world;if(i.m_stepComplete){for(var t=i.m_bodyList;t;t=t.m_next)t.m_islandFlag=!1,t.m_sweep.alpha0=0;for(var n=i.m_contactList;n;n=n.m_next)n.m_toiFlag=!1,n.m_islandFlag=!1,n.m_toiCount=0,n.m_toi=1}for(;;){for(var r=null,o=1,n=i.m_contactList;n;n=n.m_next)if(!1!=n.isEnabled()&&!(n.m_toiCount>w.maxSubSteps)){var s=1;if(n.m_toiFlag)s=n.m_toi;else{var a=n.getFixtureA(),l=n.getFixtureB();if(a.isSensor()||l.isSensor())continue;var c=a.getBody(),u=l.getBody(),h=c.isAwake()&&!c.isStatic(),d=u.isAwake()&&!u.isStatic();if(!1==h&&!1==d)continue;var p=c.isBullet()||!c.isDynamic(),f=u.isBullet()||!u.isDynamic();if(!1==p&&!1==f)continue;var _=c.m_sweep.alpha0;c.m_sweep.alpha0<u.m_sweep.alpha0?(_=u.m_sweep.alpha0,c.m_sweep.advance(_)):u.m_sweep.alpha0<c.m_sweep.alpha0&&(_=c.m_sweep.alpha0,u.m_sweep.advance(_));var y=n.getChildIndexA(),v=n.getChildIndexB();c.m_sweep,u.m_sweep;var g=new ep;g.proxyA.set(a.getShape(),y),g.proxyB.set(l.getShape(),v),g.sweepA.set(c.m_sweep),g.sweepB.set(u.m_sweep),g.tMax=1;var x=new ef;e_(x,g);var A=x.t;s=x.state==m.e_touching?b.min(_+(1-_)*A,1):1,n.m_toi=s,n.m_toiFlag=!0}s<o&&(r=n,o=s)}if(null==r||1-10*b.EPSILON<o){i.m_stepComplete=!0;break}var B=r.getFixtureA(),V=r.getFixtureB(),C=B.getBody(),S=V.getBody(),k=C.m_sweep.clone(),P=S.m_sweep.clone();if(C.advance(o),S.advance(o),r.update(i),r.m_toiFlag=!1,++r.m_toiCount,!1==r.isEnabled()||!1==r.isTouching()){r.setEnabled(!1),C.m_sweep.set(k),S.m_sweep.set(P),C.synchronizeTransform(),S.synchronizeTransform();continue}C.setAwake(!0),S.setAwake(!0),this.clear(),this.addBody(C),this.addBody(S),this.addContact(r),C.m_islandFlag=!0,S.m_islandFlag=!0,r.m_islandFlag=!0;for(var M=[C,S],z=0;z<M.length;++z){var I=M[z];if(I.isDynamic())for(var N=I.m_contactList;N;N=N.next){var T=N.contact;if(!T.m_islandFlag){var L=N.other;if(!L.isDynamic()||I.isBullet()||L.isBullet()){var E=T.m_fixtureA.m_isSensor,F=T.m_fixtureB.m_isSensor;if(!E&&!F){var j=L.m_sweep.clone();if(!1==L.m_islandFlag&&L.advance(o),T.update(i),!1==T.isEnabled()||!1==T.isTouching()){L.m_sweep.set(j),L.synchronizeTransform();continue}T.m_islandFlag=!0,this.addContact(T),L.m_islandFlag||(L.m_islandFlag=!0,L.isStatic()||L.setAwake(!0),this.addBody(L))}}}}}eg.reset((1-o)*e.dt),eg.dtRatio=1,eg.positionIterations=20,eg.velocityIterations=e.velocityIterations,eg.warmStarting=!1,this.solveIslandTOI(eg,C,S);for(var z=0;z<this.m_bodies.length;++z){var I=this.m_bodies[z];if(I.m_islandFlag=!1,I.isDynamic()){I.synchronizeFixtures();for(var N=I.m_contactList;N;N=N.next)N.contact.m_toiFlag=!1,N.contact.m_islandFlag=!1}}if(i.findNewContacts(),i.m_subStepping){i.m_stepComplete=!1;break}}},e.prototype.solveIslandTOI=function(e,t,n){this.m_world;for(var i,r,i=0;i<this.m_bodies.length;++i){var o=this.m_bodies[i];o.c_position.c.setVec2(o.m_sweep.c),o.c_position.a=o.m_sweep.a,o.c_velocity.v.setVec2(o.m_linearVelocity),o.c_velocity.w=o.m_angularVelocity}for(var i=0;i<this.m_contacts.length;++i){var s=this.m_contacts[i];s.initConstraint(e)}for(var i=0;i<e.positionIterations;++i){for(var a=0,l=0;l<this.m_contacts.length;++l){var s=this.m_contacts[l],c=s.solvePositionConstraintTOI(e,t,n);a=b.min(a,c)}if(a>=-1.5*w.linearSlop)break}t.m_sweep.c0.setVec2(t.c_position.c),t.m_sweep.a0=t.c_position.a,n.m_sweep.c0.setVec2(n.c_position.c),n.m_sweep.a0=n.c_position.a;for(var i=0;i<this.m_contacts.length;++i){var s=this.m_contacts[i];s.initVelocityConstraint(e)}for(var i=0;i<e.velocityIterations;++i)for(var l=0;l<this.m_contacts.length;++l){var s=this.m_contacts[l];s.solveVelocityConstraint(e)}for(var u=e.dt,i=0;i<this.m_bodies.length;++i){var o=this.m_bodies[i],r=x.clone(o.c_position.c),m=o.c_position.a,h=x.clone(o.c_velocity.v),d=o.c_velocity.w,p=x.mulNumVec2(u,h);if(x.dot(p,p)>w.maxTranslationSquared){var f=w.maxTranslation/p.length();h.mul(f)}var _=u*d;if(_*_>w.maxRotationSquared){var f=w.maxRotation/b.abs(_);d*=f}r.addMul(u,h),m+=u*d,o.c_position.c=r,o.c_position.a=m,o.c_velocity.v=h,o.c_velocity.w=d,o.m_sweep.c=r,o.m_sweep.a=m,o.m_linearVelocity=h,o.m_angularVelocity=d,o.synchronizeTransform()}this.postSolveIsland()},e.prototype.postSolveIsland=function(){for(var e=0;e<this.m_contacts.length;++e){var t=this.m_contacts[e];this.m_world.postSolve(t,t.m_impulse)}},e}(),eA={gravity:x.zero(),allowSleep:!0,warmStarting:!0,continuousPhysics:!0,subStepping:!1,blockSolve:!0,velocityIterations:8,positionIterations:3},ew=function(){function e(t){var n=this;if(this.s_step=new ev,this.createContact=function(e,t){var i=e.fixture,r=t.fixture,o=e.childIndex,s=t.childIndex,a=i.getBody(),l=r.getBody();if(a!=l){for(var c=l.getContactList();c;){if(c.other==a){var u=c.contact.getFixtureA(),m=c.contact.getFixtureB(),h=c.contact.getChildIndexA(),d=c.contact.getChildIndexB();if(u==i&&m==r&&h==o&&d==s||u==r&&m==i&&h==s&&d==o)return}c=c.next}if(!1!=l.shouldCollide(a)&&!1!=r.shouldCollide(i)){var p=em.create(i,o,r,s);null!=p&&(p.m_prev=null,null!=n.m_contactList&&(p.m_next=n.m_contactList,n.m_contactList.m_prev=p),n.m_contactList=p,++n.m_contactCount)}}},!(this instanceof e))return new e(t);t&&x.isValid(t)&&(t={gravity:t}),t=v(t,eA),this.m_solver=new ex(this),this.m_broadPhase=new k,this.m_contactList=null,this.m_contactCount=0,this.m_bodyList=null,this.m_bodyCount=0,this.m_jointList=null,this.m_jointCount=0,this.m_stepComplete=!0,this.m_allowSleep=t.allowSleep,this.m_gravity=x.clone(t.gravity),this.m_clearForces=!0,this.m_newFixture=!1,this.m_locked=!1,this.m_warmStarting=t.warmStarting,this.m_continuousPhysics=t.continuousPhysics,this.m_subStepping=t.subStepping,this.m_blockSolve=t.blockSolve,this.m_velocityIterations=t.velocityIterations,this.m_positionIterations=t.positionIterations,this.m_t=0}return e.prototype._serialize=function(){for(var e=[],t=[],n=this.getBodyList();n;n=n.getNext())e.push(n);for(var i=this.getJointList();i;i=i.getNext())"function"==typeof i._serialize&&t.push(i);return{gravity:this.m_gravity,bodies:e,joints:t}},e._deserialize=function(t,n,i){if(!t)return new e;var r=new e(t.gravity);if(t.bodies)for(var o=t.bodies.length-1;o>=0;o-=1)r._addBody(i(U,t.bodies[o],r));if(t.joints)for(var o=t.joints.length-1;o>=0;o--)r.createJoint(i(ed,t.joints[o],r));return r},e.prototype.getBodyList=function(){return this.m_bodyList},e.prototype.getJointList=function(){return this.m_jointList},e.prototype.getContactList=function(){return this.m_contactList},e.prototype.getBodyCount=function(){return this.m_bodyCount},e.prototype.getJointCount=function(){return this.m_jointCount},e.prototype.getContactCount=function(){return this.m_contactCount},e.prototype.setGravity=function(e){this.m_gravity=e},e.prototype.getGravity=function(){return this.m_gravity},e.prototype.isLocked=function(){return this.m_locked},e.prototype.setAllowSleeping=function(e){if(e!=this.m_allowSleep&&(this.m_allowSleep=e,!1==this.m_allowSleep))for(var t=this.m_bodyList;t;t=t.m_next)t.setAwake(!0)},e.prototype.getAllowSleeping=function(){return this.m_allowSleep},e.prototype.setWarmStarting=function(e){this.m_warmStarting=e},e.prototype.getWarmStarting=function(){return this.m_warmStarting},e.prototype.setContinuousPhysics=function(e){this.m_continuousPhysics=e},e.prototype.getContinuousPhysics=function(){return this.m_continuousPhysics},e.prototype.setSubStepping=function(e){this.m_subStepping=e},e.prototype.getSubStepping=function(){return this.m_subStepping},e.prototype.setAutoClearForces=function(e){this.m_clearForces=e},e.prototype.getAutoClearForces=function(){return this.m_clearForces},e.prototype.clearForces=function(){for(var e=this.m_bodyList;e;e=e.getNext())e.m_force.setZero(),e.m_torque=0},e.prototype.queryAABB=function(e,t){var n=this.m_broadPhase;this.m_broadPhase.query(e,function(e){return t(n.getUserData(e).fixture)})},e.prototype.rayCast=function(e,t,n){var i=this.m_broadPhase;this.m_broadPhase.rayCast({maxFraction:1,p1:e,p2:t},function(e,t){var r=i.getUserData(t),o=r.fixture,s=r.childIndex,a={};if(o.rayCast(a,e,s)){var l=a.fraction;return n(o,x.add(x.mulNumVec2(1-l,e.p1),x.mulNumVec2(l,e.p2)),a.normal,l)}return e.maxFraction})},e.prototype.getProxyCount=function(){return this.m_broadPhase.getProxyCount()},e.prototype.getTreeHeight=function(){return this.m_broadPhase.getTreeHeight()},e.prototype.getTreeBalance=function(){return this.m_broadPhase.getTreeBalance()},e.prototype.getTreeQuality=function(){return this.m_broadPhase.getTreeQuality()},e.prototype.shiftOrigin=function(e){if(!this.m_locked){for(var t=this.m_bodyList;t;t=t.m_next)t.m_xf.p.sub(e),t.m_sweep.c0.sub(e),t.m_sweep.c.sub(e);for(var n=this.m_jointList;n;n=n.m_next)n.shiftOrigin(e);this.m_broadPhase.shiftOrigin(e)}},e.prototype._addBody=function(e){!this.isLocked()&&(e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount)},e.prototype.createBody=function(e,t){if(this.isLocked())return null;var n={};e&&(x.isValid(e)?n={position:e,angle:t}:"object"==typeof e&&(n=e));var i=new U(this,n);return this._addBody(i),i},e.prototype.createDynamicBody=function(e,t){var n={};return e&&(x.isValid(e)?n={position:e,angle:t}:"object"==typeof e&&(n=e)),n.type="dynamic",this.createBody(n)},e.prototype.createKinematicBody=function(e,t){var n={};return e&&(x.isValid(e)?n={position:e,angle:t}:"object"==typeof e&&(n=e)),n.type="kinematic",this.createBody(n)},e.prototype.destroyBody=function(e){if(!this.isLocked()){if(e.m_destroyed)return!1;for(var t=e.m_jointList;t;){var n=t;t=t.next,this.publish("remove-joint",n.joint),this.destroyJoint(n.joint),e.m_jointList=t}e.m_jointList=null;for(var i=e.m_contactList;i;){var r=i;i=i.next,this.destroyContact(r.contact),e.m_contactList=i}e.m_contactList=null;for(var o=e.m_fixtureList;o;){var s=o;o=o.m_next,this.publish("remove-fixture",s),s.destroyProxies(this.m_broadPhase),e.m_fixtureList=o}return e.m_fixtureList=null,e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_bodyList&&(this.m_bodyList=e.m_next),e.m_destroyed=!0,--this.m_bodyCount,this.publish("remove-body",e),!0}},e.prototype.createJoint=function(e){if(this.isLocked())return null;if(e.m_prev=null,e.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.joint=e,e.m_edgeA.other=e.m_bodyB,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.joint=e,e.m_edgeB.other=e.m_bodyA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB,!1==e.m_collideConnected)for(var t=e.m_bodyB.getContactList();t;t=t.next)t.other==e.m_bodyA&&t.contact.flagForFiltering();return e},e.prototype.destroyJoint=function(e){if(!this.isLocked()){e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_jointList&&(this.m_jointList=e.m_next);var t=e.m_bodyA,n=e.m_bodyB;if(t.setAwake(!0),n.setAwake(!0),e.m_edgeA.prev&&(e.m_edgeA.prev.next=e.m_edgeA.next),e.m_edgeA.next&&(e.m_edgeA.next.prev=e.m_edgeA.prev),e.m_edgeA==t.m_jointList&&(t.m_jointList=e.m_edgeA.next),e.m_edgeA.prev=null,e.m_edgeA.next=null,e.m_edgeB.prev&&(e.m_edgeB.prev.next=e.m_edgeB.next),e.m_edgeB.next&&(e.m_edgeB.next.prev=e.m_edgeB.prev),e.m_edgeB==n.m_jointList&&(n.m_jointList=e.m_edgeB.next),e.m_edgeB.prev=null,e.m_edgeB.next=null,--this.m_jointCount,!1==e.m_collideConnected)for(var i=n.getContactList();i;)i.other==t&&i.contact.flagForFiltering(),i=i.next;this.publish("remove-joint",e)}},e.prototype.step=function(e,t,n){if(this.publish("pre-step",e),(0|t)!==t&&(t=0),t=t||this.m_velocityIterations,n=n||this.m_positionIterations,this.m_newFixture&&(this.findNewContacts(),this.m_newFixture=!1),this.m_locked=!0,this.s_step.reset(e),this.s_step.velocityIterations=t,this.s_step.positionIterations=n,this.s_step.warmStarting=this.m_warmStarting,this.s_step.blockSolve=this.m_blockSolve,this.updateContacts(),this.m_stepComplete&&e>0){this.m_solver.solveWorld(this.s_step);for(var i=this.m_bodyList;i;i=i.getNext())!1!=i.m_islandFlag&&(i.isStatic()||i.synchronizeFixtures());this.findNewContacts()}this.m_continuousPhysics&&e>0&&this.m_solver.solveWorldTOI(this.s_step),this.m_clearForces&&this.clearForces(),this.m_locked=!1,this.publish("post-step",e)},e.prototype.findNewContacts=function(){this.m_broadPhase.updatePairs(this.createContact)},e.prototype.updateContacts=function(){for(var e,t=this.m_contactList;e=t;){t=e.getNext();var n=e.getFixtureA(),i=e.getFixtureB(),r=e.getChildIndexA(),o=e.getChildIndexB(),s=n.getBody(),a=i.getBody();if(e.m_filterFlag){if(!1==a.shouldCollide(s)||!1==i.shouldCollide(n)){this.destroyContact(e);continue}e.m_filterFlag=!1}var l=s.isAwake()&&!s.isStatic(),c=a.isAwake()&&!a.isStatic();if(!1!=l||!1!=c){var u=n.m_proxies[r].proxyId,m=i.m_proxies[o].proxyId;if(!1==this.m_broadPhase.testOverlap(u,m)){this.destroyContact(e);continue}e.update(this)}}},e.prototype.destroyContact=function(e){em.destroy(e,this),e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_contactList&&(this.m_contactList=e.m_next),--this.m_contactCount},e.prototype.on=function(e,t){return"string"!=typeof e||"function"!=typeof t||(this._listeners||(this._listeners={}),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},e.prototype.off=function(e,t){if("string"!=typeof e||"function"!=typeof t)return this;var n=this._listeners&&this._listeners[e];if(!n||!n.length)return this;var i=n.indexOf(t);return i>=0&&n.splice(i,1),this},e.prototype.publish=function(e,t,n,i){var r=this._listeners&&this._listeners[e];if(!r||!r.length)return 0;for(var o=0;o<r.length;o++)r[o].call(this,t,n,i);return r.length},e.prototype.beginContact=function(e){this.publish("begin-contact",e)},e.prototype.endContact=function(e){this.publish("end-contact",e)},e.prototype.preSolve=function(e,t){this.publish("pre-solve",e,t)},e.prototype.postSolve=function(e,t){this.publish("post-solve",e,t)},e}(),eB=function(){function e(t,n,i){if(!(this instanceof e))return new e(t,n,i);void 0===t?(this.x=0,this.y=0,this.z=0):"object"==typeof t?(this.x=t.x,this.y=t.y,this.z=t.z):(this.x=t,this.y=n,this.z=i)}return e.prototype._serialize=function(){return{x:this.x,y:this.y,z:this.z}},e._deserialize=function(t){var n=Object.create(e.prototype);return n.x=t.x,n.y=t.y,n.z=t.z,n},e.neo=function(t,n,i){var r=Object.create(e.prototype);return r.x=t,r.y=n,r.z=i,r},e.zero=function(){var t=Object.create(e.prototype);return t.x=0,t.y=0,t.z=0,t},e.clone=function(t){return e.neo(t.x,t.y,t.z)},e.prototype.toString=function(){return JSON.stringify(this)},e.isValid=function(e){return null!=e&&b.isFinite(e.x)&&b.isFinite(e.y)&&b.isFinite(e.z)},e.assert=function(e){},e.prototype.setZero=function(){return this.x=0,this.y=0,this.z=0,this},e.prototype.set=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},e.prototype.mul=function(e){return this.x*=e,this.y*=e,this.z*=e,this},e.areEqual=function(e,t){return e===t||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&e.x===t.x&&e.y===t.y&&e.z===t.z},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},e.cross=function(t,n){return new e(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z,t.x*n.y-t.y*n.x)},e.add=function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)},e.sub=function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z)},e.mul=function(t,n){return new e(n*t.x,n*t.y,n*t.z)},e.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},e.neg=function(t){return new e(-t.x,-t.y,-t.z)},e}(),eV=function(e){function t(n,i){var r=this;return r instanceof t?((r=e.call(this)||this).m_type=t.TYPE,r.m_radius=w.polygonRadius,r.m_vertex1=n?x.clone(n):x.zero(),r.m_vertex2=i?x.clone(i):x.zero(),r.m_vertex0=x.zero(),r.m_vertex3=x.zero(),r.m_hasVertex0=!1,r.m_hasVertex3=!1,r):new t(n,i)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,vertex1:this.m_vertex1,vertex2:this.m_vertex2,vertex0:this.m_vertex0,vertex3:this.m_vertex3,hasVertex0:this.m_hasVertex0,hasVertex3:this.m_hasVertex3}},t._deserialize=function(e){var n=new t(e.vertex1,e.vertex2);return n.m_hasVertex0&&n.setPrevVertex(e.vertex0),n.m_hasVertex3&&n.setNextVertex(e.vertex3),n},t.prototype.setNext=function(e){return this.setNextVertex(e)},t.prototype.setNextVertex=function(e){return e?(this.m_vertex3.setVec2(e),this.m_hasVertex3=!0):(this.m_vertex3.setZero(),this.m_hasVertex3=!1),this},t.prototype.getNextVertex=function(){return this.m_vertex3},t.prototype.setPrev=function(e){return this.setPrevVertex(e)},t.prototype.setPrevVertex=function(e){return e?(this.m_vertex0.setVec2(e),this.m_hasVertex0=!0):(this.m_vertex0.setZero(),this.m_hasVertex0=!1),this},t.prototype.getPrevVertex=function(){return this.m_vertex0},t.prototype._set=function(e,t){return this.m_vertex1.setVec2(e),this.m_vertex2.setVec2(t),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this},t.prototype._clone=function(){var e=new t;return e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_vertex1.setVec2(this.m_vertex1),e.m_vertex2.setVec2(this.m_vertex2),e.m_vertex0.setVec2(this.m_vertex0),e.m_vertex3.setVec2(this.m_vertex3),e.m_hasVertex0=this.m_hasVertex0,e.m_hasVertex3=this.m_hasVertex3,e},t.prototype.getChildCount=function(){return 1},t.prototype.testPoint=function(e,t){return!1},t.prototype.rayCast=function(e,t,n,i){var r=P.mulTVec2(n.q,x.sub(t.p1,n.p)),o=P.mulTVec2(n.q,x.sub(t.p2,n.p)),s=x.sub(o,r),a=this.m_vertex1,l=this.m_vertex2,c=x.sub(l,a),u=x.neo(c.y,-c.x);u.normalize();var m=x.dot(u,x.sub(a,r)),h=x.dot(u,s);if(0==h)return!1;var d=m/h;if(d<0||t.maxFraction<d)return!1;var p=x.add(r,x.mulNumVec2(d,s)),f=x.sub(l,a),_=x.dot(f,f);if(0==_)return!1;var y=x.dot(x.sub(p,a),f)/_;return!(y<0)&&!(1<y)&&(e.fraction=d,m>0?e.normal=P.mulVec2(n.q,u).neg():e.normal=P.mulVec2(n.q,u),!0)},t.prototype.computeAABB=function(e,t,n){var i=M.mulVec2(t,this.m_vertex1),r=M.mulVec2(t,this.m_vertex2);e.combinePoints(i,r),e.extend(this.m_radius)},t.prototype.computeMass=function(e,t){e.mass=0,e.center.setCombine(.5,this.m_vertex1,.5,this.m_vertex2),e.I=0},t.prototype.computeDistanceProxy=function(e){e.m_vertices.push(this.m_vertex1),e.m_vertices.push(this.m_vertex2),e.m_count=2,e.m_radius=this.m_radius},t.TYPE="edge",t}(T),eC=function(e){function t(n,i){var r=this;return r instanceof t?((r=e.call(this)||this).m_type=t.TYPE,r.m_radius=w.polygonRadius,r.m_vertices=[],r.m_count=0,r.m_prevVertex=null,r.m_nextVertex=null,r.m_hasPrevVertex=!1,r.m_hasNextVertex=!1,r.m_isLoop=!!i,n&&n.length&&(i?r._createLoop(n):r._createChain(n)),r):new t(n,i)}return _(t,e),t.prototype._serialize=function(){var e={type:this.m_type,vertices:this.m_vertices,isLoop:this.m_isLoop,hasPrevVertex:this.m_hasPrevVertex,hasNextVertex:this.m_hasNextVertex,prevVertex:null,nextVertex:null};return this.m_prevVertex&&(e.prevVertex=this.m_prevVertex),this.m_nextVertex&&(e.nextVertex=this.m_nextVertex),e},t._deserialize=function(e,n,i){var r=[];if(e.vertices)for(var o=0;o<e.vertices.length;o++)r.push(i(x,e.vertices[o]));var s=new t(r,e.isLoop);return e.prevVertex&&s.setPrevVertex(e.prevVertex),e.nextVertex&&s.setNextVertex(e.nextVertex),s},t.prototype._createLoop=function(e){for(var t=1;t<e.length;++t)e[t-1],e[t];this.m_vertices=[],this.m_count=e.length+1;for(var t=0;t<e.length;++t)this.m_vertices[t]=x.clone(e[t]);return this.m_vertices[e.length]=x.clone(e[0]),this.m_prevVertex=this.m_vertices[this.m_count-2],this.m_nextVertex=this.m_vertices[1],this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this},t.prototype._createChain=function(e){for(var t=1;t<e.length;++t)e[t-1],e[t];this.m_count=e.length;for(var t=0;t<e.length;++t)this.m_vertices[t]=x.clone(e[t]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex=null,this.m_nextVertex=null,this},t.prototype._reset=function(){this.m_isLoop?this._createLoop(this.m_vertices):this._createChain(this.m_vertices)},t.prototype.setPrevVertex=function(e){this.m_prevVertex=e,this.m_hasPrevVertex=!0},t.prototype.getPrevVertex=function(){return this.m_prevVertex},t.prototype.setNextVertex=function(e){this.m_nextVertex=e,this.m_hasNextVertex=!0},t.prototype.getNextVertex=function(){return this.m_nextVertex},t.prototype._clone=function(){var e=new t;return e._createChain(this.m_vertices),e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_prevVertex=this.m_prevVertex,e.m_nextVertex=this.m_nextVertex,e.m_hasPrevVertex=this.m_hasPrevVertex,e.m_hasNextVertex=this.m_hasNextVertex,e},t.prototype.getChildCount=function(){return this.m_count-1},t.prototype.getChildEdge=function(e,t){e.m_type=eV.TYPE,e.m_radius=this.m_radius,e.m_vertex1=this.m_vertices[t],e.m_vertex2=this.m_vertices[t+1],t>0?(e.m_vertex0=this.m_vertices[t-1],e.m_hasVertex0=!0):(e.m_vertex0=this.m_prevVertex,e.m_hasVertex0=this.m_hasPrevVertex),t<this.m_count-2?(e.m_vertex3=this.m_vertices[t+2],e.m_hasVertex3=!0):(e.m_vertex3=this.m_nextVertex,e.m_hasVertex3=this.m_hasNextVertex)},t.prototype.getVertex=function(e){return e<this.m_count?this.m_vertices[e]:this.m_vertices[0]},t.prototype.isLoop=function(){return this.m_isLoop},t.prototype.testPoint=function(e,t){return!1},t.prototype.rayCast=function(e,t,n,i){return new eV(this.getVertex(i),this.getVertex(i+1)).rayCast(e,t,n,0)},t.prototype.computeAABB=function(e,t,n){var i=M.mulVec2(t,this.getVertex(n)),r=M.mulVec2(t,this.getVertex(n+1));e.combinePoints(i,r)},t.prototype.computeMass=function(e,t){e.mass=0,e.center=x.zero(),e.I=0},t.prototype.computeDistanceProxy=function(e,t){e.m_buffer[0]=this.getVertex(t),e.m_buffer[1]=this.getVertex(t+1),e.m_vertices=e.m_buffer,e.m_count=2,e.m_radius=this.m_radius},t.TYPE="chain",t}(T),eS=function(e){function t(n){var i=this;return i instanceof t?((i=e.call(this)||this).m_type=t.TYPE,i.m_radius=w.polygonRadius,i.m_centroid=x.zero(),i.m_vertices=[],i.m_normals=[],i.m_count=0,n&&n.length&&i._set(n),i):new t(n)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,vertices:this.m_vertices}},t._deserialize=function(e,n,i){var r=[];if(e.vertices)for(var o=0;o<e.vertices.length;o++)r.push(i(x,e.vertices[o]));return new t(r)},t.prototype.getVertex=function(e){return this.m_vertices[e]},t.prototype._clone=function(){var e=new t;e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_count=this.m_count,e.m_centroid.setVec2(this.m_centroid);for(var n=0;n<this.m_count;n++)e.m_vertices.push(this.m_vertices[n].clone());for(var n=0;n<this.m_normals.length;n++)e.m_normals.push(this.m_normals[n].clone());return e},t.prototype.getChildCount=function(){return 1},t.prototype._reset=function(){this._set(this.m_vertices)},t.prototype._set=function(e){if(e.length<3){this._setAsBox(1,1);return}for(var t=b.min(e.length,w.maxPolygonVertices),n=[],i=0;i<t;++i){for(var r=e[i],o=!0,s=0;s<n.length;++s)if(x.distanceSquared(r,n[s])<.25*w.linearSlopSquared){o=!1;break}o&&n.push(r)}if((t=n.length)<3){this._setAsBox(1,1);return}for(var a=0,l=n[0].x,i=1;i<t;++i){var c=n[i].x;(c>l||c===l&&n[i].y<n[a].y)&&(a=i,l=c)}for(var u=[],m=0,h=a;;){u[m]=h;for(var d=0,s=1;s<t;++s){if(d===h){d=s;continue}var p=x.sub(n[d],n[u[m]]),r=x.sub(n[s],n[u[m]]),f=x.crossVec2Vec2(p,r);f<0&&(d=s),0===f&&r.lengthSquared()>p.lengthSquared()&&(d=s)}if(++m,h=d,d===a)break}if(m<3){this._setAsBox(1,1);return}this.m_count=m,this.m_vertices=[];for(var i=0;i<m;++i)this.m_vertices[i]=n[u[i]];for(var i=0;i<m;++i){var _=i,y=i+1<m?i+1:0,v=x.sub(this.m_vertices[y],this.m_vertices[_]);this.m_normals[i]=x.crossVec2Num(v,1),this.m_normals[i].normalize()}this.m_centroid=function(e,t){for(var n,i=x.zero(),r=0,o=x.zero(),s=1/3,n=0;n<t;++n){var a=e[n],l=n+1<t?e[n+1]:e[0],c=x.sub(a,o),u=x.sub(l,o),m=.5*x.crossVec2Vec2(c,u);r+=m,i.addMul(m*s,o),i.addMul(m*s,a),i.addMul(m*s,l)}return i.mul(1/r),i}(this.m_vertices,m)},t.prototype._setAsBox=function(e,t,n,i){if(this.m_vertices[0]=x.neo(e,-t),this.m_vertices[1]=x.neo(e,t),this.m_vertices[2]=x.neo(-e,t),this.m_vertices[3]=x.neo(-e,-t),this.m_normals[0]=x.neo(1,0),this.m_normals[1]=x.neo(0,1),this.m_normals[2]=x.neo(-1,0),this.m_normals[3]=x.neo(0,-1),this.m_count=4,x.isValid(n)){i=i||0,this.m_centroid.setVec2(n);var r=M.identity();r.p.setVec2(n),r.q.setAngle(i);for(var o=0;o<this.m_count;++o)this.m_vertices[o]=M.mulVec2(r,this.m_vertices[o]),this.m_normals[o]=P.mulVec2(r.q,this.m_normals[o])}},t.prototype.testPoint=function(e,t){for(var n=P.mulTVec2(e.q,x.sub(t,e.p)),i=0;i<this.m_count;++i)if(x.dot(this.m_normals[i],x.sub(n,this.m_vertices[i]))>0)return!1;return!0},t.prototype.rayCast=function(e,t,n,i){for(var r=P.mulTVec2(n.q,x.sub(t.p1,n.p)),o=P.mulTVec2(n.q,x.sub(t.p2,n.p)),s=x.sub(o,r),a=0,l=t.maxFraction,c=-1,u=0;u<this.m_count;++u){var m=x.dot(this.m_normals[u],x.sub(this.m_vertices[u],r)),h=x.dot(this.m_normals[u],s);if(0==h){if(m<0)return!1}else h<0&&m<a*h?(a=m/h,c=u):h>0&&m<l*h&&(l=m/h);if(l<a)return!1}return c>=0&&(e.fraction=a,e.normal=P.mulVec2(n.q,this.m_normals[c]),!0)},t.prototype.computeAABB=function(e,t,n){for(var i=1/0,r=1/0,o=-1/0,s=-1/0,a=0;a<this.m_count;++a){var l=M.mulVec2(t,this.m_vertices[a]);i=b.min(i,l.x),o=b.max(o,l.x),r=b.min(r,l.y),s=b.max(s,l.y)}e.lowerBound.setNum(i,r),e.upperBound.setNum(o,s),e.extend(this.m_radius)},t.prototype.computeMass=function(e,t){for(var n=x.zero(),i=0,r=0,o=x.zero(),s=0;s<this.m_count;++s)o.add(this.m_vertices[s]);o.mul(1/this.m_count);for(var a=1/3,s=0;s<this.m_count;++s){var l=x.sub(this.m_vertices[s],o),c=s+1<this.m_count?x.sub(this.m_vertices[s+1],o):x.sub(this.m_vertices[0],o),u=x.crossVec2Vec2(l,c),m=.5*u;i+=m,n.addCombine(m*a,l,m*a,c);var h=l.x,d=l.y,p=c.x,f=c.y;r+=.25*a*u*(h*h+p*h+p*p+(d*d+f*d+f*f))}e.mass=t*i,n.mul(1/i),e.center.setCombine(1,n,1,o),e.I=t*r,e.I+=e.mass*(x.dot(e.center,e.center)-x.dot(n,n))},t.prototype.validate=function(){for(var e=0;e<this.m_count;++e)for(var t=e,n=e<this.m_count-1?t+1:0,i=this.m_vertices[t],r=x.sub(this.m_vertices[n],i),o=0;o<this.m_count;++o)if(o!=t&&o!=n){var s=x.sub(this.m_vertices[o],i);if(0>x.crossVec2Vec2(r,s))return!1}return!0},t.prototype.computeDistanceProxy=function(e){e.m_vertices=this.m_vertices,e.m_count=this.m_count,e.m_radius=this.m_radius},t.TYPE="polygon",t}(T),ek=function(e){function t(n,i,r,o){var s=this;return s instanceof t?((s=e.call(this)||this)._setAsBox(n,i,r,o),s):new t(n,i,r,o)}return _(t,e),t.TYPE="polygon",t}(eS),eP=function(e){function t(n,i){var r=this;return r instanceof t?((r=e.call(this)||this).m_type=t.TYPE,r.m_p=x.zero(),r.m_radius=1,"object"==typeof n&&x.isValid(n)?(r.m_p.setVec2(n),"number"==typeof i&&(r.m_radius=i)):"number"==typeof n&&(r.m_radius=n),r):new t(n,i)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,p:this.m_p,radius:this.m_radius}},t._deserialize=function(e){return new t(e.p,e.radius)},t.prototype.getRadius=function(){return this.m_radius},t.prototype.getCenter=function(){return this.m_p},t.prototype.getVertex=function(e){return this.m_p},t.prototype._clone=function(){var e=new t;return e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_p=this.m_p.clone(),e},t.prototype.getChildCount=function(){return 1},t.prototype.testPoint=function(e,t){var n=x.add(e.p,P.mulVec2(e.q,this.m_p)),i=x.sub(t,n);return x.dot(i,i)<=this.m_radius*this.m_radius},t.prototype.rayCast=function(e,t,n,i){var r=x.add(n.p,P.mulVec2(n.q,this.m_p)),o=x.sub(t.p1,r),s=x.dot(o,o)-this.m_radius*this.m_radius,a=x.sub(t.p2,t.p1),l=x.dot(o,a),c=x.dot(a,a),u=l*l-c*s;if(u<0||c<b.EPSILON)return!1;var m=-(l+b.sqrt(u));return 0<=m&&m<=t.maxFraction*c&&(m/=c,e.fraction=m,e.normal=x.add(o,x.mulNumVec2(m,a)),e.normal.normalize(),!0)},t.prototype.computeAABB=function(e,t,n){var i=x.add(t.p,P.mulVec2(t.q,this.m_p));e.lowerBound.setNum(i.x-this.m_radius,i.y-this.m_radius),e.upperBound.setNum(i.x+this.m_radius,i.y+this.m_radius)},t.prototype.computeMass=function(e,t){e.mass=t*b.PI*this.m_radius*this.m_radius,e.center=this.m_p,e.I=e.mass*(.5*this.m_radius*this.m_radius+x.dot(this.m_p,this.m_p))},t.prototype.computeDistanceProxy=function(e){e.m_vertices.push(this.m_p),e.m_count=1,e.m_radius=this.m_radius},t.TYPE="circle",t}(T),eM={frequencyHz:0,dampingRatio:0},ez=function(e){function t(n,i,r,o,s){var a=this;if(!(a instanceof t))return new t(n,i,r,o,s);if(r&&o&&"m_type"in o&&"x"in r&&"y"in r){var l=r;r=o,o=l}return n=v(n,eM),i=(a=e.call(this,n,i,r)||this).m_bodyA,r=a.m_bodyB,a.m_type=t.TYPE,a.m_localAnchorA=x.clone(o?i.getLocalPoint(o):n.localAnchorA||x.zero()),a.m_localAnchorB=x.clone(s?r.getLocalPoint(s):n.localAnchorB||x.zero()),a.m_length=b.isFinite(n.length)?n.length:x.distance(i.getWorldPoint(a.m_localAnchorA),r.getWorldPoint(a.m_localAnchorB)),a.m_frequencyHz=n.frequencyHz,a.m_dampingRatio=n.dampingRatio,a.m_impulse=0,a.m_gamma=0,a.m_bias=0,a}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,length:this.m_length,impulse:this.m_impulse,gamma:this.m_gamma,bias:this.m_bias}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.setVec2(e.localAnchorA),e.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.setVec2(e.localAnchorB),e.length>0?this.m_length=+e.length:e.length<0||(e.anchorA||e.anchorA||e.anchorA||e.anchorA)&&(this.m_length=x.distance(this.m_bodyA.getWorldPoint(this.m_localAnchorA),this.m_bodyB.getWorldPoint(this.m_localAnchorB)))},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.setLength=function(e){this.m_length=e},t.prototype.getLength=function(){return this.m_length},t.prototype.setFrequency=function(e){this.m_frequencyHz=e},t.prototype.getFrequency=function(){return this.m_frequencyHz},t.prototype.setDampingRatio=function(e){this.m_dampingRatio=e},t.prototype.getDampingRatio=function(){return this.m_dampingRatio},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.mulNumVec2(this.m_impulse,this.m_u).mul(e)},t.prototype.getReactionTorque=function(e){return 0},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyA.c_velocity.v,r=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_position.c,s=this.m_bodyB.c_position.a,a=this.m_bodyB.c_velocity.v,l=this.m_bodyB.c_velocity.w,c=P.neo(n),u=P.neo(s);this.m_rA=P.mulVec2(c,x.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=P.mulVec2(u,x.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_u=x.sub(x.add(o,this.m_rB),x.add(t,this.m_rA));var m=this.m_u.length();m>w.linearSlop?this.m_u.mul(1/m):this.m_u.setNum(0,0);var h=x.crossVec2Vec2(this.m_rA,this.m_u),d=x.crossVec2Vec2(this.m_rB,this.m_u),p=this.m_invMassA+this.m_invIA*h*h+this.m_invMassB+this.m_invIB*d*d;if(this.m_mass=0!=p?1/p:0,this.m_frequencyHz>0){var f=m-this.m_length,_=2*b.PI*this.m_frequencyHz,y=2*this.m_mass*this.m_dampingRatio*_,v=this.m_mass*_*_,g=e.dt;this.m_gamma=g*(y+g*v),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_bias=f*g*v*this.m_gamma,p+=this.m_gamma,this.m_mass=0!=p?1/p:0}else this.m_gamma=0,this.m_bias=0;if(e.warmStarting){this.m_impulse*=e.dtRatio;var A=x.mulNumVec2(this.m_impulse,this.m_u);i.subMul(this.m_invMassA,A),r-=this.m_invIA*x.crossVec2Vec2(this.m_rA,A),a.addMul(this.m_invMassB,A),l+=this.m_invIB*x.crossVec2Vec2(this.m_rB,A)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.setVec2(i),this.m_bodyA.c_velocity.w=r,this.m_bodyB.c_velocity.v.setVec2(a),this.m_bodyB.c_velocity.w=l},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=x.add(t,x.crossNumVec2(n,this.m_rA)),s=x.add(i,x.crossNumVec2(r,this.m_rB)),a=x.dot(this.m_u,s)-x.dot(this.m_u,o),l=-this.m_mass*(a+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=l;var c=x.mulNumVec2(l,this.m_u);t.subMul(this.m_invMassA,c),n-=this.m_invIA*x.crossVec2Vec2(this.m_rA,c),i.addMul(this.m_invMassB,c),r+=this.m_invIB*x.crossVec2Vec2(this.m_rB,c),this.m_bodyA.c_velocity.v.setVec2(t),this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v.setVec2(i),this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){if(this.m_frequencyHz>0)return!0;var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyB.c_position.c,r=this.m_bodyB.c_position.a,o=P.neo(n),s=P.neo(r),a=P.mulSub(o,this.m_localAnchorA,this.m_localCenterA),l=P.mulSub(s,this.m_localAnchorB,this.m_localCenterB),c=x.sub(x.add(i,l),x.add(t,a)),u=c.normalize()-this.m_length;u=b.clamp(u,-w.maxLinearCorrection,w.maxLinearCorrection);var m=-this.m_mass*u,h=x.mulNumVec2(m,c);return t.subMul(this.m_invMassA,h),n-=this.m_invIA*x.crossVec2Vec2(a,h),i.addMul(this.m_invMassB,h),r+=this.m_invIB*x.crossVec2Vec2(l,h),this.m_bodyA.c_position.c.setVec2(t),this.m_bodyA.c_position.a=n,this.m_bodyB.c_position.c.setVec2(i),this.m_bodyB.c_position.a=r,b.abs(u)<w.linearSlop},t.TYPE="distance-joint",t}(ed),eI={maxForce:0,maxTorque:0},eN=function(e){function t(n,i,r,o){var s=this;return s instanceof t?(n=v(n,eI),i=(s=e.call(this,n,i,r)||this).m_bodyA,r=s.m_bodyB,s.m_type=t.TYPE,s.m_localAnchorA=x.clone(o?i.getLocalPoint(o):n.localAnchorA||x.zero()),s.m_localAnchorB=x.clone(o?r.getLocalPoint(o):n.localAnchorB||x.zero()),s.m_linearImpulse=x.zero(),s.m_angularImpulse=0,s.m_maxForce=n.maxForce,s.m_maxTorque=n.maxTorque,s):new t(n,i,r,o)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.setVec2(e.localAnchorA),e.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.setVec2(e.localAnchorB)},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.setMaxForce=function(e){this.m_maxForce=e},t.prototype.getMaxForce=function(){return this.m_maxForce},t.prototype.setMaxTorque=function(e){this.m_maxTorque=e},t.prototype.getMaxTorque=function(){return this.m_maxTorque},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.mulNumVec2(e,this.m_linearImpulse)},t.prototype.getReactionTorque=function(e){return e*this.m_angularImpulse},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.a,n=this.m_bodyA.c_velocity.v,i=this.m_bodyA.c_velocity.w,r=this.m_bodyB.c_position.a,o=this.m_bodyB.c_velocity.v,s=this.m_bodyB.c_velocity.w,a=P.neo(t),l=P.neo(r);this.m_rA=P.mulVec2(a,x.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=P.mulVec2(l,x.sub(this.m_localAnchorB,this.m_localCenterB));var c=this.m_invMassA,u=this.m_invMassB,m=this.m_invIA,h=this.m_invIB,d=new W;if(d.ex.x=c+u+m*this.m_rA.y*this.m_rA.y+h*this.m_rB.y*this.m_rB.y,d.ex.y=-m*this.m_rA.x*this.m_rA.y-h*this.m_rB.x*this.m_rB.y,d.ey.x=d.ex.y,d.ey.y=c+u+m*this.m_rA.x*this.m_rA.x+h*this.m_rB.x*this.m_rB.x,this.m_linearMass=d.getInverse(),this.m_angularMass=m+h,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),e.warmStarting){this.m_linearImpulse.mul(e.dtRatio),this.m_angularImpulse*=e.dtRatio;var p=x.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);n.subMul(c,p),i-=m*(x.crossVec2Vec2(this.m_rA,p)+this.m_angularImpulse),o.addMul(u,p),s+=h*(x.crossVec2Vec2(this.m_rB,p)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=n,this.m_bodyA.c_velocity.w=i,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=s},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=this.m_invMassA,s=this.m_invMassB,a=this.m_invIA,l=this.m_invIB,c=e.dt,u=r-n,m=-this.m_angularMass*u,h=this.m_angularImpulse,d=c*this.m_maxTorque;this.m_angularImpulse=b.clamp(this.m_angularImpulse+m,-d,d),n-=a*(m=this.m_angularImpulse-h),r+=l*m;var u=x.sub(x.add(i,x.crossNumVec2(r,this.m_rB)),x.add(t,x.crossNumVec2(n,this.m_rA))),m=x.neg(W.mulVec2(this.m_linearMass,u)),h=this.m_linearImpulse;this.m_linearImpulse.add(m);var d=c*this.m_maxForce;this.m_linearImpulse.lengthSquared()>d*d&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.mul(d)),m=x.sub(this.m_linearImpulse,h),t.subMul(o,m),n-=a*x.crossVec2Vec2(this.m_rA,m),i.addMul(s,m),r+=l*x.crossVec2Vec2(this.m_rB,m),this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){return!0},t.TYPE="friction-joint",t}(ed),eT=function(){function e(e,t,n){"object"==typeof e&&null!==e?(this.ex=eB.clone(e),this.ey=eB.clone(t),this.ez=eB.clone(n)):(this.ex=eB.zero(),this.ey=eB.zero(),this.ez=eB.zero())}return e.prototype.toString=function(){return JSON.stringify(this)},e.isValid=function(e){return null!=e&&eB.isValid(e.ex)&&eB.isValid(e.ey)&&eB.isValid(e.ez)},e.assert=function(e){},e.prototype.setZero=function(){return this.ex.setZero(),this.ey.setZero(),this.ez.setZero(),this},e.prototype.solve33=function(e){var t=eB.dot(this.ex,eB.cross(this.ey,this.ez));0!==t&&(t=1/t);var n=new eB;return n.x=t*eB.dot(e,eB.cross(this.ey,this.ez)),n.y=t*eB.dot(this.ex,eB.cross(e,this.ez)),n.z=t*eB.dot(this.ex,eB.cross(this.ey,e)),n},e.prototype.solve22=function(e){var t=this.ex.x,n=this.ey.x,i=this.ex.y,r=this.ey.y,o=t*r-n*i;0!==o&&(o=1/o);var s=x.zero();return s.x=o*(r*e.x-n*e.y),s.y=o*(t*e.y-i*e.x),s},e.prototype.getInverse22=function(e){var t=this.ex.x,n=this.ey.x,i=this.ex.y,r=this.ey.y,o=t*r-n*i;0!==o&&(o=1/o),e.ex.x=o*r,e.ey.x=-o*n,e.ex.z=0,e.ex.y=-o*i,e.ey.y=o*t,e.ey.z=0,e.ez.x=0,e.ez.y=0,e.ez.z=0},e.prototype.getSymInverse33=function(e){var t=eB.dot(this.ex,eB.cross(this.ey,this.ez));0!==t&&(t=1/t);var n=this.ex.x,i=this.ey.x,r=this.ez.x,o=this.ey.y,s=this.ez.y,a=this.ez.z;e.ex.x=t*(o*a-s*s),e.ex.y=t*(r*s-i*a),e.ex.z=t*(i*s-r*o),e.ey.x=e.ex.y,e.ey.y=t*(n*a-r*r),e.ey.z=t*(r*i-n*s),e.ez.x=e.ex.z,e.ez.y=e.ey.z,e.ez.z=t*(n*o-i*i)},e.mul=function(e,t){if(t&&"z"in t&&"y"in t&&"x"in t){var n=e.ex.x*t.x+e.ey.x*t.y+e.ez.x*t.z,i=e.ex.y*t.x+e.ey.y*t.y+e.ez.y*t.z,r=e.ex.z*t.x+e.ey.z*t.y+e.ez.z*t.z;return new eB(n,i,r)}if(t&&"y"in t&&"x"in t){var n=e.ex.x*t.x+e.ey.x*t.y,i=e.ex.y*t.x+e.ey.y*t.y;return x.neo(n,i)}},e.mulVec3=function(e,t){var n=e.ex.x*t.x+e.ey.x*t.y+e.ez.x*t.z,i=e.ex.y*t.x+e.ey.y*t.y+e.ez.y*t.z,r=e.ex.z*t.x+e.ey.z*t.y+e.ez.z*t.z;return new eB(n,i,r)},e.mulVec2=function(e,t){var n=e.ex.x*t.x+e.ey.x*t.y,i=e.ex.y*t.x+e.ey.y*t.y;return x.neo(n,i)},e.add=function(t,n){return new e(eB.add(t.ex,n.ex),eB.add(t.ey,n.ey),eB.add(t.ez,n.ez))},e}(),eL={lowerAngle:0,upperAngle:0,maxMotorTorque:0,motorSpeed:0,enableLimit:!1,enableMotor:!1},eE=function(e){function t(n,i,r,o){var s=this;return s instanceof t?(n=v(n,eL),(s=e.call(this,n,i,r)||this).m_mass=new eT,s.m_limitState=0,i=s.m_bodyA,r=s.m_bodyB,s.m_type=t.TYPE,s.m_localAnchorA=x.clone(o?i.getLocalPoint(o):n.localAnchorA||x.zero()),s.m_localAnchorB=x.clone(o?r.getLocalPoint(o):n.localAnchorB||x.zero()),s.m_referenceAngle=b.isFinite(n.referenceAngle)?n.referenceAngle:r.getAngle()-i.getAngle(),s.m_impulse=new eB,s.m_motorImpulse=0,s.m_lowerAngle=n.lowerAngle,s.m_upperAngle=n.upperAngle,s.m_maxMotorTorque=n.maxMotorTorque,s.m_motorSpeed=n.motorSpeed,s.m_enableLimit=n.enableLimit,s.m_enableMotor=n.enableMotor,s):new t(n,i,r,o)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerAngle:this.m_lowerAngle,upperAngle:this.m_upperAngle,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.setVec2(e.localAnchorA),e.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.setVec2(e.localAnchorB)},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.getReferenceAngle=function(){return this.m_referenceAngle},t.prototype.getJointAngle=function(){var e=this.m_bodyA;return this.m_bodyB.m_sweep.a-e.m_sweep.a-this.m_referenceAngle},t.prototype.getJointSpeed=function(){var e=this.m_bodyA;return this.m_bodyB.m_angularVelocity-e.m_angularVelocity},t.prototype.isMotorEnabled=function(){return this.m_enableMotor},t.prototype.enableMotor=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e},t.prototype.getMotorTorque=function(e){return e*this.m_motorImpulse},t.prototype.setMotorSpeed=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e},t.prototype.getMotorSpeed=function(){return this.m_motorSpeed},t.prototype.setMaxMotorTorque=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=e},t.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque},t.prototype.isLimitEnabled=function(){return this.m_enableLimit},t.prototype.enableLimit=function(e){e!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=e,this.m_impulse.z=0)},t.prototype.getLowerLimit=function(){return this.m_lowerAngle},t.prototype.getUpperLimit=function(){return this.m_upperAngle},t.prototype.setLimits=function(e,t){(e!=this.m_lowerAngle||t!=this.m_upperAngle)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=e,this.m_upperAngle=t)},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.neo(this.m_impulse.x,this.m_impulse.y).mul(e)},t.prototype.getReactionTorque=function(e){return e*this.m_impulse.z},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.a,n=this.m_bodyA.c_velocity.v,i=this.m_bodyA.c_velocity.w,r=this.m_bodyB.c_position.a,o=this.m_bodyB.c_velocity.v,s=this.m_bodyB.c_velocity.w,a=P.neo(t),l=P.neo(r);this.m_rA=P.mulVec2(a,x.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=P.mulVec2(l,x.sub(this.m_localAnchorB,this.m_localCenterB));var c=this.m_invMassA,u=this.m_invMassB,m=this.m_invIA,h=this.m_invIB,d=m+h===0;if(this.m_mass.ex.x=c+u+this.m_rA.y*this.m_rA.y*m+this.m_rB.y*this.m_rB.y*h,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*m-this.m_rB.y*this.m_rB.x*h,this.m_mass.ez.x=-this.m_rA.y*m-this.m_rB.y*h,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=c+u+this.m_rA.x*this.m_rA.x*m+this.m_rB.x*this.m_rB.x*h,this.m_mass.ez.y=this.m_rA.x*m+this.m_rB.x*h,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=m+h,this.m_motorMass=m+h,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),(!1==this.m_enableMotor||d)&&(this.m_motorImpulse=0),this.m_enableLimit&&!1==d){var p=r-t-this.m_referenceAngle;b.abs(this.m_upperAngle-this.m_lowerAngle)<2*w.angularSlop?this.m_limitState=3:p<=this.m_lowerAngle?(1!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=1):p>=this.m_upperAngle?(2!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=2):(this.m_limitState=0,this.m_impulse.z=0)}else this.m_limitState=0;if(e.warmStarting){this.m_impulse.mul(e.dtRatio),this.m_motorImpulse*=e.dtRatio;var f=x.neo(this.m_impulse.x,this.m_impulse.y);n.subMul(c,f),i-=m*(x.crossVec2Vec2(this.m_rA,f)+this.m_motorImpulse+this.m_impulse.z),o.addMul(u,f),s+=h*(x.crossVec2Vec2(this.m_rB,f)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v=n,this.m_bodyA.c_velocity.w=i,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=s},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=this.m_invMassA,s=this.m_invMassB,a=this.m_invIA,l=this.m_invIB,c=a+l===0;if(this.m_enableMotor&&3!=this.m_limitState&&!1==c){var u=r-n-this.m_motorSpeed,m=-this.m_motorMass*u,h=this.m_motorImpulse,d=e.dt*this.m_maxMotorTorque;this.m_motorImpulse=b.clamp(this.m_motorImpulse+m,-d,d),n-=a*(m=this.m_motorImpulse-h),r+=l*m}if(this.m_enableLimit&&0!=this.m_limitState&&!1==c){var p=x.zero();p.addCombine(1,i,1,x.crossNumVec2(r,this.m_rB)),p.subCombine(1,t,1,x.crossNumVec2(n,this.m_rA));var f=r-n,u=new eB(p.x,p.y,f),m=eB.neg(this.m_mass.solve33(u));if(3==this.m_limitState)this.m_impulse.add(m);else if(1==this.m_limitState){var _=this.m_impulse.z+m.z;if(_<0){var y=x.combine(-1,p,this.m_impulse.z,x.neo(this.m_mass.ez.x,this.m_mass.ez.y)),v=this.m_mass.solve22(y);m.x=v.x,m.y=v.y,m.z=-this.m_impulse.z,this.m_impulse.x+=v.x,this.m_impulse.y+=v.y,this.m_impulse.z=0}else this.m_impulse.add(m)}else if(2==this.m_limitState){var _=this.m_impulse.z+m.z;if(_>0){var y=x.combine(-1,p,this.m_impulse.z,x.neo(this.m_mass.ez.x,this.m_mass.ez.y)),v=this.m_mass.solve22(y);m.x=v.x,m.y=v.y,m.z=-this.m_impulse.z,this.m_impulse.x+=v.x,this.m_impulse.y+=v.y,this.m_impulse.z=0}else this.m_impulse.add(m)}var g=x.neo(m.x,m.y);t.subMul(o,g),n-=a*(x.crossVec2Vec2(this.m_rA,g)+m.z),i.addMul(s,g),r+=l*(x.crossVec2Vec2(this.m_rB,g)+m.z)}else{var u=x.zero();u.addCombine(1,i,1,x.crossNumVec2(r,this.m_rB)),u.subCombine(1,t,1,x.crossNumVec2(n,this.m_rA));var m=this.m_mass.solve22(x.neg(u));this.m_impulse.x+=m.x,this.m_impulse.y+=m.y,t.subMul(o,m),n-=a*x.crossVec2Vec2(this.m_rA,m),i.addMul(s,m),r+=l*x.crossVec2Vec2(this.m_rB,m)}this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyB.c_position.c,r=this.m_bodyB.c_position.a,o=P.neo(n),s=P.neo(r),a=0,l=0,c=this.m_invIA+this.m_invIB==0;if(this.m_enableLimit&&0!=this.m_limitState&&!1==c){var u=r-n-this.m_referenceAngle,m=0;if(3==this.m_limitState){var h=b.clamp(u-this.m_lowerAngle,-w.maxAngularCorrection,w.maxAngularCorrection);m=-this.m_motorMass*h,a=b.abs(h)}else if(1==this.m_limitState){var h=u-this.m_lowerAngle;a=-h,h=b.clamp(h+w.angularSlop,-w.maxAngularCorrection,0),m=-this.m_motorMass*h}else if(2==this.m_limitState){var h=u-this.m_upperAngle;a=h,h=b.clamp(h-w.angularSlop,0,w.maxAngularCorrection),m=-this.m_motorMass*h}n-=this.m_invIA*m,r+=this.m_invIB*m}o.setAngle(n),s.setAngle(r);var d=P.mulVec2(o,x.sub(this.m_localAnchorA,this.m_localCenterA)),p=P.mulVec2(s,x.sub(this.m_localAnchorB,this.m_localCenterB)),h=x.zero();h.addCombine(1,i,1,p),h.subCombine(1,t,1,d),l=h.length();var f=this.m_invMassA,_=this.m_invMassB,y=this.m_invIA,v=this.m_invIB,g=new W;g.ex.x=f+_+y*d.y*d.y+v*p.y*p.y,g.ex.y=-y*d.x*d.y-v*p.x*p.y,g.ey.x=g.ex.y,g.ey.y=f+_+y*d.x*d.x+v*p.x*p.x;var A=x.neg(g.solve(h));return t.subMul(f,A),n-=y*x.crossVec2Vec2(d,A),i.addMul(_,A),r+=v*x.crossVec2Vec2(p,A),this.m_bodyA.c_position.c.setVec2(t),this.m_bodyA.c_position.a=n,this.m_bodyB.c_position.c.setVec2(i),this.m_bodyB.c_position.a=r,l<=w.linearSlop&&a<=w.angularSlop},t.TYPE="revolute-joint",t}(ed),eF={enableLimit:!1,lowerTranslation:0,upperTranslation:0,enableMotor:!1,maxMotorForce:0,motorSpeed:0},ej=function(e){function t(n,i,r,o,s){var a=this;return a instanceof t?(n=v(n,eF),i=(a=e.call(this,n,i,r)||this).m_bodyA,r=a.m_bodyB,a.m_type=t.TYPE,a.m_localAnchorA=x.clone(o?i.getLocalPoint(o):n.localAnchorA||x.zero()),a.m_localAnchorB=x.clone(o?r.getLocalPoint(o):n.localAnchorB||x.zero()),a.m_localXAxisA=x.clone(s?i.getLocalVector(s):n.localAxisA||x.neo(1,0)),a.m_localXAxisA.normalize(),a.m_localYAxisA=x.crossNumVec2(1,a.m_localXAxisA),a.m_referenceAngle=b.isFinite(n.referenceAngle)?n.referenceAngle:r.getAngle()-i.getAngle(),a.m_impulse=new eB,a.m_motorMass=0,a.m_motorImpulse=0,a.m_lowerTranslation=n.lowerTranslation,a.m_upperTranslation=n.upperTranslation,a.m_maxMotorForce=n.maxMotorForce,a.m_motorSpeed=n.motorSpeed,a.m_enableLimit=n.enableLimit,a.m_enableMotor=n.enableMotor,a.m_limitState=0,a.m_axis=x.zero(),a.m_perp=x.zero(),a.m_K=new eT,a):new t(n,i,r,o,s)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerTranslation:this.m_lowerTranslation,upperTranslation:this.m_upperTranslation,maxMotorForce:this.m_maxMotorForce,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA,referenceAngle:this.m_referenceAngle}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),e.localAxisA=x.clone(e.localAxisA),new t(e)},t.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.setVec2(e.localAnchorA),e.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.setVec2(e.localAnchorB),e.localAxisA&&(this.m_localXAxisA.setVec2(e.localAxisA),this.m_localYAxisA.setVec2(x.crossNumVec2(1,e.localAxisA)))},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.getLocalAxisA=function(){return this.m_localXAxisA},t.prototype.getReferenceAngle=function(){return this.m_referenceAngle},t.prototype.getJointTranslation=function(){var e=this.m_bodyA.getWorldPoint(this.m_localAnchorA),t=this.m_bodyB.getWorldPoint(this.m_localAnchorB),n=x.sub(t,e),i=this.m_bodyA.getWorldVector(this.m_localXAxisA);return x.dot(n,i)},t.prototype.getJointSpeed=function(){var e=this.m_bodyA,t=this.m_bodyB,n=P.mulVec2(e.m_xf.q,x.sub(this.m_localAnchorA,e.m_sweep.localCenter)),i=P.mulVec2(t.m_xf.q,x.sub(this.m_localAnchorB,t.m_sweep.localCenter)),r=x.add(e.m_sweep.c,n),o=x.add(t.m_sweep.c,i),s=x.sub(o,r),a=P.mulVec2(e.m_xf.q,this.m_localXAxisA),l=e.m_linearVelocity,c=t.m_linearVelocity,u=e.m_angularVelocity,m=t.m_angularVelocity;return x.dot(s,x.crossNumVec2(u,a))+x.dot(a,x.sub(x.addCrossNumVec2(c,m,i),x.addCrossNumVec2(l,u,n)))},t.prototype.isLimitEnabled=function(){return this.m_enableLimit},t.prototype.enableLimit=function(e){e!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=e,this.m_impulse.z=0)},t.prototype.getLowerLimit=function(){return this.m_lowerTranslation},t.prototype.getUpperLimit=function(){return this.m_upperTranslation},t.prototype.setLimits=function(e,t){(e!=this.m_lowerTranslation||t!=this.m_upperTranslation)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=e,this.m_upperTranslation=t,this.m_impulse.z=0)},t.prototype.isMotorEnabled=function(){return this.m_enableMotor},t.prototype.enableMotor=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e},t.prototype.setMotorSpeed=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e},t.prototype.setMaxMotorForce=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=e},t.prototype.getMaxMotorForce=function(){return this.m_maxMotorForce},t.prototype.getMotorSpeed=function(){return this.m_motorSpeed},t.prototype.getMotorForce=function(e){return e*this.m_motorImpulse},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis).mul(e)},t.prototype.getReactionTorque=function(e){return e*this.m_impulse.y},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyA.c_velocity.v,r=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_position.c,s=this.m_bodyB.c_position.a,a=this.m_bodyB.c_velocity.v,l=this.m_bodyB.c_velocity.w,c=P.neo(n),u=P.neo(s),m=P.mulVec2(c,x.sub(this.m_localAnchorA,this.m_localCenterA)),h=P.mulVec2(u,x.sub(this.m_localAnchorB,this.m_localCenterB)),d=x.zero();d.addCombine(1,o,1,h),d.subCombine(1,t,1,m);var p=this.m_invMassA,f=this.m_invMassB,_=this.m_invIA,y=this.m_invIB;this.m_axis=P.mulVec2(c,this.m_localXAxisA),this.m_a1=x.crossVec2Vec2(x.add(d,m),this.m_axis),this.m_a2=x.crossVec2Vec2(h,this.m_axis),this.m_motorMass=p+f+_*this.m_a1*this.m_a1+y*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),this.m_perp=P.mulVec2(c,this.m_localYAxisA),this.m_s1=x.crossVec2Vec2(x.add(d,m),this.m_perp),this.m_s2=x.crossVec2Vec2(h,this.m_perp),x.crossVec2Vec2(m,this.m_perp);var v=p+f+_*this.m_s1*this.m_s1+y*this.m_s2*this.m_s2,g=_*this.m_s1+y*this.m_s2,A=_*this.m_s1*this.m_a1+y*this.m_s2*this.m_a2,B=_+y;0==B&&(B=1);var V=_*this.m_a1+y*this.m_a2,C=p+f+_*this.m_a1*this.m_a1+y*this.m_a2*this.m_a2;if(this.m_K.ex.set(v,g,A),this.m_K.ey.set(g,B,V),this.m_K.ez.set(A,V,C),this.m_enableLimit){var S=x.dot(this.m_axis,d);b.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*w.linearSlop?this.m_limitState=3:S<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.z=0):S>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.z=0):(this.m_limitState=0,this.m_impulse.z=0)}else this.m_limitState=0,this.m_impulse.z=0;if(!1==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting){this.m_impulse.mul(e.dtRatio),this.m_motorImpulse*=e.dtRatio;var k=x.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis),M=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,z=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;i.subMul(p,k),r-=_*M,a.addMul(f,k),l+=y*z}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.setVec2(i),this.m_bodyA.c_velocity.w=r,this.m_bodyB.c_velocity.v.setVec2(a),this.m_bodyB.c_velocity.w=l},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=this.m_invMassA,s=this.m_invMassB,a=this.m_invIA,l=this.m_invIB;if(this.m_enableMotor&&3!=this.m_limitState){var c=x.dot(this.m_axis,x.sub(i,t))+this.m_a2*r-this.m_a1*n,u=this.m_motorMass*(this.m_motorSpeed-c),m=this.m_motorImpulse,h=e.dt*this.m_maxMotorForce;this.m_motorImpulse=b.clamp(this.m_motorImpulse+u,-h,h),u=this.m_motorImpulse-m;var d=x.mulNumVec2(u,this.m_axis),p=u*this.m_a1,f=u*this.m_a2;t.subMul(o,d),n-=a*p,i.addMul(s,d),r+=l*f}var _=x.zero();if(_.x+=x.dot(this.m_perp,i)+this.m_s2*r,_.x-=x.dot(this.m_perp,t)+this.m_s1*n,_.y=r-n,this.m_enableLimit&&0!=this.m_limitState){y=0+(x.dot(this.m_axis,i)+this.m_a2*r)-(x.dot(this.m_axis,t)+this.m_a1*n);var y,c=new eB(_.x,_.y,y),v=eB.clone(this.m_impulse),g=this.m_K.solve33(eB.neg(c));this.m_impulse.add(g),1==this.m_limitState?this.m_impulse.z=b.max(this.m_impulse.z,0):2==this.m_limitState&&(this.m_impulse.z=b.min(this.m_impulse.z,0));var A=x.combine(-1,_,-(this.m_impulse.z-v.z),x.neo(this.m_K.ez.x,this.m_K.ez.y)),w=x.add(this.m_K.solve22(A),x.neo(v.x,v.y));this.m_impulse.x=w.x,this.m_impulse.y=w.y,g=eB.sub(this.m_impulse,v);var d=x.combine(g.x,this.m_perp,g.z,this.m_axis),p=g.x*this.m_s1+g.y+g.z*this.m_a1,f=g.x*this.m_s2+g.y+g.z*this.m_a2;t.subMul(o,d),n-=a*p,i.addMul(s,d),r+=l*f}else{var g=this.m_K.solve22(x.neg(_));this.m_impulse.x+=g.x,this.m_impulse.y+=g.y;var d=x.mulNumVec2(g.x,this.m_perp),p=g.x*this.m_s1+g.y,f=g.x*this.m_s2+g.y;t.subMul(o,d),n-=a*p,i.addMul(s,d),r+=l*f}this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyB.c_position.c,r=this.m_bodyB.c_position.a,o=P.neo(n),s=P.neo(r),a=this.m_invMassA,l=this.m_invMassB,c=this.m_invIA,u=this.m_invIB,m=P.mulVec2(o,x.sub(this.m_localAnchorA,this.m_localCenterA)),h=P.mulVec2(s,x.sub(this.m_localAnchorB,this.m_localCenterB)),d=x.sub(x.add(i,h),x.add(t,m)),p=P.mulVec2(o,this.m_localXAxisA),f=x.crossVec2Vec2(x.add(d,m),p),_=x.crossVec2Vec2(h,p),y=P.mulVec2(o,this.m_localYAxisA),v=x.crossVec2Vec2(x.add(d,m),y),g=x.crossVec2Vec2(h,y),A=new eB,B=x.zero();B.x=x.dot(y,d),B.y=r-n-this.m_referenceAngle;var V=b.abs(B.x),C=b.abs(B.y),S=w.linearSlop,k=w.maxLinearCorrection,M=!1,z=0;if(this.m_enableLimit){var I=x.dot(p,d);b.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*S?(z=b.clamp(I,-k,k),V=b.max(V,b.abs(I)),M=!0):I<=this.m_lowerTranslation?(z=b.clamp(I-this.m_lowerTranslation+S,-k,0),V=b.max(V,this.m_lowerTranslation-I),M=!0):I>=this.m_upperTranslation&&(z=b.clamp(I-this.m_upperTranslation-S,0,k),V=b.max(V,I-this.m_upperTranslation),M=!0)}if(M){var N=a+l+c*v*v+u*g*g,T=c*v+u*g,L=c*v*f+u*g*_,E=c+u;0==E&&(E=1);var F=c*f+u*_,j=a+l+c*f*f+u*_*_,R=new eT;R.ex.set(N,T,L),R.ey.set(T,E,F),R.ez.set(L,F,j);var D=new eB;D.x=B.x,D.y=B.y,D.z=z,A=R.solve33(eB.neg(D))}else{var N=a+l+c*v*v+u*g*g,T=c*v+u*g,E=c+u;0==E&&(E=1);var R=new W;R.ex.setNum(N,T),R.ey.setNum(T,E);var O=R.solve(x.neg(B));A.x=O.x,A.y=O.y,A.z=0}var q=x.combine(A.x,y,A.z,p),U=A.x*v+A.y+A.z*f,H=A.x*g+A.y+A.z*_;return t.subMul(a,q),n-=c*U,i.addMul(l,q),r+=u*H,this.m_bodyA.c_position.c=t,this.m_bodyA.c_position.a=n,this.m_bodyB.c_position.c=i,this.m_bodyB.c_position.a=r,V<=w.linearSlop&&C<=w.angularSlop},t.TYPE="prismatic-joint",t}(ed),eR={ratio:1},eD=function(e){function t(n,i,r,o,s,a){var l,c,u=this;if(!(u instanceof t))return new t(n,i,r,o,s,a);n=v(n,eR),i=(u=e.call(this,n,i,r)||this).m_bodyA,r=u.m_bodyB,u.m_type=t.TYPE,u.m_joint1=o||n.joint1,u.m_joint2=s||n.joint2,u.m_ratio=b.isFinite(a)?a:n.ratio,u.m_type1=u.m_joint1.getType(),u.m_type2=u.m_joint2.getType(),u.m_bodyC=u.m_joint1.getBodyA(),u.m_bodyA=u.m_joint1.getBodyB();var m=u.m_bodyA.m_xf,h=u.m_bodyA.m_sweep.a,d=u.m_bodyC.m_xf,p=u.m_bodyC.m_sweep.a;if(u.m_type1===eE.TYPE){var f=u.m_joint1;u.m_localAnchorC=f.m_localAnchorA,u.m_localAnchorA=f.m_localAnchorB,u.m_referenceAngleA=f.m_referenceAngle,u.m_localAxisC=x.zero(),l=h-p-u.m_referenceAngleA}else{var _=u.m_joint1;u.m_localAnchorC=_.m_localAnchorA,u.m_localAnchorA=_.m_localAnchorB,u.m_referenceAngleA=_.m_referenceAngle,u.m_localAxisC=_.m_localXAxisA;var y=u.m_localAnchorC,g=P.mulTVec2(d.q,x.add(P.mulVec2(m.q,u.m_localAnchorA),x.sub(m.p,d.p)));l=x.dot(g,u.m_localAxisC)-x.dot(y,u.m_localAxisC)}u.m_bodyD=u.m_joint2.getBodyA(),u.m_bodyB=u.m_joint2.getBodyB();var A=u.m_bodyB.m_xf,w=u.m_bodyB.m_sweep.a,B=u.m_bodyD.m_xf,V=u.m_bodyD.m_sweep.a;if(u.m_type2===eE.TYPE){var f=u.m_joint2;u.m_localAnchorD=f.m_localAnchorA,u.m_localAnchorB=f.m_localAnchorB,u.m_referenceAngleB=f.m_referenceAngle,u.m_localAxisD=x.zero(),c=w-V-u.m_referenceAngleB}else{var _=u.m_joint2;u.m_localAnchorD=_.m_localAnchorA,u.m_localAnchorB=_.m_localAnchorB,u.m_referenceAngleB=_.m_referenceAngle,u.m_localAxisD=_.m_localXAxisA;var C=u.m_localAnchorD,S=P.mulTVec2(B.q,x.add(P.mulVec2(A.q,u.m_localAnchorB),x.sub(A.p,B.p)));c=x.dot(S,u.m_localAxisD)-x.dot(C,u.m_localAxisD)}return u.m_constant=l+u.m_ratio*c,u.m_impulse=0,u}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,joint1:this.m_joint1,joint2:this.m_joint2,ratio:this.m_ratio}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),e.joint1=i(ed,e.joint1,n),e.joint2=i(ed,e.joint2,n),new t(e)},t.prototype.getJoint1=function(){return this.m_joint1},t.prototype.getJoint2=function(){return this.m_joint2},t.prototype.setRatio=function(e){this.m_ratio=e},t.prototype.getRatio=function(){return this.m_ratio},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.mulNumVec2(this.m_impulse,this.m_JvAC).mul(e)},t.prototype.getReactionTorque=function(e){return e*(this.m_impulse*this.m_JwA)},t.prototype.initVelocityConstraints=function(e){this.m_lcA=this.m_bodyA.m_sweep.localCenter,this.m_lcB=this.m_bodyB.m_sweep.localCenter,this.m_lcC=this.m_bodyC.m_sweep.localCenter,this.m_lcD=this.m_bodyD.m_sweep.localCenter,this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var t=this.m_bodyA.c_position.a,n=this.m_bodyA.c_velocity.v,i=this.m_bodyA.c_velocity.w,r=this.m_bodyB.c_position.a,o=this.m_bodyB.c_velocity.v,s=this.m_bodyB.c_velocity.w,a=this.m_bodyC.c_position.a,l=this.m_bodyC.c_velocity.v,c=this.m_bodyC.c_velocity.w,u=this.m_bodyD.c_position.a,m=this.m_bodyD.c_velocity.v,h=this.m_bodyD.c_velocity.w,d=P.neo(t),p=P.neo(r),f=P.neo(a),_=P.neo(u);if(this.m_mass=0,this.m_type1==eE.TYPE)this.m_JvAC=x.zero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var y=P.mulVec2(f,this.m_localAxisC),v=P.mulSub(f,this.m_localAnchorC,this.m_lcC),g=P.mulSub(d,this.m_localAnchorA,this.m_lcA);this.m_JvAC=y,this.m_JwC=x.crossVec2Vec2(v,y),this.m_JwA=x.crossVec2Vec2(g,y),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_type2==eE.TYPE)this.m_JvBD=x.zero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var y=P.mulVec2(_,this.m_localAxisD),b=P.mulSub(_,this.m_localAnchorD,this.m_lcD),A=P.mulSub(p,this.m_localAnchorB,this.m_lcB);this.m_JvBD=x.mulNumVec2(this.m_ratio,y),this.m_JwD=this.m_ratio*x.crossVec2Vec2(b,y),this.m_JwB=this.m_ratio*x.crossVec2Vec2(A,y),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,e.warmStarting?(n.addMul(this.m_mA*this.m_impulse,this.m_JvAC),i+=this.m_iA*this.m_impulse*this.m_JwA,o.addMul(this.m_mB*this.m_impulse,this.m_JvBD),s+=this.m_iB*this.m_impulse*this.m_JwB,l.subMul(this.m_mC*this.m_impulse,this.m_JvAC),c-=this.m_iC*this.m_impulse*this.m_JwC,m.subMul(this.m_mD*this.m_impulse,this.m_JvBD),h-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,this.m_bodyA.c_velocity.v.setVec2(n),this.m_bodyA.c_velocity.w=i,this.m_bodyB.c_velocity.v.setVec2(o),this.m_bodyB.c_velocity.w=s,this.m_bodyC.c_velocity.v.setVec2(l),this.m_bodyC.c_velocity.w=c,this.m_bodyD.c_velocity.v.setVec2(m),this.m_bodyD.c_velocity.w=h},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=this.m_bodyC.c_velocity.v,s=this.m_bodyC.c_velocity.w,a=this.m_bodyD.c_velocity.v,l=this.m_bodyD.c_velocity.w,c=x.dot(this.m_JvAC,t)-x.dot(this.m_JvAC,o)+x.dot(this.m_JvBD,i)-x.dot(this.m_JvBD,a);c+=this.m_JwA*n-this.m_JwC*s+(this.m_JwB*r-this.m_JwD*l);var u=-this.m_mass*c;this.m_impulse+=u,t.addMul(this.m_mA*u,this.m_JvAC),n+=this.m_iA*u*this.m_JwA,i.addMul(this.m_mB*u,this.m_JvBD),r+=this.m_iB*u*this.m_JwB,o.subMul(this.m_mC*u,this.m_JvAC),s-=this.m_iC*u*this.m_JwC,a.subMul(this.m_mD*u,this.m_JvBD),l-=this.m_iD*u*this.m_JwD,this.m_bodyA.c_velocity.v.setVec2(t),this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v.setVec2(i),this.m_bodyB.c_velocity.w=r,this.m_bodyC.c_velocity.v.setVec2(o),this.m_bodyC.c_velocity.w=s,this.m_bodyD.c_velocity.v.setVec2(a),this.m_bodyD.c_velocity.w=l},t.prototype.solvePositionConstraints=function(e){var t,n,i,r,o,s,a,l,c=this.m_bodyA.c_position.c,u=this.m_bodyA.c_position.a,m=this.m_bodyB.c_position.c,h=this.m_bodyB.c_position.a,d=this.m_bodyC.c_position.c,p=this.m_bodyC.c_position.a,f=this.m_bodyD.c_position.c,_=this.m_bodyD.c_position.a,y=P.neo(u),v=P.neo(h),g=P.neo(p),b=P.neo(_),A=0;if(this.m_type1==eE.TYPE)i=x.zero(),o=1,a=1,A+=this.m_iA+this.m_iC,t=u-p-this.m_referenceAngleA;else{var B=P.mulVec2(g,this.m_localAxisC),V=P.mulSub(g,this.m_localAnchorC,this.m_lcC),C=P.mulSub(y,this.m_localAnchorA,this.m_lcA);i=B,a=x.crossVec2Vec2(V,B),o=x.crossVec2Vec2(C,B),A+=this.m_mC+this.m_mA+this.m_iC*a*a+this.m_iA*o*o;var S=x.sub(this.m_localAnchorC,this.m_lcC),k=P.mulTVec2(g,x.add(C,x.sub(c,d)));t=x.dot(x.sub(k,S),this.m_localAxisC)}if(this.m_type2==eE.TYPE)r=x.zero(),s=this.m_ratio,l=this.m_ratio,A+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),n=h-_-this.m_referenceAngleB;else{var B=P.mulVec2(b,this.m_localAxisD),M=P.mulSub(b,this.m_localAnchorD,this.m_lcD),z=P.mulSub(v,this.m_localAnchorB,this.m_lcB);r=x.mulNumVec2(this.m_ratio,B),l=this.m_ratio*x.crossVec2Vec2(M,B),s=this.m_ratio*x.crossVec2Vec2(z,B),A+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*l*l+this.m_iB*s*s;var I=x.sub(this.m_localAnchorD,this.m_lcD),N=P.mulTVec2(b,x.add(z,x.sub(m,f)));n=x.dot(N,this.m_localAxisD)-x.dot(I,this.m_localAxisD)}var T=t+this.m_ratio*n-this.m_constant,L=0;return A>0&&(L=-T/A),c.addMul(this.m_mA*L,i),u+=this.m_iA*L*o,m.addMul(this.m_mB*L,r),h+=this.m_iB*L*s,d.subMul(this.m_mC*L,i),p-=this.m_iC*L*a,f.subMul(this.m_mD*L,r),_-=this.m_iD*L*l,this.m_bodyA.c_position.c.setVec2(c),this.m_bodyA.c_position.a=u,this.m_bodyB.c_position.c.setVec2(m),this.m_bodyB.c_position.a=h,this.m_bodyC.c_position.c.setVec2(d),this.m_bodyC.c_position.a=p,this.m_bodyD.c_position.c.setVec2(f),this.m_bodyD.c_position.a=_,0<w.linearSlop},t.TYPE="gear-joint",t}(ed),eO={maxForce:1,maxTorque:1,correctionFactor:.3},eq=function(e){function t(n,i,r){var o=this;return o instanceof t?(n=v(n,eO),i=(o=e.call(this,n,i,r)||this).m_bodyA,r=o.m_bodyB,o.m_type=t.TYPE,o.m_linearOffset=b.isFinite(n.linearOffset)?n.linearOffset:i.getLocalPoint(r.getPosition()),o.m_angularOffset=b.isFinite(n.angularOffset)?n.angularOffset:r.getAngle()-i.getAngle(),o.m_linearImpulse=x.zero(),o.m_angularImpulse=0,o.m_maxForce=n.maxForce,o.m_maxTorque=n.maxTorque,o.m_correctionFactor=n.correctionFactor,o):new t(n,i,r)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,correctionFactor:this.m_correctionFactor,linearOffset:this.m_linearOffset,angularOffset:this.m_angularOffset}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype._setAnchors=function(e){},t.prototype.setMaxForce=function(e){this.m_maxForce=e},t.prototype.getMaxForce=function(){return this.m_maxForce},t.prototype.setMaxTorque=function(e){this.m_maxTorque=e},t.prototype.getMaxTorque=function(){return this.m_maxTorque},t.prototype.setCorrectionFactor=function(e){this.m_correctionFactor=e},t.prototype.getCorrectionFactor=function(){return this.m_correctionFactor},t.prototype.setLinearOffset=function(e){(e.x!=this.m_linearOffset.x||e.y!=this.m_linearOffset.y)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_linearOffset=e)},t.prototype.getLinearOffset=function(){return this.m_linearOffset},t.prototype.setAngularOffset=function(e){e!=this.m_angularOffset&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_angularOffset=e)},t.prototype.getAngularOffset=function(){return this.m_angularOffset},t.prototype.getAnchorA=function(){return this.m_bodyA.getPosition()},t.prototype.getAnchorB=function(){return this.m_bodyB.getPosition()},t.prototype.getReactionForce=function(e){return x.mulNumVec2(e,this.m_linearImpulse)},t.prototype.getReactionTorque=function(e){return e*this.m_angularImpulse},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyA.c_velocity.v,r=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_position.c,s=this.m_bodyB.c_position.a,a=this.m_bodyB.c_velocity.v,l=this.m_bodyB.c_velocity.w,c=P.neo(n),u=P.neo(s);this.m_rA=P.mulVec2(c,x.neg(this.m_localCenterA)),this.m_rB=P.mulVec2(u,x.neg(this.m_localCenterB));var m=this.m_invMassA,h=this.m_invMassB,d=this.m_invIA,p=this.m_invIB,f=new W;if(f.ex.x=m+h+d*this.m_rA.y*this.m_rA.y+p*this.m_rB.y*this.m_rB.y,f.ex.y=-d*this.m_rA.x*this.m_rA.y-p*this.m_rB.x*this.m_rB.y,f.ey.x=f.ex.y,f.ey.y=m+h+d*this.m_rA.x*this.m_rA.x+p*this.m_rB.x*this.m_rB.x,this.m_linearMass=f.getInverse(),this.m_angularMass=d+p,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),this.m_linearError=x.zero(),this.m_linearError.addCombine(1,o,1,this.m_rB),this.m_linearError.subCombine(1,t,1,this.m_rA),this.m_linearError.sub(P.mulVec2(c,this.m_linearOffset)),this.m_angularError=s-n-this.m_angularOffset,e.warmStarting){this.m_linearImpulse.mul(e.dtRatio),this.m_angularImpulse*=e.dtRatio;var _=x.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);i.subMul(m,_),r-=d*(x.crossVec2Vec2(this.m_rA,_)+this.m_angularImpulse),a.addMul(h,_),l+=p*(x.crossVec2Vec2(this.m_rB,_)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=i,this.m_bodyA.c_velocity.w=r,this.m_bodyB.c_velocity.v=a,this.m_bodyB.c_velocity.w=l},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=this.m_invMassA,s=this.m_invMassB,a=this.m_invIA,l=this.m_invIB,c=e.dt,u=e.inv_dt,m=r-n+u*this.m_correctionFactor*this.m_angularError,h=-this.m_angularMass*m,d=this.m_angularImpulse,p=c*this.m_maxTorque;this.m_angularImpulse=b.clamp(this.m_angularImpulse+h,-p,p),n-=a*(h=this.m_angularImpulse-d),r+=l*h;var m=x.zero();m.addCombine(1,i,1,x.crossNumVec2(r,this.m_rB)),m.subCombine(1,t,1,x.crossNumVec2(n,this.m_rA)),m.addMul(u*this.m_correctionFactor,this.m_linearError);var h=x.neg(W.mulVec2(this.m_linearMass,m)),d=x.clone(this.m_linearImpulse);this.m_linearImpulse.add(h);var p=c*this.m_maxForce;this.m_linearImpulse.clamp(p),h=x.sub(this.m_linearImpulse,d),t.subMul(o,h),n-=a*x.crossVec2Vec2(this.m_rA,h),i.addMul(s,h),r+=l*x.crossVec2Vec2(this.m_rB,h),this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){return!0},t.TYPE="motor-joint",t}(ed),eU={maxForce:0,frequencyHz:5,dampingRatio:.7},eW=function(e){function t(n,i,r,o){var s=this;return s instanceof t?(n=v(n,eU),i=(s=e.call(this,n,i,r)||this).m_bodyA,r=s.m_bodyB,s.m_type=t.TYPE,s.m_targetA=o?x.clone(o):n.target||x.zero(),s.m_localAnchorB=M.mulTVec2(r.getTransform(),s.m_targetA),s.m_maxForce=n.maxForce,s.m_impulse=x.zero(),s.m_frequencyHz=n.frequencyHz,s.m_dampingRatio=n.dampingRatio,s.m_beta=0,s.m_gamma=0,s.m_rB=x.zero(),s.m_localCenterB=x.zero(),s.m_invMassB=0,s.m_invIB=0,s.m_mass=new W,s.m_C=x.zero(),s):new t(n,i,r,o)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,target:this.m_targetA,maxForce:this.m_maxForce,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,_localAnchorB:this.m_localAnchorB}},t._deserialize=function(e,n,i){(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),e.target=x.clone(e.target);var r=new t(e);return e._localAnchorB&&(r.m_localAnchorB=e._localAnchorB),r},t.prototype.setTarget=function(e){!1==this.m_bodyB.isAwake()&&this.m_bodyB.setAwake(!0),this.m_targetA=x.clone(e)},t.prototype.getTarget=function(){return this.m_targetA},t.prototype.setMaxForce=function(e){this.m_maxForce=e},t.prototype.getMaxForce=function(){return this.m_maxForce},t.prototype.setFrequency=function(e){this.m_frequencyHz=e},t.prototype.getFrequency=function(){return this.m_frequencyHz},t.prototype.setDampingRatio=function(e){this.m_dampingRatio=e},t.prototype.getDampingRatio=function(){return this.m_dampingRatio},t.prototype.getAnchorA=function(){return x.clone(this.m_targetA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.mulNumVec2(e,this.m_impulse)},t.prototype.getReactionTorque=function(e){return 0*e},t.prototype.shiftOrigin=function(e){this.m_targetA.sub(e)},t.prototype.initVelocityConstraints=function(e){this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyB.c_position,n=this.m_bodyB.c_velocity,i=t.c,r=t.a,o=n.v,s=n.w,a=P.neo(r),l=this.m_bodyB.getMass(),c=2*b.PI*this.m_frequencyHz,u=2*l*this.m_dampingRatio*c,m=l*(c*c),h=e.dt;this.m_gamma=h*(u+h*m),0!=this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=h*m*this.m_gamma,this.m_rB=P.mulVec2(a,x.sub(this.m_localAnchorB,this.m_localCenterB));var d=new W;d.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,d.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,d.ey.x=d.ex.y,d.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,this.m_mass=d.getInverse(),this.m_C.setVec2(i),this.m_C.addCombine(1,this.m_rB,-1,this.m_targetA),this.m_C.mul(this.m_beta),s*=.98,e.warmStarting?(this.m_impulse.mul(e.dtRatio),o.addMul(this.m_invMassB,this.m_impulse),s+=this.m_invIB*x.crossVec2Vec2(this.m_rB,this.m_impulse)):this.m_impulse.setZero(),n.v.setVec2(o),n.w=s},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyB.c_velocity,n=x.clone(t.v),i=t.w,r=x.crossNumVec2(i,this.m_rB);r.add(n),r.addCombine(1,this.m_C,this.m_gamma,this.m_impulse),r.neg();var o=W.mulVec2(this.m_mass,r),s=x.clone(this.m_impulse);this.m_impulse.add(o);var a=e.dt*this.m_maxForce;this.m_impulse.clamp(a),o=x.sub(this.m_impulse,s),n.addMul(this.m_invMassB,o),i+=this.m_invIB*x.crossVec2Vec2(this.m_rB,o),t.v.setVec2(n),t.w=i},t.prototype.solvePositionConstraints=function(e){return!0},t.TYPE="mouse-joint",t}(ed),eH={collideConnected:!0},eY=function(e){function t(n,i,r,o,s,a,l,c){var u=this;return u instanceof t?(n=v(n,eH),i=(u=e.call(this,n,i,r)||this).m_bodyA,r=u.m_bodyB,u.m_type=t.TYPE,u.m_groundAnchorA=o||n.groundAnchorA||x.neo(-1,1),u.m_groundAnchorB=s||n.groundAnchorB||x.neo(1,1),u.m_localAnchorA=a?i.getLocalPoint(a):n.localAnchorA||x.neo(-1,0),u.m_localAnchorB=l?r.getLocalPoint(l):n.localAnchorB||x.neo(1,0),u.m_lengthA=b.isFinite(n.lengthA)?n.lengthA:x.distance(a,o),u.m_lengthB=b.isFinite(n.lengthB)?n.lengthB:x.distance(l,s),u.m_ratio=b.isFinite(c)?c:n.ratio,u.m_constant=u.m_lengthA+u.m_ratio*u.m_lengthB,u.m_impulse=0,u):new t(n,i,r,o,s,a,l,c)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,groundAnchorA:this.m_groundAnchorA,groundAnchorB:this.m_groundAnchorB,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,lengthA:this.m_lengthA,lengthB:this.m_lengthB,ratio:this.m_ratio}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype.getGroundAnchorA=function(){return this.m_groundAnchorA},t.prototype.getGroundAnchorB=function(){return this.m_groundAnchorB},t.prototype.getLengthA=function(){return this.m_lengthA},t.prototype.getLengthB=function(){return this.m_lengthB},t.prototype.getRatio=function(){return this.m_ratio},t.prototype.getCurrentLengthA=function(){var e=this.m_bodyA.getWorldPoint(this.m_localAnchorA),t=this.m_groundAnchorA;return x.distance(e,t)},t.prototype.getCurrentLengthB=function(){var e=this.m_bodyB.getWorldPoint(this.m_localAnchorB),t=this.m_groundAnchorB;return x.distance(e,t)},t.prototype.shiftOrigin=function(e){this.m_groundAnchorA.sub(e),this.m_groundAnchorB.sub(e)},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.mulNumVec2(this.m_impulse,this.m_uB).mul(e)},t.prototype.getReactionTorque=function(e){return 0},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyA.c_velocity.v,r=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_position.c,s=this.m_bodyB.c_position.a,a=this.m_bodyB.c_velocity.v,l=this.m_bodyB.c_velocity.w,c=P.neo(n),u=P.neo(s);this.m_rA=P.mulVec2(c,x.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=P.mulVec2(u,x.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_uA=x.sub(x.add(t,this.m_rA),this.m_groundAnchorA),this.m_uB=x.sub(x.add(o,this.m_rB),this.m_groundAnchorB);var m=this.m_uA.length(),h=this.m_uB.length();m>10*w.linearSlop?this.m_uA.mul(1/m):this.m_uA.setZero(),h>10*w.linearSlop?this.m_uB.mul(1/h):this.m_uB.setZero();var d=x.crossVec2Vec2(this.m_rA,this.m_uA),p=x.crossVec2Vec2(this.m_rB,this.m_uB),f=this.m_invMassA+this.m_invIA*d*d,_=this.m_invMassB+this.m_invIB*p*p;if(this.m_mass=f+this.m_ratio*this.m_ratio*_,this.m_mass>0&&(this.m_mass=1/this.m_mass),e.warmStarting){this.m_impulse*=e.dtRatio;var y=x.mulNumVec2(-this.m_impulse,this.m_uA),v=x.mulNumVec2(-this.m_ratio*this.m_impulse,this.m_uB);i.addMul(this.m_invMassA,y),r+=this.m_invIA*x.crossVec2Vec2(this.m_rA,y),a.addMul(this.m_invMassB,v),l+=this.m_invIB*x.crossVec2Vec2(this.m_rB,v)}else this.m_impulse=0;this.m_bodyA.c_velocity.v=i,this.m_bodyA.c_velocity.w=r,this.m_bodyB.c_velocity.v=a,this.m_bodyB.c_velocity.w=l},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=x.add(t,x.crossNumVec2(n,this.m_rA)),s=x.add(i,x.crossNumVec2(r,this.m_rB)),a=-x.dot(this.m_uA,o)-this.m_ratio*x.dot(this.m_uB,s),l=-this.m_mass*a;this.m_impulse+=l;var c=x.mulNumVec2(-l,this.m_uA),u=x.mulNumVec2(-this.m_ratio*l,this.m_uB);t.addMul(this.m_invMassA,c),n+=this.m_invIA*x.crossVec2Vec2(this.m_rA,c),i.addMul(this.m_invMassB,u),r+=this.m_invIB*x.crossVec2Vec2(this.m_rB,u),this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyB.c_position.c,r=this.m_bodyB.c_position.a,o=P.neo(n),s=P.neo(r),a=P.mulVec2(o,x.sub(this.m_localAnchorA,this.m_localCenterA)),l=P.mulVec2(s,x.sub(this.m_localAnchorB,this.m_localCenterB)),c=x.sub(x.add(t,this.m_rA),this.m_groundAnchorA),u=x.sub(x.add(i,this.m_rB),this.m_groundAnchorB),m=c.length(),h=u.length();m>10*w.linearSlop?c.mul(1/m):c.setZero(),h>10*w.linearSlop?u.mul(1/h):u.setZero();var d=x.crossVec2Vec2(a,c),p=x.crossVec2Vec2(l,u),f=this.m_invMassA+this.m_invIA*d*d,_=this.m_invMassB+this.m_invIB*p*p,y=f+this.m_ratio*this.m_ratio*_;y>0&&(y=1/y);var v=this.m_constant-m-this.m_ratio*h,g=b.abs(v),A=-y*v,B=x.mulNumVec2(-A,c),V=x.mulNumVec2(-this.m_ratio*A,u);return t.addMul(this.m_invMassA,B),n+=this.m_invIA*x.crossVec2Vec2(a,B),i.addMul(this.m_invMassB,V),r+=this.m_invIB*x.crossVec2Vec2(l,V),this.m_bodyA.c_position.c=t,this.m_bodyA.c_position.a=n,this.m_bodyB.c_position.c=i,this.m_bodyB.c_position.a=r,g<w.linearSlop},t.TYPE="pulley-joint",t}(ed),e$={maxLength:0},eJ=function(e){function t(n,i,r,o){var s=this;return s instanceof t?(n=v(n,e$),i=(s=e.call(this,n,i,r)||this).m_bodyA,r=s.m_bodyB,s.m_type=t.TYPE,s.m_localAnchorA=o?i.getLocalPoint(o):n.localAnchorA||x.neo(-1,0),s.m_localAnchorB=o?r.getLocalPoint(o):n.localAnchorB||x.neo(1,0),s.m_maxLength=n.maxLength,s.m_mass=0,s.m_impulse=0,s.m_length=0,s.m_state=0,s):new t(n,i,r,o)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,maxLength:this.m_maxLength}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.setMaxLength=function(e){this.m_maxLength=e},t.prototype.getMaxLength=function(){return this.m_maxLength},t.prototype.getLimitState=function(){return this.m_state},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.mulNumVec2(this.m_impulse,this.m_u).mul(e)},t.prototype.getReactionTorque=function(e){return 0},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyA.c_velocity.v,r=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_position.c,s=this.m_bodyB.c_position.a,a=this.m_bodyB.c_velocity.v,l=this.m_bodyB.c_velocity.w,c=P.neo(n),u=P.neo(s);if(this.m_rA=P.mulSub(c,this.m_localAnchorA,this.m_localCenterA),this.m_rB=P.mulSub(u,this.m_localAnchorB,this.m_localCenterB),this.m_u=x.zero(),this.m_u.addCombine(1,o,1,this.m_rB),this.m_u.subCombine(1,t,1,this.m_rA),this.m_length=this.m_u.length(),this.m_length-this.m_maxLength>0?this.m_state=2:this.m_state=0,this.m_length>w.linearSlop)this.m_u.mul(1/this.m_length);else{this.m_u.setZero(),this.m_mass=0,this.m_impulse=0;return}var m=x.crossVec2Vec2(this.m_rA,this.m_u),h=x.crossVec2Vec2(this.m_rB,this.m_u),d=this.m_invMassA+this.m_invIA*m*m+this.m_invMassB+this.m_invIB*h*h;if(this.m_mass=0!=d?1/d:0,e.warmStarting){this.m_impulse*=e.dtRatio;var p=x.mulNumVec2(this.m_impulse,this.m_u);i.subMul(this.m_invMassA,p),r-=this.m_invIA*x.crossVec2Vec2(this.m_rA,p),a.addMul(this.m_invMassB,p),l+=this.m_invIB*x.crossVec2Vec2(this.m_rB,p)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.setVec2(i),this.m_bodyA.c_velocity.w=r,this.m_bodyB.c_velocity.v.setVec2(a),this.m_bodyB.c_velocity.w=l},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=x.addCrossNumVec2(t,n,this.m_rA),s=x.addCrossNumVec2(i,r,this.m_rB),a=this.m_length-this.m_maxLength,l=x.dot(this.m_u,x.sub(s,o));a<0&&(l+=e.inv_dt*a);var c=-this.m_mass*l,u=this.m_impulse;this.m_impulse=b.min(0,this.m_impulse+c),c=this.m_impulse-u;var m=x.mulNumVec2(c,this.m_u);t.subMul(this.m_invMassA,m),n-=this.m_invIA*x.crossVec2Vec2(this.m_rA,m),i.addMul(this.m_invMassB,m),r+=this.m_invIB*x.crossVec2Vec2(this.m_rB,m),this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){var t=this.m_bodyA.c_position.c,n=this.m_bodyA.c_position.a,i=this.m_bodyB.c_position.c,r=this.m_bodyB.c_position.a,o=P.neo(n),s=P.neo(r),a=P.mulSub(o,this.m_localAnchorA,this.m_localCenterA),l=P.mulSub(s,this.m_localAnchorB,this.m_localCenterB),c=x.zero();c.addCombine(1,i,1,l),c.subCombine(1,t,1,a);var u=c.normalize(),m=u-this.m_maxLength;m=b.clamp(m,0,w.maxLinearCorrection);var h=-this.m_mass*m,d=x.mulNumVec2(h,c);return t.subMul(this.m_invMassA,d),n-=this.m_invIA*x.crossVec2Vec2(a,d),i.addMul(this.m_invMassB,d),r+=this.m_invIB*x.crossVec2Vec2(l,d),this.m_bodyA.c_position.c.setVec2(t),this.m_bodyA.c_position.a=n,this.m_bodyB.c_position.c.setVec2(i),this.m_bodyB.c_position.a=r,u-this.m_maxLength<w.linearSlop},t.TYPE="rope-joint",t}(ed),eQ={frequencyHz:0,dampingRatio:0},eK=function(e){function t(n,i,r,o){var s=this;return s instanceof t?(n=v(n,eQ),i=(s=e.call(this,n,i,r)||this).m_bodyA,r=s.m_bodyB,s.m_type=t.TYPE,s.m_localAnchorA=x.clone(o?i.getLocalPoint(o):n.localAnchorA||x.zero()),s.m_localAnchorB=x.clone(o?r.getLocalPoint(o):n.localAnchorB||x.zero()),s.m_referenceAngle=b.isFinite(n.referenceAngle)?n.referenceAngle:r.getAngle()-i.getAngle(),s.m_frequencyHz=n.frequencyHz,s.m_dampingRatio=n.dampingRatio,s.m_impulse=new eB,s.m_bias=0,s.m_gamma=0,s.m_rA,s.m_rB,s.m_localCenterA,s.m_localCenterB,s.m_invMassA,s.m_invMassB,s.m_invIA,s.m_invIB,s.m_mass=new eT,s):new t(n,i,r,o)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.setVec2(e.localAnchorA),e.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.setVec2(e.localAnchorB)},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.getReferenceAngle=function(){return this.m_referenceAngle},t.prototype.setFrequency=function(e){this.m_frequencyHz=e},t.prototype.getFrequency=function(){return this.m_frequencyHz},t.prototype.setDampingRatio=function(e){this.m_dampingRatio=e},t.prototype.getDampingRatio=function(){return this.m_dampingRatio},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.neo(this.m_impulse.x,this.m_impulse.y).mul(e)},t.prototype.getReactionTorque=function(e){return e*this.m_impulse.z},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_bodyA.c_position.a,n=this.m_bodyA.c_velocity.v,i=this.m_bodyA.c_velocity.w,r=this.m_bodyB.c_position.a,o=this.m_bodyB.c_velocity.v,s=this.m_bodyB.c_velocity.w,a=P.neo(t),l=P.neo(r);this.m_rA=P.mulVec2(a,x.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=P.mulVec2(l,x.sub(this.m_localAnchorB,this.m_localCenterB));var c=this.m_invMassA,u=this.m_invMassB,m=this.m_invIA,h=this.m_invIB,d=new eT;if(d.ex.x=c+u+this.m_rA.y*this.m_rA.y*m+this.m_rB.y*this.m_rB.y*h,d.ey.x=-this.m_rA.y*this.m_rA.x*m-this.m_rB.y*this.m_rB.x*h,d.ez.x=-this.m_rA.y*m-this.m_rB.y*h,d.ex.y=d.ey.x,d.ey.y=c+u+this.m_rA.x*this.m_rA.x*m+this.m_rB.x*this.m_rB.x*h,d.ez.y=this.m_rA.x*m+this.m_rB.x*h,d.ex.z=d.ez.x,d.ey.z=d.ez.y,d.ez.z=m+h,this.m_frequencyHz>0){d.getInverse22(this.m_mass);var p=m+h,f=p>0?1/p:0,_=r-t-this.m_referenceAngle,y=2*b.PI*this.m_frequencyHz,v=2*f*this.m_dampingRatio*y,g=f*y*y,A=e.dt;this.m_gamma=A*(v+A*g),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_bias=_*A*g*this.m_gamma,p+=this.m_gamma,this.m_mass.ez.z=0!=p?1/p:0}else 0==d.ez.z?d.getInverse22(this.m_mass):d.getSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0;if(e.warmStarting){this.m_impulse.mul(e.dtRatio);var w=x.neo(this.m_impulse.x,this.m_impulse.y);n.subMul(c,w),i-=m*(x.crossVec2Vec2(this.m_rA,w)+this.m_impulse.z),o.addMul(u,w),s+=h*(x.crossVec2Vec2(this.m_rB,w)+this.m_impulse.z)}else this.m_impulse.setZero();this.m_bodyA.c_velocity.v=n,this.m_bodyA.c_velocity.w=i,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=s},t.prototype.solveVelocityConstraints=function(e){var t=this.m_bodyA.c_velocity.v,n=this.m_bodyA.c_velocity.w,i=this.m_bodyB.c_velocity.v,r=this.m_bodyB.c_velocity.w,o=this.m_invMassA,s=this.m_invMassB,a=this.m_invIA,l=this.m_invIB;if(this.m_frequencyHz>0){var c=r-n,u=-this.m_mass.ez.z*(c+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=u,n-=a*u,r+=l*u;var m=x.zero();m.addCombine(1,i,1,x.crossNumVec2(r,this.m_rB)),m.subCombine(1,t,1,x.crossNumVec2(n,this.m_rA));var h=x.neg(eT.mulVec2(this.m_mass,m));this.m_impulse.x+=h.x,this.m_impulse.y+=h.y;var d=x.clone(h);t.subMul(o,d),n-=a*x.crossVec2Vec2(this.m_rA,d),i.addMul(s,d),r+=l*x.crossVec2Vec2(this.m_rB,d)}else{var m=x.zero();m.addCombine(1,i,1,x.crossNumVec2(r,this.m_rB)),m.subCombine(1,t,1,x.crossNumVec2(n,this.m_rA));var c=r-n,p=new eB(m.x,m.y,c),f=eB.neg(eT.mulVec3(this.m_mass,p));this.m_impulse.add(f);var d=x.neo(f.x,f.y);t.subMul(o,d),n-=a*(x.crossVec2Vec2(this.m_rA,d)+f.z),i.addMul(s,d),r+=l*(x.crossVec2Vec2(this.m_rB,d)+f.z)}this.m_bodyA.c_velocity.v=t,this.m_bodyA.c_velocity.w=n,this.m_bodyB.c_velocity.v=i,this.m_bodyB.c_velocity.w=r},t.prototype.solvePositionConstraints=function(e){var t,n,i=this.m_bodyA.c_position.c,r=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,s=this.m_bodyB.c_position.a,a=P.neo(r),l=P.neo(s),c=this.m_invMassA,u=this.m_invMassB,m=this.m_invIA,h=this.m_invIB,d=P.mulVec2(a,x.sub(this.m_localAnchorA,this.m_localCenterA)),p=P.mulVec2(l,x.sub(this.m_localAnchorB,this.m_localCenterB)),f=new eT;if(f.ex.x=c+u+d.y*d.y*m+p.y*p.y*h,f.ey.x=-d.y*d.x*m-p.y*p.x*h,f.ez.x=-d.y*m-p.y*h,f.ex.y=f.ey.x,f.ey.y=c+u+d.x*d.x*m+p.x*p.x*h,f.ez.y=d.x*m+p.x*h,f.ex.z=f.ez.x,f.ey.z=f.ez.y,f.ez.z=m+h,this.m_frequencyHz>0){var _=x.zero();_.addCombine(1,o,1,p),_.subCombine(1,i,1,d),t=_.length(),n=0;var y=x.neg(f.solve22(_));i.subMul(c,y),r-=m*x.crossVec2Vec2(d,y),o.addMul(u,y),s+=h*x.crossVec2Vec2(p,y)}else{var _=x.zero();_.addCombine(1,o,1,p),_.subCombine(1,i,1,d);var v=s-r-this.m_referenceAngle;t=_.length(),n=b.abs(v);var g=new eB(_.x,_.y,v),A=new eB;if(f.ez.z>0)A=eB.neg(f.solve33(g));else{var B=x.neg(f.solve22(_));A.set(B.x,B.y,0)}var y=x.neo(A.x,A.y);i.subMul(c,y),r-=m*(x.crossVec2Vec2(d,y)+A.z),o.addMul(u,y),s+=h*(x.crossVec2Vec2(p,y)+A.z)}return this.m_bodyA.c_position.c=i,this.m_bodyA.c_position.a=r,this.m_bodyB.c_position.c=o,this.m_bodyB.c_position.a=s,t<=w.linearSlop&&n<=w.angularSlop},t.TYPE="weld-joint",t}(ed),eZ={enableMotor:!1,maxMotorTorque:0,motorSpeed:0,frequencyHz:2,dampingRatio:.7},eX=function(e){function t(n,i,r,o,s){var a=this;return a instanceof t?(n=v(n,eZ),(a=e.call(this,n,i,r)||this).m_ax=x.zero(),a.m_ay=x.zero(),i=a.m_bodyA,r=a.m_bodyB,a.m_type=t.TYPE,a.m_localAnchorA=x.clone(o?i.getLocalPoint(o):n.localAnchorA||x.zero()),a.m_localAnchorB=x.clone(o?r.getLocalPoint(o):n.localAnchorB||x.zero()),a.m_localXAxisA=x.clone(s?i.getLocalVector(s):n.localAxisA||n.localAxis||x.neo(1,0)),a.m_localYAxisA=x.crossNumVec2(1,a.m_localXAxisA),a.m_mass=0,a.m_impulse=0,a.m_motorMass=0,a.m_motorImpulse=0,a.m_springMass=0,a.m_springImpulse=0,a.m_maxMotorTorque=n.maxMotorTorque,a.m_motorSpeed=n.motorSpeed,a.m_enableMotor=n.enableMotor,a.m_frequencyHz=n.frequencyHz,a.m_dampingRatio=n.dampingRatio,a.m_bias=0,a.m_gamma=0,a):new t(n,i,r,o,s)}return _(t,e),t.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,enableMotor:this.m_enableMotor,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA}},t._deserialize=function(e,n,i){return(e=y({},e)).bodyA=i(U,e.bodyA,n),e.bodyB=i(U,e.bodyB,n),new t(e)},t.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.setVec2(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.setVec2(e.localAnchorA),e.anchorB?this.m_localAnchorB.setVec2(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.setVec2(e.localAnchorB),e.localAxisA&&(this.m_localXAxisA.setVec2(e.localAxisA),this.m_localYAxisA.setVec2(x.crossNumVec2(1,e.localAxisA)))},t.prototype.getLocalAnchorA=function(){return this.m_localAnchorA},t.prototype.getLocalAnchorB=function(){return this.m_localAnchorB},t.prototype.getLocalAxisA=function(){return this.m_localXAxisA},t.prototype.getJointTranslation=function(){var e=this.m_bodyA,t=this.m_bodyB,n=e.getWorldPoint(this.m_localAnchorA),i=t.getWorldPoint(this.m_localAnchorB),r=x.sub(i,n),o=e.getWorldVector(this.m_localXAxisA);return x.dot(r,o)},t.prototype.getJointSpeed=function(){var e=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-e},t.prototype.isMotorEnabled=function(){return this.m_enableMotor},t.prototype.enableMotor=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e},t.prototype.setMotorSpeed=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e},t.prototype.getMotorSpeed=function(){return this.m_motorSpeed},t.prototype.setMaxMotorTorque=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=e},t.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque},t.prototype.getMotorTorque=function(e){return e*this.m_motorImpulse},t.prototype.setSpringFrequencyHz=function(e){this.m_frequencyHz=e},t.prototype.getSpringFrequencyHz=function(){return this.m_frequencyHz},t.prototype.setSpringDampingRatio=function(e){this.m_dampingRatio=e},t.prototype.getSpringDampingRatio=function(){return this.m_dampingRatio},t.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},t.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},t.prototype.getReactionForce=function(e){return x.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax).mul(e)},t.prototype.getReactionTorque=function(e){return e*this.m_motorImpulse},t.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t=this.m_invMassA,n=this.m_invMassB,i=this.m_invIA,r=this.m_invIB,o=this.m_bodyA.c_position.c,s=this.m_bodyA.c_position.a,a=this.m_bodyA.c_velocity.v,l=this.m_bodyA.c_velocity.w,c=this.m_bodyB.c_position.c,u=this.m_bodyB.c_position.a,m=this.m_bodyB.c_velocity.v,h=this.m_bodyB.c_velocity.w,d=P.neo(s),p=P.neo(u),f=P.mulVec2(d,x.sub(this.m_localAnchorA,this.m_localCenterA)),_=P.mulVec2(p,x.sub(this.m_localAnchorB,this.m_localCenterB)),y=x.zero();if(y.addCombine(1,c,1,_),y.subCombine(1,o,1,f),this.m_ay=P.mulVec2(d,this.m_localYAxisA),this.m_sAy=x.crossVec2Vec2(x.add(y,f),this.m_ay),this.m_sBy=x.crossVec2Vec2(_,this.m_ay),this.m_mass=t+n+i*this.m_sAy*this.m_sAy+r*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){this.m_ax=P.mulVec2(d,this.m_localXAxisA),this.m_sAx=x.crossVec2Vec2(x.add(y,f),this.m_ax),this.m_sBx=x.crossVec2Vec2(_,this.m_ax);var v=t+n+i*this.m_sAx*this.m_sAx+r*this.m_sBx*this.m_sBx;if(v>0){this.m_springMass=1/v;var g=x.dot(y,this.m_ax),A=2*b.PI*this.m_frequencyHz,w=2*this.m_springMass*this.m_dampingRatio*A,B=this.m_springMass*A*A,V=e.dt;this.m_gamma=V*(w+V*B),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=g*V*B*this.m_gamma,this.m_springMass=v+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=i+r,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),e.warmStarting){this.m_impulse*=e.dtRatio,this.m_springImpulse*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var C=x.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax),S=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,k=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;a.subMul(this.m_invMassA,C),l-=this.m_invIA*S,m.addMul(this.m_invMassB,C),h+=this.m_invIB*k}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.setVec2(a),this.m_bodyA.c_velocity.w=l,this.m_bodyB.c_velocity.v.setVec2(m),this.m_bodyB.c_velocity.w=h},t.prototype.solveVelocityConstraints=function(e){var t=this.m_invMassA,n=this.m_invMassB,i=this.m_invIA,r=this.m_invIB,o=this.m_bodyA.c_velocity.v,s=this.m_bodyA.c_velocity.w,a=this.m_bodyB.c_velocity.v,l=this.m_bodyB.c_velocity.w,c=x.dot(this.m_ax,a)-x.dot(this.m_ax,o)+this.m_sBx*l-this.m_sAx*s,u=-this.m_springMass*(c+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=u;var m=x.mulNumVec2(u,this.m_ax),h=u*this.m_sAx,d=u*this.m_sBx;o.subMul(t,m),s-=i*h,a.addMul(n,m);var c=(l+=r*d)-s-this.m_motorSpeed,u=-this.m_motorMass*c,p=this.m_motorImpulse,f=e.dt*this.m_maxMotorTorque;this.m_motorImpulse=b.clamp(this.m_motorImpulse+u,-f,f),s-=i*(u=this.m_motorImpulse-p),l+=r*u;var c=x.dot(this.m_ay,a)-x.dot(this.m_ay,o)+this.m_sBy*l-this.m_sAy*s,u=-this.m_mass*c;this.m_impulse+=u;var m=x.mulNumVec2(u,this.m_ay),h=u*this.m_sAy,d=u*this.m_sBy;o.subMul(t,m),s-=i*h,a.addMul(n,m),l+=r*d,this.m_bodyA.c_velocity.v.setVec2(o),this.m_bodyA.c_velocity.w=s,this.m_bodyB.c_velocity.v.setVec2(a),this.m_bodyB.c_velocity.w=l},t.prototype.solvePositionConstraints=function(e){var t,n=this.m_bodyA.c_position.c,i=this.m_bodyA.c_position.a,r=this.m_bodyB.c_position.c,o=this.m_bodyB.c_position.a,s=P.neo(i),a=P.neo(o),l=P.mulVec2(s,x.sub(this.m_localAnchorA,this.m_localCenterA)),c=P.mulVec2(a,x.sub(this.m_localAnchorB,this.m_localCenterB)),u=x.zero();u.addCombine(1,r,1,c),u.subCombine(1,n,1,l);var m=P.mulVec2(s,this.m_localYAxisA),h=x.crossVec2Vec2(x.add(u,l),m),d=x.crossVec2Vec2(c,m),p=x.dot(u,m),f=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy;t=0!=f?-p/f:0;var _=x.mulNumVec2(t,m),y=t*h,v=t*d;return n.subMul(this.m_invMassA,_),i-=this.m_invIA*y,r.addMul(this.m_invMassB,_),o+=this.m_invIB*v,this.m_bodyA.c_position.c.setVec2(n),this.m_bodyA.c_position.a=i,this.m_bodyB.c_position.c.setVec2(r),this.m_bodyB.c_position.a=o,b.abs(p)<=w.linearSlop},t.TYPE="wheel-joint",t}(ed),eG=0;function e0(e){var t,n=(e=e||{}).rootClass||ew,i=e.preSerialize||function(e){return e},r=e.postSerialize||function(e,t){return e},o=e.preDeserialize||function(e){return e},s=e.postDeserialize||function(e,t){return e},a={World:ew,Body:U,Joint:ed,Fixture:F,Shape:T},l=y({Vec2:x,Vec3:eB},a),c=((t={})[U.STATIC]=U,t[U.DYNAMIC]=U,t[U.KINEMATIC]=U,t[eC.TYPE]=eC,t[ek.TYPE]=ek,t[eV.TYPE]=eV,t[eS.TYPE]=eS,t[eP.TYPE]=eP,t[ez.TYPE]=ez,t[eN.TYPE]=eN,t[eD.TYPE]=eD,t[eq.TYPE]=eq,t[eW.TYPE]=eW,t[ej.TYPE]=ej,t[eY.TYPE]=eY,t[eE.TYPE]=eE,t[eJ.TYPE]=eJ,t[eK.TYPE]=eK,t[eX.TYPE]=eX,t);this.toJson=function(e){for(var t=[],n=[e],o={};n.length;){var s=n.shift(),l=function e(s,l){if("object"!=typeof s||null===s)return s;if("function"==typeof s._serialize){var c,u;if(s!==l){for(var m in a)if(s instanceof a[m])return function(e,i){if(e.__sid=e.__sid||++eG,!o[e.__sid]){n.push(e);var r=t.length+n.length;o[e.__sid]={refIndex:r,refType:i}}return o[e.__sid]}(s,m)}u=(c=i(c=s))._serialize(),s=u=r(u,c)}if(Array.isArray(s)){for(var h=[],d=0;d<s.length;d++)h[d]=e(s[d]);s=h}else{var h={};for(var d in s)s.hasOwnProperty(d)&&(h[d]=e(s[d]));s=h}return s}(s,s);t.push(l)}return t},this.fromJson=function(e){var t={};function i(e,t,n){var i,a,l=(i=t,(a=e)&&a._deserialize||(a=c[i.type]),a&&a._deserialize);if(l)return s(l(t=o(t),n,r),t)}function r(n,r,o){if(!r.refIndex)return n&&n._deserialize&&i(n,r,o);n=l[r.refType]||n;var s=r.refIndex;if(!t[s]){var a=i(n,e[s],o);t[s]=a}return t[s]}return n._deserialize(e[0],null,r)}}var e1=new e0;function e2(e,t,n,i,r){e.pointCount=0;var o=M.mulVec2(n,t.m_p),s=M.mulVec2(r,i.m_p),a=x.distanceSquared(s,o),u=t.m_radius+i.m_radius;a>u*u||(e.type=l.e_circles,e.localPoint.setVec2(t.m_p),e.localNormal.setZero(),e.pointCount=1,e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex)}function e3(e,t,n,i,r){e.pointCount=0;var o=M.mulTVec2(n,M.mulVec2(r,i.m_p)),s=t.m_vertex1,a=t.m_vertex2,u=x.sub(a,s),m=x.dot(u,x.sub(a,o)),h=x.dot(u,x.sub(o,s)),d=t.m_radius+i.m_radius;if(h<=0){var p=x.clone(s),f=x.sub(o,p);if(x.dot(f,f)>d*d)return;if(t.m_hasVertex0){var _=t.m_vertex0,y=x.sub(s,_);if(x.dot(y,x.sub(s,o))>0)return}e.type=l.e_circles,e.localNormal.setZero(),e.localPoint.setVec2(p),e.pointCount=1,e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex;return}if(m<=0){var v=x.clone(a),g=x.sub(o,v);if(x.dot(g,g)>d*d)return;if(t.m_hasVertex3){var b=t.m_vertex3,A=x.sub(b,a);if(x.dot(A,x.sub(o,a))>0)return}e.type=l.e_circles,e.localNormal.setZero(),e.localPoint.setVec2(v),e.pointCount=1,e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=1,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex;return}var w=x.dot(u,u),B=x.combine(m/w,s,h/w,a),V=x.sub(o,B);if(!(x.dot(V,V)>d*d)){var C=x.neo(-u.y,u.x);0>x.dot(C,x.sub(o,s))&&C.setNum(-C.x,-C.y),C.normalize(),e.type=l.e_faceA,e.localNormal=C,e.localPoint.setVec2(s),e.pointCount=1,e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_face,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex}}function e4(e,t,n,i,r){for(var o=e.m_count,s=n.m_count,a=e.m_normals,l=e.m_vertices,c=n.m_vertices,u=M.mulTXf(i,t),m=0,h=-1/0,d=0;d<o;++d){for(var p=P.mulVec2(u.q,a[d]),f=M.mulVec2(u,l[d]),_=1/0,y=0;y<s;++y){var v=x.dot(p,c[y])-x.dot(p,f);v<_&&(_=v)}_>h&&(h=_,m=d)}r.maxSeparation=h,r.bestIndex=m}e0.toJson=e1.toJson,e0.fromJson=e1.fromJson,em.addType(eP.TYPE,eP.TYPE,function(e,t,n,i,r,o,s){e2(e,n.getShape(),t,o.getShape(),r)}),em.addType(eV.TYPE,eP.TYPE,function(e,t,n,i,r,o,s){e3(e,n.getShape(),t,o.getShape(),r)}),em.addType(eC.TYPE,eP.TYPE,function(e,t,n,i,r,o,s){var a=n.getShape(),l=new eV;a.getChildEdge(l,i),e3(e,l,t,o.getShape(),r)}),em.addType(eS.TYPE,eS.TYPE,function(e,t,n,i,r,o,s){e5(e,n.getShape(),t,o.getShape(),r)});var e6={maxSeparation:0,bestIndex:0};function e5(e,t,n,i,r){e.pointCount=0;var o,s,a,u,m,h,d=t.m_radius+i.m_radius;e4(t,n,i,r,e6);var p=e6.bestIndex,f=e6.maxSeparation;if(!(f>d)){e4(i,r,t,n,e6);var _=e6.bestIndex,y=e6.maxSeparation;if(!(y>d)){y>f+.1*w.linearSlop?(o=i,s=t,a=r,u=n,m=_,e.type=l.e_faceB,h=1):(o=t,s=i,a=n,u=r,m=p,e.type=l.e_faceA,h=0);var v=[new H,new H];!function(e,t,n,i,r,o){for(var s=r.m_count,a=r.m_vertices,l=r.m_normals,u=P.mulTVec2(o.q,P.mulVec2(n.q,t.m_normals[i])),m=0,h=1/0,d=0;d<s;++d){var p=x.dot(u,l[d]);p<h&&(h=p,m=d)}var f=m,_=f+1<s?f+1:0;e[0].v=M.mulVec2(o,a[f]),e[0].id.cf.indexA=i,e[0].id.cf.indexB=f,e[0].id.cf.typeA=c.e_face,e[0].id.cf.typeB=c.e_vertex,e[1].v=M.mulVec2(o,a[_]),e[1].id.cf.indexA=i,e[1].id.cf.indexB=_,e[1].id.cf.typeA=c.e_face,e[1].id.cf.typeB=c.e_vertex}(v,o,a,m,s,u);var g=o.m_count,b=o.m_vertices,A=m,B=m+1<g?m+1:0,V=b[A],C=b[B],S=x.sub(C,V);S.normalize();var k=x.crossVec2Num(S,1),z=x.combine(.5,V,.5,C),I=P.mulVec2(a.q,S),N=x.crossVec2Num(I,1);V=M.mulVec2(a,V),C=M.mulVec2(a,C);var T=x.dot(N,V),L=-x.dot(I,V)+d,E=x.dot(I,C)+d,F=[new H,new H],j=[new H,new H];if(!(2>X(F,v,x.neg(I),L,A))&&!(2>X(j,F,I,E,B))){e.localNormal=k,e.localPoint=z;for(var R=0,D=0;D<j.length;++D)if(x.dot(N,j[D].v)-T<=d){var O=e.points[R];if(O.localPoint.setVec2(M.mulTVec2(u,j[D].v)),O.id=j[D].id,h){var q=O.id.cf,U=q.indexA,W=q.indexB,Y=q.typeA,$=q.typeB;q.indexA=W,q.indexB=U,q.typeA=$,q.typeB=Y}++R}e.pointCount=R}}}}function e8(e,t,n,i,r){e.pointCount=0;for(var o=M.mulVec2(r,i.m_p),s=M.mulTVec2(n,o),a=0,u=-1/0,m=t.m_radius+i.m_radius,h=t.m_count,d=t.m_vertices,p=t.m_normals,f=0;f<h;++f){var _=x.dot(p[f],x.sub(s,d[f]));if(_>m)return;_>u&&(u=_,a=f)}var y=a,v=d[y],g=d[y+1<h?y+1:0];if(u<b.EPSILON){e.pointCount=1,e.type=l.e_faceA,e.localNormal.setVec2(p[a]),e.localPoint.setCombine(.5,v,.5,g),e.points[0].localPoint=i.m_p,e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex;return}var A=x.dot(x.sub(s,v),x.sub(g,v)),w=x.dot(x.sub(s,g),x.sub(v,g));if(A<=0){if(x.distanceSquared(s,v)>m*m)return;e.pointCount=1,e.type=l.e_faceA,e.localNormal.setCombine(1,s,-1,v),e.localNormal.normalize(),e.localPoint=v,e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex}else if(w<=0){if(x.distanceSquared(s,g)>m*m)return;e.pointCount=1,e.type=l.e_faceA,e.localNormal.setCombine(1,s,-1,g),e.localNormal.normalize(),e.localPoint.setVec2(g),e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex}else{var B=x.mid(v,g);if(x.dot(s,p[y])-x.dot(B,p[y])>m)return;e.pointCount=1,e.type=l.e_faceA,e.localNormal.setVec2(p[y]),e.localPoint.setVec2(B),e.points[0].localPoint.setVec2(i.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=c.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=c.e_vertex}}em.addType(eS.TYPE,eP.TYPE,function(e,t,n,i,r,o,s){e8(e,n.getShape(),t,o.getShape(),r)}),em.addType(eV.TYPE,eS.TYPE,function(e,t,n,i,r,o,s){ti(e,n.getShape(),t,o.getShape(),r)}),em.addType(eC.TYPE,eS.TYPE,function(e,t,n,i,r,o,s){var a=n.getShape(),l=new eV;a.getChildEdge(l,i),ti(e,l,t,o.getShape(),r)}),(s=d||(d={}))[s.e_unknown=-1]="e_unknown",s[s.e_edgeA=1]="e_edgeA",s[s.e_edgeB=2]="e_edgeB",(a=p||(p={}))[a.e_isolated=0]="e_isolated",a[a.e_concave=1]="e_concave",a[a.e_convex=2]="e_convex";var e9=function(){},e7=new e9,te=new e9,tt=new function(){this.vertices=[],this.normals=[],this.count=0},tn=new function(){this.normal=x.zero(),this.sideNormal1=x.zero(),this.sideNormal2=x.zero()};function ti(e,t,n,i,r){var o,s,a,u,m=M.mulTXf(n,r),h=M.mulVec2(m,i.m_centroid),p=t.m_vertex0,f=t.m_vertex1,_=t.m_vertex2,y=t.m_vertex3,v=t.m_hasVertex0,g=t.m_hasVertex3,A=x.sub(_,f);A.normalize();var B=x.neo(A.y,-A.x),V=x.dot(B,x.sub(h,f)),C=0,S=0,k=!1,z=!1;if(v){var I=x.sub(f,p);I.normalize(),o=x.neo(I.y,-I.x),k=x.crossVec2Vec2(I,A)>=0,C=x.dot(o,h)-x.dot(o,p)}if(g){var N=x.sub(y,_);N.normalize(),s=x.neo(N.y,-N.x),z=x.crossVec2Vec2(A,N)>0,S=x.dot(s,h)-x.dot(s,_)}var T=x.zero(),L=x.zero(),E=x.zero();v&&g?k&&z?(a=C>=0||V>=0||S>=0)?(T.setVec2(B),L.setVec2(o),E.setVec2(s)):(T.setMul(-1,B),L.setMul(-1,B),E.setMul(-1,B)):k?(a=C>=0||V>=0&&S>=0)?(T.setVec2(B),L.setVec2(o),E.setVec2(B)):(T.setMul(-1,B),L.setMul(-1,s),E.setMul(-1,B)):z?(a=S>=0||C>=0&&V>=0)?(T.setVec2(B),L.setVec2(B),E.setVec2(s)):(T.setMul(-1,B),L.setMul(-1,B),E.setMul(-1,o)):(a=C>=0&&V>=0&&S>=0)?(T.setVec2(B),L.setVec2(B),E.setVec2(B)):(T.setMul(-1,B),L.setMul(-1,s),E.setMul(-1,o)):v?k?((a=C>=0||V>=0)?(T.setVec2(B),L.setVec2(o)):(T.setMul(-1,B),L.setVec2(B)),E.setMul(-1,B)):(a=C>=0&&V>=0)?(T.setVec2(B),L.setVec2(B),E.setMul(-1,B)):(T.setMul(-1,B),L.setVec2(B),E.setMul(-1,o)):g?z?(a=V>=0||S>=0)?(T.setVec2(B),L.setMul(-1,B),E.setVec2(s)):(T.setMul(-1,B),L.setMul(-1,B),E.setVec2(B)):((a=V>=0&&S>=0)?(T.setVec2(B),L.setMul(-1,B)):(T.setMul(-1,B),L.setMul(-1,s)),E.setVec2(B)):(a=V>=0)?(T.setVec2(B),L.setMul(-1,B),E.setMul(-1,B)):(T.setMul(-1,B),L.setVec2(B),E.setVec2(B)),tt.count=i.m_count;for(var F=0;F<i.m_count;++F)tt.vertices[F]=M.mulVec2(m,i.m_vertices[F]),tt.normals[F]=P.mulVec2(m.q,i.m_normals[F]);var j=2*w.polygonRadius;e.pointCount=0,e7.type=d.e_edgeA,e7.index=a?0:1,e7.separation=1/0;for(var F=0;F<tt.count;++F){var R=x.dot(T,x.sub(tt.vertices[F],f));R<e7.separation&&(e7.separation=R)}if(e7.type!=d.e_unknown&&!(e7.separation>j)){te.type=d.e_unknown,te.index=-1,te.separation=-1/0;for(var D=x.neo(-T.y,T.x),F=0;F<tt.count;++F){var O=x.neg(tt.normals[F]),q=x.dot(O,x.sub(tt.vertices[F],f)),U=x.dot(O,x.sub(tt.vertices[F],_)),R=b.min(q,U);if(R>j){te.type=d.e_edgeB,te.index=F,te.separation=R;break}if(x.dot(O,D)>=0){if(x.dot(x.sub(O,E),T)<-w.angularSlop)continue}else if(x.dot(x.sub(O,L),T)<-w.angularSlop)continue;R>te.separation&&(te.type=d.e_edgeB,te.index=F,te.separation=R)}if(te.type==d.e_unknown||!(te.separation>j)){u=te.type==d.e_unknown?e7:te.separation>.98*e7.separation+.001?te:e7;var W=[new H,new H];if(u.type==d.e_edgeA){e.type=l.e_faceA;for(var Y=0,$=x.dot(T,tt.normals[0]),F=1;F<tt.count;++F){var J=x.dot(T,tt.normals[F]);J<$&&($=J,Y=F)}var Q=Y,K=Q+1<tt.count?Q+1:0;W[0].v=tt.vertices[Q],W[0].id.cf.indexA=0,W[0].id.cf.indexB=Q,W[0].id.cf.typeA=c.e_face,W[0].id.cf.typeB=c.e_vertex,W[1].v=tt.vertices[K],W[1].id.cf.indexA=0,W[1].id.cf.indexB=K,W[1].id.cf.typeA=c.e_face,W[1].id.cf.typeB=c.e_vertex,a?(tn.i1=0,tn.i2=1,tn.v1=f,tn.v2=_,tn.normal.setVec2(B)):(tn.i1=1,tn.i2=0,tn.v1=_,tn.v2=f,tn.normal.setMul(-1,B))}else e.type=l.e_faceB,W[0].v=f,W[0].id.cf.indexA=0,W[0].id.cf.indexB=u.index,W[0].id.cf.typeA=c.e_vertex,W[0].id.cf.typeB=c.e_face,W[1].v=_,W[1].id.cf.indexA=0,W[1].id.cf.indexB=u.index,W[1].id.cf.typeA=c.e_vertex,W[1].id.cf.typeB=c.e_face,tn.i1=u.index,tn.i2=tn.i1+1<tt.count?tn.i1+1:0,tn.v1=tt.vertices[tn.i1],tn.v2=tt.vertices[tn.i2],tn.normal.setVec2(tt.normals[tn.i1]);tn.sideNormal1.setNum(tn.normal.y,-tn.normal.x),tn.sideNormal2.setMul(-1,tn.sideNormal1),tn.sideOffset1=x.dot(tn.sideNormal1,tn.v1),tn.sideOffset2=x.dot(tn.sideNormal2,tn.v2);var Z=[new H,new H],G=[new H,new H];if(!(X(Z,W,tn.sideNormal1,tn.sideOffset1,tn.i1)<w.maxManifoldPoints)&&!(X(G,Z,tn.sideNormal2,tn.sideOffset2,tn.i2)<w.maxManifoldPoints)){u.type==d.e_edgeA?(e.localNormal=x.clone(tn.normal),e.localPoint=x.clone(tn.v1)):(e.localNormal=x.clone(i.m_normals[tn.i1]),e.localPoint=x.clone(i.m_vertices[tn.i1]));for(var ee=0,F=0;F<w.maxManifoldPoints;++F)if(x.dot(tn.normal,x.sub(G[F].v,tn.v1))<=j){var et=e.points[ee];u.type==d.e_edgeA?(et.localPoint=M.mulTVec2(m,G[F].v),et.id=G[F].id):(et.localPoint=G[F].v,et.id.cf.typeA=G[F].id.cf.typeB,et.id.cf.typeB=G[F].id.cf.typeA,et.id.cf.indexA=G[F].id.cf.indexB,et.id.cf.indexB=G[F].id.cf.indexA),++ee}e.pointCount=ee}}}}var tr={};tr.CollidePolygons=e5,tr.Settings=w,tr.Sweep=z,tr.Manifold=Y,tr.Distance=ei,tr.TimeOfImpact=e_,tr.DynamicTree=C,tr.stats=G,ex.TimeStep=ev,ei.testOverlap=ea,ei.Input=ee,ei.Output=et,ei.Proxy=er,ei.Cache=en,e_.Input=ep,e_.Output=ef,e.AABB=A,e.Body=U,e.Box=ek,e.Chain=eC,e.Circle=eP,e.CollideCircles=e2,e.CollideEdgeCircle=e3,e.CollideEdgePolygon=ti,e.CollidePolygonCircle=e8,e.CollidePolygons=e5,e.Contact=em,e.Distance=ei,e.DistanceJoint=ez,e.DynamicTree=C,e.Edge=eV,e.Fixture=F,e.FrictionJoint=eN,e.GearJoint=eD,e.Joint=ed,e.Manifold=Y,e.Mat22=W,e.Mat33=eT,e.Math=b,e.MotorJoint=eq,e.MouseJoint=eW,e.Polygon=eS,e.PrismaticJoint=ej,e.PulleyJoint=eY,e.RevoluteJoint=eE,e.RopeJoint=eJ,e.Rot=P,e.Serializer=e0,e.Settings=w,e.Shape=T,e.Sweep=z,e.TimeOfImpact=e_,e.Transform=M,e.Vec2=x,e.Vec3=eB,e.WeldJoint=eK,e.WheelJoint=eX,e.World=ew,e.internal=tr,Object.defineProperty(e,"__esModule",{value:!0})}(eO);class eq{constructor(e,t,n){this.world=e,this.width=t-48,this.height=n,this.createBoundary(24,-n-63,this.width,1),this.createBoundary(24,-63,this.width,1),this.createBoundary(24,-n-63,1,this.height),this.createBoundary(t-24,-n-63,1,this.height)}createBoundary(e,t,n,i){let r=this.world.createBody({type:"static",position:(0,eO.Vec2)(e+n/2,t+i/2)});r.createFixture((0,eO.Box)(n/2,i/2),{density:0,restitution:1,friction:0})}}var eU={};eU=new URL(x("27Lyk").resolve("exg5v"),import.meta.url).toString();class eW{constructor(e){this.boosters=[],this.bumpers=[],this.bumperRects=[],this.balls=[],this.bgImage=new Image,this.bgImage.src=t(eU),this.bgImage.onload=()=>{console.log("Background image loaded successfully.")},this.canvas=e,this.context=this.canvas.getContext("2d"),this.init()}addBooster(e){this.boosters.push(e)}addBumper(e){this.bumpers.push(e)}addBumperRect(e){this.bumperRects.push(e)}addBall(e){this.balls.push(e)}init(){this.canvas.width=eE,this.canvas.height=eF,this.context.translate(0,eF)}render(e,t){this.context.fillStyle="blue",this.context.save(),this.context.scale(1,1),this.context.clearRect(0,-5e3,this.canvas.width,5e3),t.renderScene(this.context,()=>{this.renderBG(),this.renderMapWall(e),this.renderBoosters(),this.renderBumpers(),this.renderBalls(),this.renderBumperRects()}),this.context.restore()}renderBG(){let e=eE-48,t=10*e,n=-63-t;this.context.drawImage(this.bgImage,24,n,e,t)}renderBumpers(){for(let e of this.bumpers){let t=e.body.getPosition(),n=e.radius,i=e.image,r=t.x-n,o=t.y-n;this.context.fillStyle="#000000",this.context.beginPath(),this.context.arc(t.x,t.y,n,0,2*Math.PI),this.context.fill(),this.context.drawImage(i,r,o,2*n,2*n)}}renderBumperRects(){for(let e of this.bumperRects){let t=e.body.getPosition(),n=e.width,i=e.height,r=e.image,o=t.x-n/2,s=t.y;this.context.drawImage(r,o,s,n,i)}}renderBoosters(){for(let e of this.boosters){let t=e.body.getPosition(),n=e.width,i=e.height,r=e.image,o=t.x-n/2,s=t.y-i/2;this.context.drawImage(r,o,s,n,i)}}renderBalls(){for(let e of this.balls)e.draw(this.context)}renderMapWall(e){let t=-e.height-63;this.context.strokeStyle="#ffffff",this.context.lineWidth=2,this.context.beginPath(),this.context.moveTo(24,t),this.context.lineTo(24+e.width,t),this.context.stroke(),this.context.beginPath(),this.context.moveTo(24,-63),this.context.lineTo(24+e.width,-63),this.context.stroke(),this.context.beginPath(),this.context.moveTo(24,t),this.context.lineTo(24,-63),this.context.stroke(),this.context.beginPath(),this.context.moveTo(24+e.width,t),this.context.lineTo(24+e.width,-63),this.context.stroke(),this.context.beginPath(),this.context.moveTo(24,-98),this.context.lineTo(24+e.width,-98),this.context.stroke()}}var eH={};eH=new URL(x("27Lyk").resolve("62Hkc"),import.meta.url).toString();class eY{constructor(e,n,i,r){this.body=e.createBody({type:"static",position:(0,eO.Vec2)(n,i)}),this.radius=r,this.body.createFixture((0,eO.Circle)(r),{density:1,friction:.3,restitution:1}),this.image=new Image,this.image.src=t(eH),this.body.setUserData(this)}}var e$={};e$=new URL(x("27Lyk").resolve("cHw0O"),import.meta.url).toString();class eJ{constructor(e,n,i,r,o,s){this.body=e.createBody({type:"static",position:(0,eO.Vec2)(n,i)}),this.width=r,this.height=o,this.body.createFixture((0,eO.Box)(r,o),{isSensor:!0}),this.boostVector=s,this.image=new Image,this.image.src=t(e$),this.body.setUserData(this)}}var eQ={};eQ=new URL(x("27Lyk").resolve("d1Goq"),import.meta.url).toString();class eK{constructor(e,n,i,r,o){this.body=e.createBody({type:"static",position:(0,eO.Vec2)(n,i)}),this.width=r,this.height=o,this.body.createFixture((0,eO.Box)(r,o),{density:1,friction:.3,restitution:.8}),this.image=new Image,this.image.src=t(eQ),this.body.setUserData(this)}}function eZ(e,t){return Math.random()*(t-e)+e}function eX(e,t,n){for(let i of t)if((0,eO.Vec2).distance(e,i.body.getPosition())<n)return!1;return!0}class eG{get zoom(){return this._zoom}set zoom(e){this._targetZoom=e}get x(){return this._position.x}set x(e){this._targetPosition.x=e}get y(){return this._position.y}set y(e){this._targetPosition.y=e}get position(){return this._position}setPosition(e,t=!1){return t?this._position.set(e):this._targetPosition.set(e)}update({balls:e,needToZoom:t,targetIndex:n}){this._calcTargetPositionAndZoom(e,t,n),this._position.x=this._interpolation(this.x,this._targetPosition.x),this._position.y=this._interpolation(this.y,this._targetPosition.y),this._zoom=this._interpolation(this._zoom,this._targetZoom)}_calcTargetPositionAndZoom(e,t,n){if(e.length>0){let i=e[n]?e[n]:e[0];Math.abs(i.position.y)<eF/2+30?this.setPosition(new eO.Vec2(eE/2,-eF/2)):Math.abs(i.position.y)>ej-300?this.setPosition(new eO.Vec2(eE/2,-(ej-300))):this.setPosition(new eO.Vec2(eE/2,i.position.y)),t||(this.zoom=1)}else this.setPosition(new eO.Vec2(0,0)),this.zoom=1}_interpolation(e,t){let n=t-e;return 1>Math.abs(n)?t:e+n/10}renderScene(e,t){let n=2*this._zoom;e.save(),e.translate(-this.x*this._zoom,-this.y*this._zoom-eF),e.translate(e.canvas.width/n,e.canvas.height/n),t(e),e.restore()}constructor(){this._position=new eO.Vec2(eE/2,-eF/2),this._targetPosition=new eO.Vec2,this._zoom=1,this._targetZoom=1}}class e0{get position(){return this.body.getPosition()}constructor(e,t,n,i,r,o,s){this.world=e,this.x=t,this.y=n,this.radius=i,this.speed=r,this.color=o,this.index=s,this.velocity=1,this.damping=.3,this.body=this.world.createDynamicBody(eO.Vec2(t,n)),this.body.createFixture(eO.Circle(i),{density:1,restitution:1,friction:0}),this.body.setLinearVelocity(eO.Vec2(0,r)),this.ballColor=o,this.ballIndex=s.toString()}draw(e){let t=this.body.getPosition(),n=this.body.getFixtureList().getShape();e.beginPath(),e.arc(t.x,t.y,n.getRadius(),0,2*Math.PI),e.fillStyle=this.ballColor,e.fill(),e.strokeStyle="white",e.lineWidth=2,e.stroke(),e.closePath(),e.font="15px DOSMyungjo-Medium",e.textAlign="center",e.textBaseline="middle",e.fillStyle="white",e.fillText("P"+this.ballIndex,t.x,t.y)}}class e1{constructor(e,t,n,i){if(this.camera=new eG,this.ballsOnBoosters=new Set,this.setSortedRankedBalls=i,this.world=new eO.World,this.renderer=new eW(e),this.map=new eq(this.world,e.width,ej),n){let e=0;for(let t of n){e++;let i=eE/2-((n.length+1)/2-e)*40,r=new e0(this.world,i,-99,10,-t.ballSpeed,t.color,e);this.renderer.addBall(r)}}this.setContact();let{bumpers:r,boosters:o,bumperRects:s}=function(e,t,n){let i=[];var r=[];for(let t=0;t<30;t++){let t=0,n=!1;for(;t<10&&!n;){let o=eZ(39,eE-24-15),s=eZ(-ej+63,-363);if(eX((0,eO.Vec2)(o,s),i,50)){let t=eZ(20,30),a=new eY(e,o,s,t);r.push(a),i.push(a),n=!0}t++}}var o=[];let s=1*eE/2,a=-ej-63,l=1*eE-24;o.push(new eK(e,s,a,l,80));var c=[];for(let t=0;t<30;t++){let t=0,n=!1;for(;t<10&&!n;){let r=eZ(34,eE-24-10),o=eZ(-ej+63,-63);if(eX((0,eO.Vec2)(r,o),i,50)){let t=new eO.Vec2(eZ(-1,1),eZ(-1,1)),s=new eJ(e,r,o,20,20,t);c.push(s),i.push(s),n=!0}t++}}return{bumpers:r,boosters:c,bumperRects:o}}(this.world,0,0);for(let e of o)this.renderer.addBooster(e);for(let e of r)this.renderer.addBumper(e);for(let e of s)this.renderer.addBumperRect(e);this.updateWinner(),this.renderer.render(this.map,this.camera)}setContact(){this.world.on("begin-contact",e=>{let t=e.getFixtureA(),n=e.getFixtureB();for(let e of this.renderer.boosters)if(t===e.body.getFixtureList()||n===e.body.getFixtureList()){let i=t===e.body.getFixtureList()?n.getBody():t.getBody();this.ballsOnBoosters.add(i)}for(let i of this.renderer.bumpers)if(t===i.body.getFixtureList()||n===i.body.getFixtureList()){let r=t===i.body.getFixtureList()?n.getBody():t.getBody(),o=e.getManifold().points[0].localPoint,s=r.getWorldPoint(o).sub(i.body.getWorldCenter());s.normalize(),r.setLinearVelocity(s.mul(1.2*r.getLinearVelocity().length()))}for(let i of this.renderer.bumperRects)if(t===i.body.getFixtureList()||n===i.body.getFixtureList()){let r=t===i.body.getFixtureList()?n.getBody():t.getBody(),o=e.getManifold().points[0].localPoint,s=r.getWorldPoint(o).sub(i.body.getWorldCenter());s.normalize(),r.setLinearVelocity(s.mul(1.2*r.getLinearVelocity().length()))}}),this.world.on("end-contact",e=>{let t=e.getFixtureA(),n=e.getFixtureB();for(let e of this.renderer.boosters)if(t===e.body.getFixtureList()||n===e.body.getFixtureList()){let i=t===e.body.getFixtureList()?n.getBody():t.getBody();this.ballsOnBoosters.delete(i)}})}update(){for(let e of(this.camera.update({balls:this.renderer.balls,needToZoom:!0,targetIndex:this.rankedBalls[0].index}),this.ballsOnBoosters))e.applyForce((0,eO.Vec2)(0,-80),e.getWorldCenter());this.renderer.render(this.map,this.camera),this.world.step(1),this.animationId=requestAnimationFrame(()=>{this.updateWinner(),this.update()})}updateWinner(){this.map&&(this.sortedRankedBalls=this.renderer.balls.map((e,t)=>({index:t,distance:Math.abs(ej+e.position.y)})).sort((e,t)=>e.distance-t.distance).map((e,t)=>({...e,rank:t+1})),this.sortedRankedBalls.length>0&&(this.rankedBalls=this.sortedRankedBalls,this.setSortedRankedBalls(this.sortedRankedBalls)))}stopUpdate(){cancelAnimationFrame(this.animationId)}}const e2=()=>{let e=(0,V.useRef)(null),t=X(),n=t.state,i=["1st","2nd","3rd","4th","5th","6th","7th","8th"],[r,o]=(0,V.useState)(null),[s,a]=(0,V.useState)([]),[l,c]=(0,V.useState)("32px"),[u,m]=(0,V.useState)("준비하시고..."),[h,d]=(0,V.useState)(20);return(0,V.useEffect)(()=>{let e=setInterval(()=>{m(t=>"준비하시고..."===t?(c("130px"),3):3===t?2:2===t?1:1===t?"Go!":("Go!"===t&&(m(""),clearInterval(e)),t))},1e3);return()=>clearInterval(e)},[]),(0,V.useEffect)(()=>{if(e.current){let t=new e1(e.current,n.ballSpeeds,n.players,a);o(t)}},[]),(0,V.useEffect)(()=>{""===u&&r&&r.update();let e=setInterval(()=>{d(t=>t<=1?(clearInterval(e),r.stopUpdate(),0):t-1)},1e3);return()=>clearInterval(e)},[u,r]),(0,A.jsxs)("div",{className:"game-container",children:[(0,A.jsx)("canvas",{ref:e}),(0,A.jsx)("div",{className:"gradient"}),(0,A.jsxs)("div",{className:"top-bar",children:[(0,A.jsx)("div",{className:"left-corner-title",children:"gci.js"}),(0,A.jsx)("div",{className:"right-corner-title",children:"2023"})]}),(0,A.jsx)("div",{className:"ranking",children:s.map((e,t)=>(0,A.jsxs)("div",{className:"rank",children:[i[t],": P",e.index+1]},t))}),(0,A.jsxs)("div",{className:"time-left",children:["Time Left: ",h,"s"]}),u&&(0,A.jsx)("div",{className:"countdown",style:{fontSize:l},children:u})]})},e3=document.getElementById("app"),e4=t(w).createRoot(e3);e4.render((0,A.jsx)(()=>(0,A.jsx)(ed,{basename:"/alkagi",children:(0,A.jsxs)(ea,{children:[(0,A.jsx)(eo,{path:"/",element:(0,A.jsx)(eB,{})}),(0,A.jsx)(eo,{path:"/info",element:(0,A.jsx)(eV,{})}),(0,A.jsx)(eo,{path:"/playerSelect",element:(0,A.jsx)(eD,{})}),(0,A.jsx)(eo,{path:"/playGame",element:(0,A.jsx)(e2,{})})]})}),{}));
//# sourceMappingURL=index.836cc9a1.js.map
